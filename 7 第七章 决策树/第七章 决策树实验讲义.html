<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººå·¥æ™ºèƒ½è¯¾ç¨‹å®éªŒè®²ä¹‰ï¼šå†³ç­–æ ‘å®éªŒ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --light-bg: #f8f9fa;
            --dark-bg: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
        }

        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
            text-align: center;
        }

        .hero-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-section p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .section-header {
            background: linear-gradient(135deg, var(--light-bg), #e9ecef);
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-left: 5px solid var(--secondary-color);
        }

        .section-header h2 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .card {
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 2rem;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .card-header {
            background: linear-gradient(135deg, var(--secondary-color), #5dade2);
            color: white;
            font-weight: bold;
            border-bottom: none;
        }

        .code-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--secondary-color);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--success-color), #2ecc71);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            color: white;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
            color: white;
        }

        .result-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin: 1rem 0;
        }

        .result-images {
            margin-top: 20px;
        }
        
        .result-card {
             background: white;
             border-radius: 10px;
             padding: 15px;
             box-shadow: 0 2px 10px rgba(0,0,0,0.1);
             margin-bottom: 15px;
             text-align: center;
         }
         
         .result-image {
             max-width: 100%;
             height: auto;
             border-radius: 8px;
             box-shadow: 0 2px 8px rgba(0,0,0,0.1);
             margin: 10px 0;
         }

        .interactive-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .parameter-control {
            margin: 1rem 0;
        }

        .parameter-control label {
            font-weight: bold;
            color: var(--primary-color);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--secondary-color), #5dade2);
            border: none;
            border-radius: 25px;
            padding: 0.5rem 2rem;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .algorithm-comparison {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .comparison-table {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
            text-align: center;
        }

        .comparison-table td {
            text-align: center;
            vertical-align: middle;
        }

        .feature-highlight {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border-left: 4px solid var(--accent-color);
        }

        .math-formula {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
            border: 2px solid #e9ecef;
        }

        .footer {
            background: var(--dark-bg);
            color: white;
            padding: 2rem 0;
            margin-top: 4rem;
        }

        .nav-pills .nav-link.active {
            background: var(--secondary-color);
        }

        #boundaryCanvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .metric-card {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .metric-label {
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
    <div style="
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
    ">
        <a href="../index.html" style="
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.9);
            color: #667eea;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        " onmouseover="this.style.background='white'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.9)'; this.style.transform='scale(1)'">
            <span style="font-size: 18px;">â†</span>
            <span>è¿”å›ä¸»é¡µ</span>
        </a>
    </div>

    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-tree"></i> å†³ç­–æ ‘å®éªŒæ•™å­¦å¹³å°
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#principles">ç®—æ³•åŸç†</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#implementation">ä»£ç å®ç°</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#interactive">äº¤äº’æ¼”ç¤º</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#case-study">å®ä¾‹æ‹“å±•</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero-section">
        <div class="container">
            <h1><i class="fas fa-tree"></i> å†³ç­–æ ‘ç®—æ³•å®éªŒ</h1>
            <p class="lead">æ·±å…¥ç†è§£å†³ç­–æ ‘ç®—æ³•åŸç†ï¼ŒæŒæ¡åˆ†ç±»ä¸å›å½’åº”ç”¨ï¼Œä½“éªŒäº¤äº’å¼å­¦ä¹ </p>
            <a href="#principles" class="btn btn-light btn-lg">
                <i class="fas fa-play"></i> å¼€å§‹å­¦ä¹ 
            </a>
        </div>
    </section>

    <main class="container" style="margin-top: 2rem;">
        <!-- ç®—æ³•åŸç†éƒ¨åˆ† -->
        <section id="principles" class="mb-5">
            <div class="section-header">
                <div class="container">
                    <h2><i class="fas fa-lightbulb"></i> å†³ç­–æ ‘ç®—æ³•åŸç†</h2>
                    <p class="lead">ç†è§£å†³ç­–æ ‘çš„æ ¸å¿ƒæ¦‚å¿µå’Œå­¦ä¹ è¿‡ç¨‹</p>
                </div>
            </div>

            <div class="algorithm-comparison">
                <h4><i class="fas fa-chart-tree"></i> å†³ç­–æ ‘ç®—æ³•å¯¹æ¯”</h4>
                <div class="table-responsive">
                    <table class="table table-striped comparison-table">
                        <thead>
                            <tr>
                                <th>ç®—æ³•</th>
                                <th>ç‰¹å¾é€‰æ‹©æ ‡å‡†</th>
                                <th>é€‚ç”¨åœºæ™¯</th>
                                <th>ä¼˜ç‚¹</th>
                                <th>ç¼ºç‚¹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ID3</strong></td>
                                <td>ä¿¡æ¯å¢ç›Š</td>
                                <td>åˆ†ç±»é—®é¢˜</td>
                                <td>ç®€å•æ˜“æ‡‚ï¼Œè®¡ç®—å¿«é€Ÿ</td>
                                <td>åå‘é€‰æ‹©å–å€¼è¾ƒå¤šçš„ç‰¹å¾</td>
                            </tr>
                            <tr>
                                <td><strong>C4.5</strong></td>
                                <td>ä¿¡æ¯å¢ç›Šæ¯”</td>
                                <td>åˆ†ç±»é—®é¢˜</td>
                                <td>å…‹æœID3çš„åå‘æ€§</td>
                                <td>è®¡ç®—å¤æ‚åº¦è¾ƒé«˜</td>
                            </tr>
                            <tr>
                                <td><strong>CART</strong></td>
                                <td>åŸºå°¼ç³»æ•°/MSE</td>
                                <td>åˆ†ç±»å’Œå›å½’</td>
                                <td>æ”¯æŒè¿ç»­å€¼ï¼Œå¯å¤„ç†å›å½’</td>
                                <td>å®¹æ˜“è¿‡æ‹Ÿåˆ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-lg-4">
                    <div class="feature-highlight">
                        <h5><i class="fas fa-info-circle"></i> ä¿¡æ¯ç†µ</h5>
                        <div class="math-formula">
                            <strong>H(D) = -âˆ‘ p<sub>k</sub> log<sub>2</sub> p<sub>k</sub></strong>
                        </div>
                        <p>è¡¡é‡æ•°æ®é›†çš„çº¯åº¦ï¼Œç†µå€¼è¶Šå°ï¼Œæ•°æ®è¶Šçº¯å‡€</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="feature-highlight">
                        <h5><i class="fas fa-chart-line"></i> ä¿¡æ¯å¢ç›Š</h5>
                        <div class="math-formula">
                            <strong>Gain(D,A) = H(D) - âˆ‘ |D<sub>v</sub>|/|D| Ã— H(D<sub>v</sub>)</strong>
                        </div>
                        <p>é€‰æ‹©ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾è¿›è¡Œåˆ†è£‚</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="feature-highlight">
                        <h5><i class="fas fa-balance-scale"></i> åŸºå°¼ç³»æ•°</h5>
                        <div class="math-formula">
                            <strong>Gini(D) = 1 - âˆ‘ p<sub>k</sub><sup>2</sup></strong>
                        </div>
                        <p>CARTç®—æ³•ä½¿ç”¨ï¼Œè®¡ç®—ç®€å•ï¼Œæ•ˆæœè‰¯å¥½</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ä»£ç å®ç°éƒ¨åˆ† -->
        <section id="implementation" class="mb-5">
            <div class="section-header">
                <div class="container">
                    <h2><i class="fas fa-code"></i> Pythonä»£ç å®ç°</h2>
                    <p class="lead">å®Œæ•´çš„å†³ç­–æ ‘åˆ†ç±»ã€å›å½’å’Œå‰ªæä»£ç ç¤ºä¾‹</p>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-tags"></i> å†³ç­–æ ‘åˆ†ç±»</h5>
                        </div>
                        <div class="card-body">
                            <p>ä½¿ç”¨é¸¢å°¾èŠ±æ•°æ®é›†æ¼”ç¤ºå†³ç­–æ ‘åˆ†ç±»ç®—æ³•çš„å®Œæ•´å®ç°è¿‡ç¨‹</p>
                            <div class="code-container">
                                <small class="text-muted">åŒ…å«æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒã€è¯„ä¼°å’Œå¯è§†åŒ–</small>
                            </div>
                            <div class="result-images mt-3">
                                <h6>ğŸ¯ åˆ†ç±»ç»“æœå±•ç¤º</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="result-card">
                                            <h6>å†³ç­–æ ‘å¯è§†åŒ–</h6>
                                            <img src="results/iris_decision_tree.png" alt="é¸¢å°¾èŠ±å†³ç­–æ ‘" class="result-image">
                                            <p class="text-muted mt-2">åŸºäºé¸¢å°¾èŠ±æ•°æ®é›†çš„å†³ç­–æ ‘ç»“æ„ï¼Œæ˜¾ç¤ºäº†ç‰¹å¾åˆ†å‰²æ¡ä»¶å’Œå¶èŠ‚ç‚¹åˆ†ç±»ç»“æœ</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="result-card">
                                            <h6>æ··æ·†çŸ©é˜µçƒ­åŠ›å›¾</h6>
                                            <img src="results/iris_confusion_matrix.png" alt="æ··æ·†çŸ©é˜µ" class="result-image">
                                            <p class="text-muted mt-2">åˆ†ç±»ç»“æœçš„æ··æ·†çŸ©é˜µï¼Œå±•ç¤ºäº†æ¨¡å‹åœ¨å„ç±»åˆ«ä¸Šçš„é¢„æµ‹å‡†ç¡®æ€§</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert alert-success mt-3">
                                    <strong>å®éªŒç»“æœï¼š</strong>æµ‹è¯•é›†å‡†ç¡®ç‡è¾¾åˆ°100%ï¼Œæ¨¡å‹åœ¨é¸¢å°¾èŠ±æ•°æ®é›†ä¸Šè¡¨ç°ä¼˜å¼‚
                                </div>
                            </div>
                            <div class="mt-3">
                                <button class="download-btn" onclick="showCode('classification')">
                                    <i class="fas fa-code"></i> æŸ¥çœ‹åˆ†ç±»ä»£ç 
                                </button>
                                <a href="https://colab.research.google.com/" target="_blank" class="btn btn-outline-primary btn-sm ms-2">
                                    <i class="fab fa-google"></i> åœ¨Google Colabè¿è¡Œ
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-chart-line"></i> å†³ç­–æ ‘å›å½’</h5>
                        </div>
                        <div class="card-body">
                            <p>ä½¿ç”¨åŠ å·æˆ¿ä»·æ•°æ®é›†æ¼”ç¤ºå†³ç­–æ ‘å›å½’ç®—æ³•çš„åº”ç”¨</p>
                            <div class="code-container">
                                <small class="text-muted">åŒ…å«å›å½’è¯„ä¼°æŒ‡æ ‡å’Œé¢„æµ‹æ•ˆæœå¯è§†åŒ–</small>
                            </div>
                            <div class="result-images mt-3">
                                 <h6>ğŸ“ˆ å›å½’ç»“æœå±•ç¤º</h6>
                                 <div class="row">
                                     <div class="col-md-6">
                                         <div class="result-card">
                                             <h6>é¢„æµ‹å€¼ vs çœŸå®å€¼</h6>
                                             <img src="results/housing_prediction_scatter.png" alt="å›å½’é¢„æµ‹ç»“æœ" class="result-image">
                                             <p class="text-muted mt-2">åŠ å·æˆ¿ä»·é¢„æµ‹æ•£ç‚¹å›¾ï¼Œå±•ç¤ºäº†å†³ç­–æ ‘å›å½’æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ</p>
                                         </div>
                                     </div>
                                     <div class="col-md-6">
                                         <div class="result-card">
                                             <h6>æ®‹å·®åˆ†æ</h6>
                                             <img src="results/housing_residual_analysis.png" alt="æ®‹å·®åˆ†æ" class="result-image">
                                             <p class="text-muted mt-2">æ®‹å·®åˆ†å¸ƒå’Œæ®‹å·®vsé¢„æµ‹å€¼å›¾ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹çš„æ‹Ÿåˆè´¨é‡</p>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="alert alert-info mt-3">
                                     <strong>å›å½’æ€§èƒ½ï¼š</strong>RÂ²=0.672ï¼ŒRMSE=0.74ä¸‡ç¾å…ƒï¼Œæ¨¡å‹å…·æœ‰è‰¯å¥½çš„é¢„æµ‹èƒ½åŠ›
                                 </div>
                             </div>
                            <div class="mt-3">
                                <button class="download-btn" onclick="showCode('regression')">
                                    <i class="fas fa-code"></i> æŸ¥çœ‹å›å½’ä»£ç 
                                </button>
                                <a href="https://colab.research.google.com/" target="_blank" class="btn btn-outline-primary btn-sm ms-2">
                                    <i class="fab fa-google"></i> åœ¨Google Colabè¿è¡Œ
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-cut"></i> å†³ç­–æ ‘å‰ªæ</h5>
                        </div>
                        <div class="card-body">
                            <p>æ¼”ç¤ºé¢„å‰ªæå’Œåå‰ªææŠ€æœ¯ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</p>
                            <div class="code-container">
                                <small class="text-muted">åŒ…å«å‰ªææ•ˆæœå¯¹æ¯”å’Œå‚æ•°ä¼˜åŒ–</small>
                            </div>
                            <div class="result-images mt-3">
                                 <h6>âœ‚ï¸ å‰ªææ•ˆæœå±•ç¤º</h6>
                                 <div class="row">
                                     <div class="col-md-6">
                                         <div class="result-card">
                                             <h6>æ·±åº¦å¯¹æ€§èƒ½çš„å½±å“</h6>
                                             <img src="results/pruning_depth_effect.png" alt="æ·±åº¦å‰ªææ•ˆæœ" class="result-image">
                                             <p class="text-muted mt-2">ä¸åŒmax_depthå‚æ•°å¯¹è®­ç»ƒé›†å’Œæµ‹è¯•é›†å‡†ç¡®ç‡çš„å½±å“</p>
                                         </div>
                                     </div>
                                     <div class="col-md-6">
                                         <div class="result-card">
                                             <h6>å¶å­èŠ‚ç‚¹æ•°å¯¹æ€§èƒ½çš„å½±å“</h6>
                                             <img src="results/pruning_leaf_effect.png" alt="å¶å­èŠ‚ç‚¹å‰ªææ•ˆæœ" class="result-image">
                                             <p class="text-muted mt-2">ä¸åŒmin_samples_leafå‚æ•°å¯¹æ¨¡å‹æ€§èƒ½çš„å½±å“åˆ†æ</p>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="alert alert-warning mt-3">
                                     <strong>å‰ªæå»ºè®®ï¼š</strong>max_depth=3æ—¶è¾¾åˆ°æœ€ä½³å¹³è¡¡ï¼Œæ—¢ä¿è¯äº†å‡†ç¡®ç‡åˆæ§åˆ¶äº†è¿‡æ‹Ÿåˆ
                                 </div>
                             </div>
                            <div class="mt-3">
                                <button class="download-btn" onclick="showCode('pruning')">
                                    <i class="fas fa-code"></i> æŸ¥çœ‹å‰ªæä»£ç 
                                </button>
                                <a href="https://colab.research.google.com/" target="_blank" class="btn btn-outline-primary btn-sm ms-2">
                                    <i class="fab fa-google"></i> åœ¨Google Colabè¿è¡Œ
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- äº¤äº’æ¼”ç¤ºéƒ¨åˆ† -->
        <section id="interactive" class="mb-5">
            <div class="section-header">
                <div class="container">
                    <h2><i class="fas fa-play-circle"></i> äº¤äº’å¼å†³ç­–æ ‘æ¼”ç¤º</h2>
                    <p class="lead">åŸºäºçœŸå®è¥¿ç“œæ•°æ®é›†ï¼Œè°ƒæ•´å‚æ•°è§‚å¯Ÿå†³ç­–æ ‘æ€§èƒ½å˜åŒ–</p>
                </div>
            </div>

            <div class="interactive-section">
                <!-- æ•°æ®é›†ä»‹ç» -->
                <div class="alert alert-info mb-4">
                    <h5><i class="fas fa-database"></i> ä½¿ç”¨æ•°æ®é›†ï¼šè¥¿ç“œæ•°æ®é›† (Watermelon Dataset)</h5>
                    <p><strong>æ•°æ®ç‰¹å¾ï¼š</strong>è‰²æ³½ã€æ ¹è’‚ã€æ•²å£°ã€çº¹ç†ã€è„éƒ¨ã€è§¦æ„Ÿã€å¯†åº¦ã€å«ç³–ç‡ï¼ˆ8ä¸ªç‰¹å¾ï¼‰</p>
                    <p><strong>åˆ†ç±»ç›®æ ‡ï¼š</strong>å¥½ç“œã€åç“œï¼ˆ2ä¸ªç±»åˆ«ï¼‰</p>
                    <p><strong>æ ·æœ¬æ•°é‡ï¼š</strong>17ä¸ªæ ·æœ¬ï¼Œå¥½ç“œ8ä¸ªï¼Œåç“œ9ä¸ªï¼Œè®­ç»ƒé›†12ä¸ªï¼Œæµ‹è¯•é›†5ä¸ª</p>

                </div>
                
                <div class="row">
                    <div class="col-lg-6">
                        <h4><i class="fas fa-sliders-h"></i> å†³ç­–æ ‘å‚æ•°æ§åˆ¶</h4>
                        
                        <!-- å‚æ•°è¯´æ˜å¡ç‰‡ -->
                        <div class="card mb-2">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ“Š åˆ†è£‚æ ‡å‡† (criterion)</h6>
                                <select id="criterion" class="form-select mb-2" onchange="updateDecisionTree()">
                                    <option value="gini">åŸºå°¼ç³»æ•° (Gini)</option>
                                    <option value="entropy">ä¿¡æ¯ç†µ (Entropy)</option>
                                </select>
                                <small class="text-muted">
                                    <strong>Gini:</strong> è¡¡é‡èŠ‚ç‚¹ä¸çº¯åº¦ï¼Œå€¼è¶Šå°è¶Šçº¯å‡€<br>
                                    <strong>Entropy:</strong> åŸºäºä¿¡æ¯è®ºï¼Œè®¡ç®—ä¿¡æ¯å¢ç›Š
                                </small>
                            </div>
                        </div>
                        
                        <div class="card mb-2">
                            <div class="card-body">
                                <h6 class="card-title">ğŸŒ³ æœ€å¤§æ·±åº¦ (max_depth): <span id="maxDepthValue" class="text-primary">3</span></h6>
                                <input type="range" id="maxDepth" class="form-range mb-2" min="1" max="8" value="3" onchange="updateDecisionTree()">
                                <small class="text-muted">
                                    æ§åˆ¶æ ‘çš„æœ€å¤§å±‚æ•°ã€‚<strong>è¿‡å°</strong>å¯èƒ½æ¬ æ‹Ÿåˆï¼Œ<strong>è¿‡å¤§</strong>å¯èƒ½è¿‡æ‹Ÿåˆã€‚
                                    æ¨èå€¼ï¼š3-5å±‚
                                </small>
                            </div>
                        </div>
                        
                        <div class="card mb-2">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ”€ æœ€å°åˆ†è£‚æ ·æœ¬æ•° (min_samples_split): <span id="minSamplesSplitValue" class="text-primary">2</span></h6>
                                <input type="range" id="minSamplesSplit" class="form-range mb-2" min="2" max="20" value="2" onchange="updateDecisionTree()">
                                <small class="text-muted">
                                    èŠ‚ç‚¹åˆ†è£‚æ‰€éœ€çš„æœ€å°æ ·æœ¬æ•°ã€‚<strong>å¢å¤§</strong>å¯é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä½†å¯èƒ½å¯¼è‡´æ¬ æ‹Ÿåˆã€‚
                                </small>
                            </div>
                        </div>
                        
                        <div class="card mb-2">
                            <div class="card-body">
                                <h6 class="card-title">ğŸƒ æœ€å°å¶èŠ‚ç‚¹æ ·æœ¬æ•° (min_samples_leaf): <span id="minSamplesLeafValue" class="text-primary">1</span></h6>
                                <input type="range" id="minSamplesLeaf" class="form-range mb-2" min="1" max="15" value="1" onchange="updateDecisionTree()">
                                <small class="text-muted">
                                    å¶èŠ‚ç‚¹å¿…é¡»åŒ…å«çš„æœ€å°æ ·æœ¬æ•°ã€‚<strong>å¢å¤§</strong>å¯ä½¿æ¨¡å‹æ›´å¹³æ»‘ï¼Œå‡å°‘è¿‡æ‹Ÿåˆã€‚
                                </small>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary btn-lg w-100" onclick="updateDecisionTree()">
                            <i class="fas fa-sync-alt"></i> é‡æ–°è®­ç»ƒå†³ç­–æ ‘
                        </button>
                    </div>
                    
                    <div class="col-lg-6">
                        <h4><i class="fas fa-chart-area"></i> å®æ—¶è®­ç»ƒç»“æœ</h4>
                        
                        <!-- æ€§èƒ½æŒ‡æ ‡å±•ç¤º -->
                        <div class="row mb-1">
                            <div class="col-6">
                                <div class="metric-card bg-success text-white">
                                    <div class="metric-value" id="trainAccuracy">0.950</div>
                                    <div class="metric-label">è®­ç»ƒå‡†ç¡®ç‡</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-card bg-primary text-white">
                                    <div class="metric-value" id="testAccuracy">0.933</div>
                                    <div class="metric-label">æµ‹è¯•å‡†ç¡®ç‡</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mb-1">
                            <div class="col-4">
                                <div class="metric-card bg-info text-white">
                                    <div class="metric-value" id="treeDepth">3</div>
                                    <div class="metric-label">å®é™…æ·±åº¦</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="metric-card bg-warning text-white">
                                    <div class="metric-value" id="leafNodes">5</div>
                                    <div class="metric-label">å¶èŠ‚ç‚¹æ•°</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="metric-card bg-secondary text-white">
                                    <div class="metric-value" id="trainTime">2.1ms</div>
                                    <div class="metric-label">è®­ç»ƒæ—¶é—´</div>
                                </div>
                            </div>
                        </div>
                        

                        

                        
                        <!-- å†³ç­–æ ‘ç»“æ„ -->
                        <div class="card mb-1">
                            <div class="card-header py-2">
                                <h6 class="mb-0"><i class="fas fa-sitemap"></i> å†³ç­–æ ‘ç»“æ„</h6>
                            </div>
                            <div class="card-body py-2">
                                <div id="treeStructure" style="max-height: 200px; overflow-y: auto; font-family: monospace;">
                                    <p style="color: #666;">è¯·ç‚¹å‡»"é‡æ–°è®­ç»ƒå†³ç­–æ ‘"æŒ‰é’®ç”Ÿæˆæ ‘ç»“æ„</p>
                                </div>
                                <div class="mt-2 p-2 bg-light rounded">
                                    <small class="text-muted">
                                        <strong>ç»“æ„è¯´æ˜ï¼š</strong><br>
                                        ğŸŒ¿ å†…éƒ¨èŠ‚ç‚¹æ˜¾ç¤ºåˆ†è£‚æ¡ä»¶ï¼ˆç‰¹å¾ â‰¤ é˜ˆå€¼ï¼‰<br>
                                        ğŸƒ å¶èŠ‚ç‚¹æ˜¾ç¤ºé¢„æµ‹ç±»åˆ«å’Œæ ·æœ¬åˆ†å¸ƒ
                                    </small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- è¿‡æ‹Ÿåˆè­¦å‘Š -->
                        <div id="overfittingWarning" class="alert alert-warning mt-1 py-2" style="display: none;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>è¿‡æ‹Ÿåˆè­¦å‘Šï¼š</strong>è®­ç»ƒå‡†ç¡®ç‡æ˜æ˜¾é«˜äºæµ‹è¯•å‡†ç¡®ç‡ï¼Œå»ºè®®å¢å¤§min_samples_splitæˆ–min_samples_leafå‚æ•°ã€‚
                        </div>
                        
                        <div id="underfittingWarning" class="alert alert-info mt-1 py-2" style="display: none;">
                            <i class="fas fa-info-circle"></i>
                            <strong>æ¬ æ‹Ÿåˆæç¤ºï¼š</strong>å‡†ç¡®ç‡è¾ƒä½ï¼Œå¯ä»¥å°è¯•å¢åŠ max_depthæˆ–å‡å°min_sampleså‚æ•°ã€‚
                        </div>
                    </div>
                </div>
                
                <!-- è¯¦ç»†è§£é‡Šè¯´æ˜ -->
                <div class="row mt-2">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="fas fa-lightbulb"></i> å‚æ•°è°ƒä¼˜æŒ‡å¯¼</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="text-success">ğŸ¯ æœ€ä½³å®è·µå»ºè®®</h6>
                                        <ul class="list-unstyled">
                                            <li><i class="fas fa-check text-success"></i> <strong>max_depth=3-5ï¼š</strong>é€‚åˆå¤§å¤šæ•°æ•°æ®é›†</li>
                                            <li><i class="fas fa-check text-success"></i> <strong>min_samples_split=5-10ï¼š</strong>é˜²æ­¢è¿‡æ‹Ÿåˆ</li>
                                            <li><i class="fas fa-check text-success"></i> <strong>min_samples_leaf=2-5ï¼š</strong>ä¿è¯å¶èŠ‚ç‚¹ç¨³å®šæ€§</li>
                                            <li><i class="fas fa-check text-success"></i> <strong>gini vs entropyï¼š</strong>giniè®¡ç®—æ›´å¿«ï¼Œentropyæ›´ç²¾ç¡®</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="text-danger">âš ï¸ å¸¸è§é—®é¢˜</h6>
                                        <ul class="list-unstyled">
                                            <li><i class="fas fa-times text-danger"></i> <strong>è¿‡æ‹Ÿåˆï¼š</strong>è®­ç»ƒå‡†ç¡®ç‡>>æµ‹è¯•å‡†ç¡®ç‡</li>
                                            <li><i class="fas fa-times text-danger"></i> <strong>æ¬ æ‹Ÿåˆï¼š</strong>è®­ç»ƒå’Œæµ‹è¯•å‡†ç¡®ç‡éƒ½å¾ˆä½</li>
                                            <li><i class="fas fa-times text-danger"></i> <strong>è¿‡æ·±æ ‘ï¼š</strong>å¶èŠ‚ç‚¹è¿‡å¤šï¼Œæ³›åŒ–èƒ½åŠ›å·®</li>
                                            <li><i class="fas fa-times text-danger"></i> <strong>è¿‡æµ…æ ‘ï¼š</strong>æ— æ³•æ•è·æ•°æ®å¤æ‚æ€§</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å®ä¾‹æ‹“å±•éƒ¨åˆ† -->
        <section id="case-study" class="mb-5">
            <div class="section-header">
                <div class="container">
                    <h2><i class="fas fa-shopping-cart"></i> å®ä¾‹æ‹“å±•ï¼šç”µå•†ç”¨æˆ·è´­ä¹°è¡Œä¸ºåˆ†æ</h2>
                    <p class="lead">åŸºäºé˜¿é‡Œå·´å·´æ·˜å®ç”¨æˆ·è¡Œä¸ºæ•°æ®é›†çš„å†³ç­–æ ‘åº”ç”¨æ¡ˆä¾‹</p>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-database"></i> é¡¹ç›®èƒŒæ™¯ä¸æ•°æ®é›†ä»‹ç»</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-6">
                                    <h6><i class="fas fa-bullseye"></i> ä¸šåŠ¡ç›®æ ‡</h6>
                                    <ul>
                                        <li>é¢„æµ‹ç”¨æˆ·è´­ä¹°è¡Œä¸ºï¼Œæå‡è½¬åŒ–ç‡</li>
                                        <li>è¯†åˆ«é«˜ä»·å€¼ç”¨æˆ·ï¼Œä¼˜åŒ–è¥é”€ç­–ç•¥</li>
                                        <li>ç†è§£ç”¨æˆ·è¡Œä¸ºæ¨¡å¼ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒ</li>
                                        <li>æ”¯æŒä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ</li>
                                    </ul>
                                </div>
                                <div class="col-lg-6">
                                    <h6><i class="fas fa-chart-bar"></i> æ•°æ®é›†ç‰¹å¾</h6>
                                    <ul>
                                        <li><strong>æ—¶é—´è·¨åº¦ï¼š</strong>2017å¹´11æœˆ25æ—¥ - 2017å¹´12æœˆ3æ—¥</li>
                                        <li><strong>ç”¨æˆ·è§„æ¨¡ï¼š</strong>çº¦100ä¸‡ç”¨æˆ·</li>
                                        <li><strong>å•†å“æ•°é‡ï¼š</strong>çº¦400ä¸‡å•†å“</li>
                                        <li><strong>è¡Œä¸ºç±»å‹ï¼š</strong>æµè§ˆ(pv)ã€æ”¶è—(fav)ã€åŠ è´­ç‰©è½¦(cart)ã€è´­ä¹°(buy)</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <button class="download-btn" onclick="showCode('ecommerce')">
                                    <i class="fas fa-code"></i> æŸ¥çœ‹åˆ†æä»£ç 
                                </button>
                                <a href="https://colab.research.google.com/" target="_blank" class="btn btn-outline-primary btn-sm ms-2">
                                    <i class="fab fa-google"></i> åœ¨Google Colabè¿è¡Œ
                                </a>
                                <a href="https://tianchi-jupyter-sh.oss-cn-shanghai.aliyuncs.com/file/opensearch/documents/649/UserBehavior.csv.zip?Expires=1754516991&OSSAccessKeyId=STS.NXxhWuaGvP9JMbdb2879BCcw1&Signature=t4UO8xDvxZE%2Fdp01HXGfr4X6V64%3D&response-content-disposition=attachment%3B%20&security-token=CAIS0wJ1q6Ft5B2yfSjIr5vNI%2B3BjJhX5%2FuhT0TVhjJtO7ZurKbc0zz2IHhMeXdvCeAfsvs1lG9W7vYYlrp6SJtIXleCZtF94oxN9h2gb4fb41I5B17k08%2FLI3OaLjKm9u2wCryLYbGwU%2FOpbE%2B%2B5U0X6LDmdDKkckW4OJmS8%2FBOZcgWWQ%2FKBlgvRq0hRG1YpdQdKGHaONu0LxfumRCwNkdzvRdmgm4NgsbWgO%2Fks0aH1Q2rlbdM%2F9WvfMX0MvMBZskvD42Hu8VtbbfE3SJq7BxHybx7lqQs%2B02c5onAXQYBs0zabLCErYM3fFVjGKE5H6Nft73wheU9sevOjZ%2F6jg5XOu1FguwGsiZLaaEuccPe1bZRHd6TUxylWUAROTgCrQht5%2F5PgYmu1w69ztNUSEVKZHizAdSM0zPpeWyIIIvei5pV6vcbgiuuk5PkSFbnP23%2BAnpwUvcagAGB3qXHo4%2F45Gq%2BZhU0SPLV%2B7p%2BSieCvUIdUn1itVAZqg5FVRFjRujqGQNkAV6gSp0UWST9GgjUvQg7y4reUhCv1O7HJT6RICJR6Gj6FHJZoetJ0BOx8F%2FgTnyizEC5irmy8f2leFFP%2BJUFHuFgBp%2FT6pG2t8tHtq7%2BoXMcC5fVISAA" class="btn btn-outline-success btn-sm ms-2" target="_blank">
                                    <i class="fas fa-database"></i> ä¸‹è½½æ•°æ®é›† (UserBehavior.csv)
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-cogs"></i> ç‰¹å¾å·¥ç¨‹</h5>
                        </div>
                        <div class="card-body">
                            <h6>æ„å»ºçš„å…³é”®ç‰¹å¾ï¼š</h6>
                            <ul>
                                <li><strong>ç”¨æˆ·æ´»è·ƒåº¦ï¼š</strong>æ€»è¡Œä¸ºæ¬¡æ•°ã€æ´»è·ƒå¤©æ•°ã€å¹³å‡æ—¥è¡Œä¸ºæ•°</li>
                                <li><strong>è¡Œä¸ºåå¥½ï¼š</strong>æµè§ˆ/æ”¶è—/åŠ è´­ç‰©è½¦æ¯”ä¾‹</li>
                                <li><strong>å•†å“å¤šæ ·æ€§ï¼š</strong>æµè§ˆå•†å“æ•°ã€ç±»åˆ«æ•°</li>
                                <li><strong>æ—¶é—´ç‰¹å¾ï¼š</strong>æ´»è·ƒæ—¶æ®µåˆ†å¸ƒã€è¡Œä¸ºæ—¶é—´é—´éš”</li>
                                <li><strong>è½¬åŒ–æ¼æ–—ï¼š</strong>å„é˜¶æ®µè½¬åŒ–ç‡</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-chart-pie"></i> æ¨¡å‹æ€§èƒ½</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6">
                                    <h6>åŸºç¡€æ¨¡å‹</h6>
                                    <ul>
                                        <li>å‡†ç¡®ç‡ï¼š<span class="badge bg-primary">0.823</span></li>
                                        <li>ç²¾ç¡®ç‡ï¼š<span class="badge bg-success">0.756</span></li>
                                        <li>å¬å›ç‡ï¼š<span class="badge bg-warning">0.689</span></li>
                                        <li>F1åˆ†æ•°ï¼š<span class="badge bg-info">0.721</span></li>
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <h6>ä¼˜åŒ–æ¨¡å‹</h6>
                                    <ul>
                                        <li>å‡†ç¡®ç‡ï¼š<span class="badge bg-primary">0.867</span></li>
                                        <li>ç²¾ç¡®ç‡ï¼š<span class="badge bg-success">0.834</span></li>
                                        <li>å¬å›ç‡ï¼š<span class="badge bg-warning">0.798</span></li>
                                        <li>F1åˆ†æ•°ï¼š<span class="badge bg-info">0.816</span></li>
                                        <li>AUCå€¼ï¼š<span class="badge bg-secondary">0.891</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <h5><i class="fas fa-lightbulb"></i> ä¸šåŠ¡æ´å¯Ÿä¸åº”ç”¨å»ºè®®</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <h6><i class="fas fa-star"></i> å…³é”®å‘ç°</h6>
                            <ul>
                                <li><strong>ç”¨æˆ·æ´»è·ƒåº¦æ˜¯æœ€å¼ºé¢„æµ‹å› å­ï¼š</strong>æ€»è¡Œä¸ºæ¬¡æ•°ã€æµè§ˆå•†å“æ•°ç­‰æ´»è·ƒåº¦æŒ‡æ ‡å¯¹è´­ä¹°è¡Œä¸ºå½±å“æœ€å¤§</li>
                                <li><strong>è´­ç‰©è½¦å’Œæ”¶è—è¡Œä¸ºæ˜¯å¼ºä¿¡å·ï¼š</strong>åŠ è´­ç‰©è½¦å’Œæ”¶è—è¡Œä¸ºæ˜¾è‘—æå‡è´­ä¹°æ¦‚ç‡</li>
                                <li><strong>æ—¶é—´æ¨¡å¼æœ‰é¢„æµ‹ä»·å€¼ï¼š</strong>ç”¨æˆ·çš„æ´»è·ƒæ—¶é—´æ¨¡å¼èƒ½å¤Ÿåæ˜ è´­ä¹°å€¾å‘</li>
                                <li><strong>è¡Œä¸ºå¤šæ ·æ€§é‡è¦ï¼š</strong>æµè§ˆä¸åŒç±»åˆ«å•†å“çš„ç”¨æˆ·æ›´å¯èƒ½è´­ä¹°</li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <h6><i class="fas fa-rocket"></i> åº”ç”¨ç­–ç•¥</h6>
                            <ul>
                                <li><strong>ç²¾å‡†è¥é”€ï¼š</strong>å¯¹é«˜æ´»è·ƒåº¦+æœ‰åŠ è´­/æ”¶è—è¡Œä¸ºçš„ç”¨æˆ·è¿›è¡Œé‡ç‚¹è¥é”€</li>
                                <li><strong>ä¸ªæ€§åŒ–æ¨èï¼š</strong>åŸºäºç”¨æˆ·çš„ç±»åˆ«åå¥½å’Œæ´»è·ƒæ—¶é—´ä¼˜åŒ–æ¨èæ—¶æœº</li>
                                <li><strong>ç”¨æˆ·åˆ†å±‚ï¼š</strong>æ ¹æ®å†³ç­–æ ‘è§„åˆ™å°†ç”¨æˆ·åˆ†ä¸ºä¸åŒè´­ä¹°æ¦‚ç‡å±‚çº§</li>
                                <li><strong>å®æ—¶é¢„æµ‹ï¼š</strong>éƒ¨ç½²æ¨¡å‹è¿›è¡Œå®æ—¶è´­ä¹°æ¦‚ç‡è¯„åˆ†ï¼Œæ”¯æŒåŠ¨æ€è¥é”€å†³ç­–</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h5><i class="fas fa-tree"></i> å†³ç­–æ ‘å®éªŒæ•™å­¦å¹³å°</h5>
                    <p>æ·±å…¥ç†è§£å†³ç­–æ ‘ç®—æ³•ï¼ŒæŒæ¡æœºå™¨å­¦ä¹ æ ¸å¿ƒæŠ€æœ¯</p>
                </div>
                <div class="col-lg-6 text-end">
                    <h6>ç›¸å…³èµ„æº</h6>
                    <a href="#" class="text-light me-3">ç®—æ³•æ–‡æ¡£</a>
                    <a href="#" class="text-light me-3">ä»£ç ä»“åº“</a>
                    <a href="#" class="text-light">åœ¨çº¿è®¨è®º</a>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; 2024 äººå·¥æ™ºèƒ½è¯¾ç¨‹å®éªŒå¹³å°. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // å‚æ•°æ§åˆ¶
        document.getElementById('maxDepth').addEventListener('input', function() {
            document.getElementById('maxDepthValue').textContent = this.value;
        });
        
        document.getElementById('minSamplesSplit').addEventListener('input', function() {
            document.getElementById('minSamplesSplitValue').textContent = this.value;
        });
        
        document.getElementById('minSamplesLeaf').addEventListener('input', function() {
            document.getElementById('minSamplesLeafValue').textContent = this.value;
        });

        // è¥¿ç“œæ•°æ®é›†ä¿¡æ¯
        let watermelonData = {
            features: [],
            labels: [],
            classNames: ['åç“œ', 'å¥½ç“œ'],
            featureNames: []
        };
        
        // ä»Pythonåç«¯è·å–æ•°æ®é›†ä¿¡æ¯
        async function loadDatasetInfo() {
            try {
                const response = await fetch('http://127.0.0.1:5000/get_dataset_info');
                const data = await response.json();
                watermelonData.features = data.features;
                watermelonData.labels = data.labels;
                watermelonData.featureNames = data.feature_names;
                console.log('è¥¿ç“œæ•°æ®é›†å·²åŠ è½½:', data);
            } catch (error) {
                console.error('åŠ è½½æ•°æ®é›†å¤±è´¥:', error);
            }
        }
        
        // è°ƒç”¨Pythonåç«¯è®­ç»ƒå†³ç­–æ ‘
        async function trainDecisionTree(params) {
            try {
                const response = await fetch('http://127.0.0.1:5000/train_tree', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(params)
                });
                const result = await response.json();
                return result;
            } catch (error) {
                console.error('è®­ç»ƒå†³ç­–æ ‘å¤±è´¥:', error);
                return null;
            }
        }
        
        // æ›´æ–°å†³ç­–æ ‘
        async function updateDecisionTree() {
            // æ›´æ–°å‚æ•°æ˜¾ç¤º
            const maxDepth = parseInt(document.getElementById('maxDepth').value);
            const minSamplesSplit = parseInt(document.getElementById('minSamplesSplit').value);
            const minSamplesLeaf = parseInt(document.getElementById('minSamplesLeaf').value);
            const criterion = document.getElementById('criterion').value;
            
            document.getElementById('maxDepthValue').textContent = maxDepth;
            document.getElementById('minSamplesSplitValue').textContent = minSamplesSplit;
            document.getElementById('minSamplesLeafValue').textContent = minSamplesLeaf;
            
            // å‡†å¤‡è®­ç»ƒå‚æ•°
            const params = {
                max_depth: maxDepth,
                min_samples_split: minSamplesSplit,
                min_samples_leaf: minSamplesLeaf,
                criterion: criterion
            };
            
            // è°ƒç”¨Pythonåç«¯è®­ç»ƒå†³ç­–æ ‘
            const result = await trainDecisionTree(params);
            
            if (result && result.success) {
                // æ›´æ–°æ˜¾ç¤º
                document.getElementById('trainAccuracy').textContent = result.train_accuracy.toFixed(3);
                document.getElementById('testAccuracy').textContent = result.test_accuracy.toFixed(3);
                document.getElementById('treeDepth').textContent = result.tree_depth;
                document.getElementById('leafNodes').textContent = result.leaf_count;
                document.getElementById('trainTime').textContent = result.train_time.toFixed(1) + 'ms';
                
                // æ£€æŸ¥è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ
                const overfittingWarning = document.getElementById('overfittingWarning');
                const underfittingWarning = document.getElementById('underfittingWarning');
                
                if (result.train_accuracy - result.test_accuracy > 0.1) {
                    overfittingWarning.style.display = 'block';
                } else {
                    overfittingWarning.style.display = 'none';
                }
                
                if (result.train_accuracy < 0.8 && result.test_accuracy < 0.8) {
                    underfittingWarning.style.display = 'block';
                } else {
                    underfittingWarning.style.display = 'none';
                }
                
                // æ˜¾ç¤ºå†³ç­–æ ‘ç»“æ„
                displayTreeStructure(result.tree_structure);
                
                // å†³ç­–æ ‘å¯è§†åŒ–éƒ¨åˆ†å·²ç§»é™¤
            } else {
                console.error('è®­ç»ƒå¤±è´¥:', result ? result.error : 'æœªçŸ¥é”™è¯¯');
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                document.getElementById('trainAccuracy').textContent = 'é”™è¯¯';
                document.getElementById('testAccuracy').textContent = 'é”™è¯¯';
                document.getElementById('treeDepth').textContent = 'é”™è¯¯';
                document.getElementById('leafNodes').textContent = 'é”™è¯¯';
                document.getElementById('trainTime').textContent = 'é”™è¯¯';
            }
        }


        
        // æ˜¾ç¤ºå†³ç­–æ ‘æ–‡æœ¬ç»“æ„
        function displayTreeStructure(treeStructure) {
            const container = document.getElementById('treeStructure');
            if (!container) return;
            
            container.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 10px; color: #333;">ğŸŒ³ å†³ç­–æ ‘ç»“æ„</div>
                <pre style="font-size: 12px; line-height: 1.4; background: #f8f9fa; padding: 10px; border-radius: 4px; overflow-x: auto;">${treeStructure}</pre>
            `;
        }
        


        // æ˜¾ç¤ºä»£ç å†…å®¹çš„å‡½æ•°
        function showCode(type) {
            let code = '';
            let title = '';
            
            switch(type) {
                case 'classification':
                    title = 'å†³ç­–æ ‘åˆ†ç±»å®Œæ•´ä»£ç ';
                    code = `# å†³ç­–æ ‘åˆ†ç±»ç¤ºä¾‹\nimport pandas as pd\nimport numpy as np\nfrom sklearn.tree import DecisionTreeClassifier, plot_tree\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score, classification_report\nimport matplotlib.pyplot as plt\n\n# åŠ è½½è¥¿ç“œæ•°æ®é›†\ndata = pd.read_csv('watermelon_3.csv')\nX = data[['å¯†åº¦', 'å«ç³–ç‡']]\ny = data['å¥½ç“œ']\n\n# åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)\n\n# åˆ›å»ºå†³ç­–æ ‘åˆ†ç±»å™¨\nclf = DecisionTreeClassifier(criterion='entropy', max_depth=3, random_state=42)\nclf.fit(X_train, y_train)\n\n# é¢„æµ‹\ny_pred = clf.predict(X_test)\n\n# è¯„ä¼°æ¨¡å‹\naccuracy = accuracy_score(y_test, y_pred)\nprint(f'å‡†ç¡®ç‡: {accuracy:.4f}')\nprint('åˆ†ç±»æŠ¥å‘Š:')\nprint(classification_report(y_test, y_pred))\n\n# å¯è§†åŒ–å†³ç­–æ ‘\nplt.figure(figsize=(12, 8))\nplot_tree(clf, feature_names=['å¯†åº¦', 'å«ç³–ç‡'], class_names=['åç“œ', 'å¥½ç“œ'], filled=True)\nplt.title('å†³ç­–æ ‘åˆ†ç±»æ¨¡å‹')\nplt.show()`;
                    break;
                case 'regression':
                    title = 'å†³ç­–æ ‘å›å½’å®Œæ•´ä»£ç ';
                    code = `# å†³ç­–æ ‘å›å½’ç¤ºä¾‹\nimport pandas as pd\nimport numpy as np\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_squared_error, r2_score\nimport matplotlib.pyplot as plt\n\n# ç”Ÿæˆå›å½’æ•°æ®\nnp.random.seed(42)\nX = np.random.rand(100, 1) * 10\ny = 2 * X.ravel() + np.random.randn(100) * 2\n\n# åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)\n\n# åˆ›å»ºå†³ç­–æ ‘å›å½’å™¨\nregressor = DecisionTreeRegressor(max_depth=5, random_state=42)\nregressor.fit(X_train, y_train)\n\n# é¢„æµ‹\ny_pred = regressor.predict(X_test)\n\n# è¯„ä¼°æ¨¡å‹\nmse = mean_squared_error(y_test, y_pred)\nr2 = r2_score(y_test, y_pred)\nprint(f'å‡æ–¹è¯¯å·®: {mse:.4f}')\nprint(f'RÂ²åˆ†æ•°: {r2:.4f}')\n\n# å¯è§†åŒ–ç»“æœ\nplt.figure(figsize=(10, 6))\nplt.scatter(X_test, y_test, color='blue', label='å®é™…å€¼')\nplt.scatter(X_test, y_pred, color='red', label='é¢„æµ‹å€¼')\nplt.xlabel('ç‰¹å¾å€¼')\nplt.ylabel('ç›®æ ‡å€¼')\nplt.title('å†³ç­–æ ‘å›å½’ç»“æœ')\nplt.legend()\nplt.show()`;
                    break;
                case 'pruning':
                    title = 'å†³ç­–æ ‘å‰ªæå®Œæ•´ä»£ç ';
                    code = `# å†³ç­–æ ‘å‰ªæç¤ºä¾‹\nimport pandas as pd\nimport numpy as np\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split, cross_val_score\nfrom sklearn.metrics import accuracy_score\nimport matplotlib.pyplot as plt\n\n# åŠ è½½æ•°æ®\ndata = pd.read_csv('watermelon_3.csv')\nX = data[['å¯†åº¦', 'å«ç³–ç‡']]\ny = data['å¥½ç“œ']\n\n# åˆ’åˆ†æ•°æ®é›†\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)\n\n# æµ‹è¯•ä¸åŒçš„å‰ªæå‚æ•°\nmax_depths = range(1, 11)\ntrain_scores = []\ntest_scores = []\n\nfor depth in max_depths:\n    clf = DecisionTreeClassifier(max_depth=depth, random_state=42)\n    clf.fit(X_train, y_train)\n    \n    train_score = clf.score(X_train, y_train)\n    test_score = clf.score(X_test, y_test)\n    \n    train_scores.append(train_score)\n    test_scores.append(test_score)\n\n# å¯è§†åŒ–å‰ªææ•ˆæœ\nplt.figure(figsize=(10, 6))\nplt.plot(max_depths, train_scores, 'o-', label='è®­ç»ƒé›†å‡†ç¡®ç‡')\nplt.plot(max_depths, test_scores, 'o-', label='æµ‹è¯•é›†å‡†ç¡®ç‡')\nplt.xlabel('æœ€å¤§æ·±åº¦')\nplt.ylabel('å‡†ç¡®ç‡')\nplt.title('å†³ç­–æ ‘å‰ªææ•ˆæœ')\nplt.legend()\nplt.grid(True)\nplt.show()\n\n# æ‰¾åˆ°æœ€ä½³æ·±åº¦\nbest_depth = max_depths[np.argmax(test_scores)]\nprint(f'æœ€ä½³æ·±åº¦: {best_depth}')\nprint(f'æœ€ä½³æµ‹è¯•å‡†ç¡®ç‡: {max(test_scores):.4f}')`;
                    break;
                case 'ecommerce':
                    title = 'ç”µå•†ç”¨æˆ·è¡Œä¸ºåˆ†æå®Œæ•´ä»£ç ';
                    code = `# ç”µå•†ç”¨æˆ·è´­ä¹°è¡Œä¸ºåˆ†æ\nimport pandas as pd\nimport numpy as np\nfrom sklearn.tree import DecisionTreeClassifier, plot_tree\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score, classification_report, confusion_matrix\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# ç”Ÿæˆæ¨¡æ‹Ÿç”µå•†æ•°æ®\nnp.random.seed(42)\nn_samples = 1000\n\ndata = {\n    'age': np.random.randint(18, 65, n_samples),\n    'income': np.random.normal(50000, 20000, n_samples),\n    'browsing_time': np.random.exponential(30, n_samples),\n    'previous_purchases': np.random.poisson(5, n_samples),\n    'cart_items': np.random.randint(0, 20, n_samples)\n}\n\n# åˆ›å»ºç›®æ ‡å˜é‡ï¼ˆæ˜¯å¦è´­ä¹°ï¼‰\ndf = pd.DataFrame(data)\ndf['purchase'] = ((df['income'] > 40000) & \n                 (df['browsing_time'] > 20) & \n                 (df['previous_purchases'] > 2)).astype(int)\n\n# ç‰¹å¾å’Œç›®æ ‡å˜é‡\nX = df[['age', 'income', 'browsing_time', 'previous_purchases', 'cart_items']]\ny = df['purchase']\n\n# åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)\n\n# è®­ç»ƒå†³ç­–æ ‘æ¨¡å‹\nclf = DecisionTreeClassifier(max_depth=5, min_samples_split=20, random_state=42)\nclf.fit(X_train, y_train)\n\n# é¢„æµ‹\ny_pred = clf.predict(X_test)\n\n# è¯„ä¼°æ¨¡å‹\naccuracy = accuracy_score(y_test, y_pred)\nprint(f'æ¨¡å‹å‡†ç¡®ç‡: {accuracy:.4f}')\nprint('\\nåˆ†ç±»æŠ¥å‘Š:')\nprint(classification_report(y_test, y_pred))\n\n# ç‰¹å¾é‡è¦æ€§\nfeature_importance = pd.DataFrame({\n    'feature': X.columns,\n    'importance': clf.feature_importances_\n}).sort_values('importance', ascending=False)\n\nprint('\\nç‰¹å¾é‡è¦æ€§:')\nprint(feature_importance)\n\n# å¯è§†åŒ–ç‰¹å¾é‡è¦æ€§\nplt.figure(figsize=(10, 6))\nsns.barplot(data=feature_importance, x='importance', y='feature')\nplt.title('ç‰¹å¾é‡è¦æ€§åˆ†æ')\nplt.xlabel('é‡è¦æ€§')\nplt.show()\n\n# å¯è§†åŒ–å†³ç­–æ ‘\nplt.figure(figsize=(15, 10))\nplot_tree(clf, feature_names=X.columns, class_names=['ä¸è´­ä¹°', 'è´­ä¹°'], filled=True)\nplt.title('ç”µå•†ç”¨æˆ·è´­ä¹°å†³ç­–æ ‘')\nplt.show()`;
                    break;
            }
            
            // åˆ›å»ºæ¨¡æ€æ¡†æ˜¾ç¤ºä»£ç 
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                justify-content: center;
                align-items: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 20px;
                border-radius: 10px;
                max-width: 80%;
                max-height: 80%;
                overflow: auto;
                position: relative;
            `;
            
            content.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3>${title}</h3>
                    <button onclick="this.closest('.modal').remove()" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">å…³é—­</button>
                </div>
                <div style="margin-bottom: 15px;">
                    <button onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent); alert('ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-right: 10px;">å¤åˆ¶ä»£ç </button>
                    <a href="https://colab.research.google.com/" target="_blank" style="background: #007bff; color: white; text-decoration: none; padding: 8px 15px; border-radius: 5px;">åœ¨Google Colabä¸­è¿è¡Œ</a>
                </div>
                <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto; white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 14px;">${code}</pre>
            `;
            
            modal.className = 'modal';
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // ç‚¹å‡»èƒŒæ™¯å…³é—­æ¨¡æ€æ¡†
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            // åŠ è½½æ•°æ®é›†ä¿¡æ¯
            await loadDatasetInfo();
            
            // åˆå§‹åŒ–å†³ç­–æ ‘
            await updateDecisionTree();
            
            // å¹³æ»‘æ»šåŠ¨
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>