<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çº¿æ€§åˆ¤åˆ«åˆ†æ(LDA)äº¤äº’å¼æ•™å­¦å¹³å°</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']]
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            border-right: 1px solid #dee2e6;
        }
        
        .nav-tab:last-child {
            border-right: none;
        }
        
        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .nav-tab:hover:not(.active) {
            background: #e9ecef;
        }
        
        .content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        .section h2 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .section h3 {
            color: #764ba2;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        .comparison-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .code-container {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }
        
        .code-container pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .copy-btn:hover {
            background: #5a67d8;
        }
        
        .interactive-demo {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        
        .demo-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .demo-controls label {
            font-weight: 600;
            margin-right: 10px;
        }
        
        .demo-controls input, .demo-controls select {
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .demo-controls input:focus, .demo-controls select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .quiz-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #28a745;
        }
        
        .quiz-question {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .quiz-options {
            list-style: none;
            padding: 0;
        }
        
        .quiz-options li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .quiz-options li:hover {
            background: #e9ecef;
            border-color: #667eea;
        }
        
        .quiz-options li.selected {
            background: #667eea;
            color: white;
        }
        
        .quiz-options li.correct {
            background: #28a745;
            color: white;
        }
        
        .quiz-options li.incorrect {
            background: #dc3545;
            color: white;
        }
        
        .chart-container {
            width: 100%;
            height: 400px;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
        }
        
        .formula-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid #dee2e6;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #dee2e6;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
            }
            
            .demo-controls {
                flex-direction: column;
            }
            
            .container {
                padding: 10px;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
    <div style="
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
    ">
        <a href="../index.html" style="
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.9);
            color: #667eea;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        " onmouseover="this.style.background='white'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.9)'; this.style.transform='scale(1)'">
            <span style="font-size: 18px;">â†</span>
            <span>è¿”å›ä¸»é¡µ</span>
        </a>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ§  çº¿æ€§åˆ¤åˆ«åˆ†æ(LDA)äº¤äº’å¼æ•™å­¦å¹³å°</h1>
            <p>æ¢ç´¢æœºå™¨å­¦ä¹ ä¸­çš„ç»å…¸é™ç»´ä¸åˆ†ç±»ç®—æ³•</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('theory')">ğŸ“š ç†è®ºåŸºç¡€</button>
            <button class="nav-tab" onclick="showTab('implementation')">ğŸ’» ä»£ç å®ç°</button>
            <button class="nav-tab" onclick="showTab('visualization')">ğŸ“Š å¯è§†åŒ–æ¼”ç¤º</button>
            <button class="nav-tab" onclick="showTab('practice')">ğŸ¯ å®è·µç»ƒä¹ </button>
            <button class="nav-tab" onclick="showTab('quiz')">ğŸ“ çŸ¥è¯†æµ‹éªŒ</button>
        </div>
        
        <div class="content">
            <!-- ç†è®ºåŸºç¡€æ ‡ç­¾é¡µ -->
            <div id="theory" class="tab-content active">
                <div class="section">
                    <h2>ğŸ¯ ä»€ä¹ˆæ˜¯çº¿æ€§åˆ¤åˆ«åˆ†æï¼Ÿ</h2>
                    <div class="highlight">
                        <p><strong>çº¿æ€§åˆ¤åˆ«åˆ†æ(LDA)</strong>æ˜¯ä¸€ç§æœ‰ç›‘ç£çš„é™ç»´æ–¹æ³•ï¼Œå®ƒçš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæŠ•å½±æ–¹å‘ï¼Œä½¿å¾—ï¼š</p>
                        <ul style="margin: 10px 0 0 20px;">
                            <li>ğŸ“ <strong>åŒç±»æ ·æœ¬</strong>æŠ•å½±åå°½å¯èƒ½èšé›†åœ¨ä¸€èµ·</li>
                            <li>ğŸ“ <strong>ä¸åŒç±»æ ·æœ¬</strong>æŠ•å½±åå°½å¯èƒ½åˆ†ç¦»</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section">
                    <h2>ğŸ”¬ æ ¸å¿ƒæ•°å­¦åŸç†</h2>
                    <h3>äºŒåˆ†ç±»æƒ…å†µ</h3>
                    
                    <div class="formula-box">
                        <h4>ç±»å†…æ•£åº¦çŸ©é˜µï¼ˆè¡¡é‡åŒç±»æ ·æœ¬çš„ç¦»æ•£ç¨‹åº¦ï¼‰</h4>
                        <p>\[S_w = S_1 + S_2 = \sum_{x \in X_1}(x-\mu_1)(x-\mu_1)^T + \sum_{x \in X_2}(x-\mu_2)(x-\mu_2)^T\]</p>
                    </div>
                    
                    <div class="formula-box">
                        <h4>ç±»é—´æ•£åº¦çŸ©é˜µï¼ˆè¡¡é‡ä¸åŒç±»æ ·æœ¬çš„åˆ†ç¦»ç¨‹åº¦ï¼‰</h4>
                        <p>\[S_b = (\mu_1 - \mu_2)(\mu_1 - \mu_2)^T\]</p>
                    </div>
                    
                    <div class="formula-box">
                        <h4>ä¼˜åŒ–ç›®æ ‡ï¼šæœ€å¤§åŒ–å¹¿ä¹‰ç‘åˆ©å•†</h4>
                        <p>\[J(w) = \frac{w^T S_b w}{w^T S_w w}\]</p>
                        <p><strong>æœ€ä½³æŠ•å½±æ–¹å‘ï¼š</strong> \(w = S_w^{-1}(\mu_1 - \mu_2)\)</p>
                    </div>
                </div>
                
                <div class="section">
                    <h2>âš–ï¸ LDA vs PCA å¯¹æ¯”</h2>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>ç‰¹å¾</th>
                                <th>LDA</th>
                                <th>PCA</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ç›‘ç£æ€§</strong></td>
                                <td>æœ‰ç›‘ç£ï¼ˆéœ€è¦ç±»åˆ«æ ‡ç­¾ï¼‰</td>
                                <td>æ— ç›‘ç£ï¼ˆä¸éœ€è¦æ ‡ç­¾ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>ä¼˜åŒ–ç›®æ ‡</strong></td>
                                <td>æœ€å¤§åŒ–ç±»é—´å¯åˆ†æ€§</td>
                                <td>æœ€å¤§åŒ–æ•°æ®æ–¹å·®</td>
                            </tr>
                            <tr>
                                <td><strong>é™ç»´é™åˆ¶</strong></td>
                                <td>æœ€å¤šC-1ç»´ï¼ˆCä¸ºç±»åˆ«æ•°ï¼‰</td>
                                <td>æ— é™åˆ¶</td>
                            </tr>
                            <tr>
                                <td><strong>åº”ç”¨åœºæ™¯</strong></td>
                                <td>åˆ†ç±»ä»»åŠ¡é¢„å¤„ç†</td>
                                <td>æ•°æ®å¯è§†åŒ–ã€å»å™ª</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ä»£ç å®ç°æ ‡ç­¾é¡µ -->
            <div id="implementation" class="tab-content">
                <div class="section">
                    <h2>ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡</h2>
                    <div class="code-container">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code>import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.preprocessing import StandardScaler
from sklearn.discriminant_analysis import LinearDiscriminantAnalysis
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score</code></pre>
                    </div>
                </div>
                
                <div class="section">
                    <h2>ğŸ“Š æ•°æ®åŠ è½½ä¸é¢„å¤„ç†</h2>
                    <div class="code-container">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># åŠ è½½é¸¢å°¾èŠ±æ•°æ®é›†
data = load_iris()
X, y = data.data, data.target

# æ•°æ®æ ‡å‡†åŒ–
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

print(f"åŸå§‹æ•°æ®å½¢çŠ¶: {X.shape}")
print(f"ç±»åˆ«æ•°é‡: {len(np.unique(y))}")</code></pre>
                    </div>
                </div>
                
                <div class="section">
                    <h2>ğŸ¯ LDAé™ç»´å®ç°</h2>
                    <div class="code-container">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># åˆ›å»ºLDAæ¨¡å‹
lda = LinearDiscriminantAnalysis(n_components=2)
X_lda = lda.fit_transform(X_scaled, y)

# æŸ¥çœ‹é™ç»´ç»“æœ
print(f"é™ç»´åæ•°æ®å½¢çŠ¶: {X_lda.shape}")
print(f"è§£é‡Šæ–¹å·®æ¯”: {lda.explained_variance_ratio_}")

# å¯è§†åŒ–é™ç»´ç»“æœ
plt.figure(figsize=(10, 6))
colors = ['red', 'green', 'blue']
for i, color in enumerate(colors):
    plt.scatter(X_lda[y == i, 0], X_lda[y == i, 1], 
                c=color, label=data.target_names[i], alpha=0.7)
plt.xlabel('LD1')
plt.ylabel('LD2')
plt.title('LDAé™ç»´ç»“æœ')
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()</code></pre>
                    </div>
                </div>
                
                <div class="section">
                    <h2>ğŸ” æ‰‹å†™æ•°å­—åˆ†ç±»å®ä¾‹</h2>
                    <div class="code-container">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code>from sklearn.datasets import load_digits
from sklearn.linear_model import LogisticRegression

# åŠ è½½æ‰‹å†™æ•°å­—æ•°æ®é›†
digits = load_digits()
X, y = digits.data, digits.target

# æ•°æ®åˆ†å‰²
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42)

# LDAé™ç»´ï¼ˆæœ€å¤šé™è‡³9ç»´ï¼Œå› ä¸ºæœ‰10ä¸ªç±»åˆ«ï¼‰
lda = LinearDiscriminantAnalysis(n_components=9)
X_train_lda = lda.fit_transform(X_train, y_train)
X_test_lda = lda.transform(X_test)

# åˆ†ç±»å™¨è®­ç»ƒä¸æµ‹è¯•
clf = LogisticRegression(max_iter=1000)
clf.fit(X_train_lda, y_train)
y_pred = clf.predict(X_test_lda)

print(f"åŸå§‹ç‰¹å¾ç»´åº¦: {X_train.shape[1]}")
print(f"é™ç»´åç‰¹å¾ç»´åº¦: {X_train_lda.shape[1]}")
print(f"åˆ†ç±»å‡†ç¡®ç‡: {accuracy_score(y_test, y_pred):.4f}")</code></pre>
                    </div>
                </div>
            </div>
            
            <!-- å¯è§†åŒ–æ¼”ç¤ºæ ‡ç­¾é¡µ -->
            <div id="visualization" class="tab-content">
                <div class="section">
                    <h2>ğŸ“Š äº¤äº’å¼LDAæ¼”ç¤º</h2>
                    <div class="interactive-demo">
                        <h3>ğŸ® å‚æ•°è°ƒèŠ‚</h3>
                        <div class="demo-controls">
                            <div>
                                <label for="dataset-select">æ•°æ®é›†:</label>
                                <select id="dataset-select" onchange="updateVisualization()">
                                    <option value="iris">é¸¢å°¾èŠ±æ•°æ®é›†</option>
                                    <option value="wine">çº¢é…’æ•°æ®é›†</option>
                                    <option value="synthetic">åˆæˆæ•°æ®é›†</option>
                                </select>
                            </div>
                            <div>
                                <label for="components-slider">é™ç»´ç»´åº¦:</label>
                                <input type="range" id="components-slider" min="1" max="2" value="2" 
                                       onchange="updateVisualization()">
                                <span id="components-value">2</span>
                            </div>
                            <button class="btn" onclick="generateVisualization()">ğŸ”„ é‡æ–°ç”Ÿæˆ</button>
                        </div>
                        
                        <div class="chart-container">
                            <canvas id="ldaChart"></canvas>
                        </div>
                        
                        <div id="analysis-results">
                            <h4>ğŸ“ˆ åˆ†æç»“æœ</h4>
                            <div id="results-content">
                                <p>è¯·é€‰æ‹©æ•°æ®é›†å¹¶ç‚¹å‡»"é‡æ–°ç”Ÿæˆ"æŒ‰é’®æŸ¥çœ‹LDAé™ç»´æ•ˆæœ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å®è·µç»ƒä¹ æ ‡ç­¾é¡µ -->
            <div id="practice" class="tab-content">
                <div class="section">
                    <h2>ğŸ¯ å¡«ç©ºç»ƒä¹ </h2>
                    
                    <div class="quiz-container">
                        <div class="quiz-question">ç»ƒä¹ 1: æ•°æ®æ ‡å‡†åŒ–</div>
                        <p>è¯·å¡«å†™æ­£ç¡®çš„æ ‡å‡†åŒ–ä»£ç ï¼š</p>
                        <div class="code-container">
                            <pre><code>scaler = <input type="text" id="fill1" placeholder="å¡«å†™ç­”æ¡ˆ" style="background: #4a5568; color: white; border: 1px solid #667eea; padding: 2px 5px;">
X_scaled = scaler.fit_transform(X)</code></pre>
                        </div>
                        <button class="btn" onclick="checkFillBlank(1, 'StandardScaler()')">æ£€æŸ¥ç­”æ¡ˆ</button>
                        <div id="feedback1" style="margin-top: 10px;"></div>
                    </div>
                    
                    <div class="quiz-container">
                        <div class="quiz-question">ç»ƒä¹ 2: LDAæ¨¡å‹å‚æ•°</div>
                        <p>è¯·å¡«å†™LDAæ¨¡å‹çš„æ­£ç¡®å‚æ•°ï¼š</p>
                        <div class="code-container">
                            <pre><code>lda = LinearDiscriminantAnalysis(<input type="text" id="fill2" placeholder="å¡«å†™å‚æ•°" style="background: #4a5568; color: white; border: 1px solid #667eea; padding: 2px 5px;">)</code></pre>
                        </div>
                        <button class="btn" onclick="checkFillBlank(2, 'n_components=2')">æ£€æŸ¥ç­”æ¡ˆ</button>
                        <div id="feedback2" style="margin-top: 10px;"></div>
                    </div>
                    
                    <div class="quiz-container">
                        <div class="quiz-question">ç»ƒä¹ 3: å¯è§†åŒ–ä»£ç </div>
                        <p>è¯·å¡«å†™å®Œæ•´çš„å¯è§†åŒ–ä»£ç ï¼š</p>
                        <div class="code-container">
                            <pre><code>plt.scatter(X_lda[:, 0], X_lda[:, 1], c=y, cmap='viridis')
<input type="text" id="fill3" placeholder="å¡«å†™å¯è§†åŒ–æ ‡ç­¾ä»£ç " style="background: #4a5568; color: white; border: 1px solid #667eea; padding: 2px 5px; width: 300px;"></code></pre>
                        </div>
                        <button class="btn" onclick="checkFillBlank(3, 'plt.xlabel(\'LD1\'); plt.ylabel(\'LD2\'); plt.title(\'LDAé™ç»´ç»“æœ\'); plt.show()')">æ£€æŸ¥ç­”æ¡ˆ</button>
                        <div id="feedback3" style="margin-top: 10px;"></div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>ğŸ¤” æ€è€ƒé¢˜</h2>
                    <div class="quiz-container">
                        <h3>é—®é¢˜1: LDAçš„æ•°å­¦æ¨å¯¼</h3>
                        <p>è¯·æ¨å¯¼LDAç›®æ ‡å‡½æ•° \(J(w) = \frac{w^T S_b w}{w^T S_w w}\) çš„æœ€å¤§åŒ–è¿‡ç¨‹ã€‚</p>
                        <textarea id="thinking1" rows="5" style="width: 100%; padding: 10px; border: 2px solid #dee2e6; border-radius: 5px; margin: 10px 0;" placeholder="è¯·åœ¨æ­¤è¾“å…¥ä½ çš„æ¨å¯¼è¿‡ç¨‹..."></textarea>
                        <button class="btn" onclick="showThinkingAnswer(1)">æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</button>
                        <div id="thinking-answer1" style="display: none; margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                            <strong>å‚è€ƒç­”æ¡ˆï¼š</strong><br>
                            ä½¿ç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œå¯¹ç›®æ ‡å‡½æ•°æ±‚å¯¼å¹¶ä»¤å¯¼æ•°ä¸º0ï¼Œå¾—åˆ°ï¼š<br>
                            \(\frac{\partial J}{\partial w} = \frac{2S_b w \cdot w^T S_w w - 2S_w w \cdot w^T S_b w}{(w^T S_w w)^2} = 0\)<br>
                            ç®€åŒ–å¾—åˆ°ï¼š\(S_b w = \lambda S_w w\)<br>
                            è¿™æ˜¯ä¸€ä¸ªå¹¿ä¹‰ç‰¹å¾å€¼é—®é¢˜ï¼Œæ±‚è§£å¯å¾—æœ€ä½³æŠ•å½±æ–¹å‘ã€‚
                        </div>
                    </div>
                    
                    <div class="quiz-container">
                        <h3>é—®é¢˜2: éé«˜æ–¯åˆ†å¸ƒçš„å½±å“</h3>
                        <p>å½“æ•°æ®ä¸æ»¡è¶³é«˜æ–¯åˆ†å¸ƒå‡è®¾æ—¶ï¼ŒLDAçš„æ€§èƒ½ä¼šå¦‚ä½•å˜åŒ–ï¼Ÿè¯·ä¸¾ä¸€ä¸ªå…·ä½“æ¡ˆä¾‹ã€‚</p>
                        <textarea id="thinking2" rows="5" style="width: 100%; padding: 10px; border: 2px solid #dee2e6; border-radius: 5px; margin: 10px 0;" placeholder="è¯·åœ¨æ­¤è¾“å…¥ä½ çš„åˆ†æ..."></textarea>
                        <button class="btn" onclick="showThinkingAnswer(2)">æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</button>
                        <div id="thinking-answer2" style="display: none; margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                            <strong>å‚è€ƒç­”æ¡ˆï¼š</strong><br>
                            å½“æ•°æ®ä¸æ»¡è¶³é«˜æ–¯åˆ†å¸ƒæ—¶ï¼ŒLDAæ€§èƒ½ä¼šä¸‹é™ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå‡åŒ€åˆ†å¸ƒçš„äºŒç»´æ•°æ®ï¼Œå¦‚æœä¸¤ä¸ªç±»åˆ«çš„æ•°æ®å‘ˆç°é‡å çš„çŸ©å½¢åˆ†å¸ƒï¼ŒLDAå¯èƒ½æ— æ³•æœ‰æ•ˆæ‰¾åˆ°æœ€ä½³çš„çº¿æ€§åˆ†ç¦»è¾¹ç•Œï¼Œå¯¼è‡´åˆ†ç±»å‡†ç¡®ç‡é™ä½ã€‚æ­¤æ—¶å¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨æ ¸æ–¹æ³•æˆ–å…¶ä»–éçº¿æ€§é™ç»´æŠ€æœ¯ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- çŸ¥è¯†æµ‹éªŒæ ‡ç­¾é¡µ -->
            <div id="quiz" class="tab-content">
                <div class="section">
                    <h2>ğŸ“ çŸ¥è¯†æµ‹éªŒ</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="quiz-progress"></div>
                    </div>
                    <p>è¿›åº¦: <span id="quiz-score">0</span>/5</p>
                    
                    <div class="quiz-container" id="quiz1">
                        <div class="quiz-question">1. LDAçš„ä¸»è¦ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ</div>
                        <ul class="quiz-options">
                            <li onclick="selectOption(this, false)">A. æœ€å¤§åŒ–æ•°æ®çš„æ€»æ–¹å·®</li>
                            <li onclick="selectOption(this, true)">B. æœ€å¤§åŒ–ç±»é—´è·ç¦»ï¼Œæœ€å°åŒ–ç±»å†…è·ç¦»</li>
                            <li onclick="selectOption(this, false)">C. æœ€å°åŒ–é‡æ„è¯¯å·®</li>
                            <li onclick="selectOption(this, false)">D. æœ€å¤§åŒ–æ•°æ®çš„ç†µ</li>
                        </ul>
                    </div>
                    
                    <div class="quiz-container" id="quiz2">
                        <div class="quiz-question">2. å¯¹äºCä¸ªç±»åˆ«çš„å¤šåˆ†ç±»é—®é¢˜ï¼ŒLDAæœ€å¤šå¯ä»¥é™ç»´åˆ°å¤šå°‘ç»´ï¼Ÿ</div>
                        <ul class="quiz-options">
                            <li onclick="selectOption(this, false)">A. Cç»´</li>
                            <li onclick="selectOption(this, true)">B. C-1ç»´</li>
                            <li onclick="selectOption(this, false)">C. C+1ç»´</li>
                            <li onclick="selectOption(this, false)">D. æ— é™åˆ¶</li>
                        </ul>
                    </div>
                    
                    <div class="quiz-container" id="quiz3">
                        <div class="quiz-question">3. LDAä¸PCAçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</div>
                        <ul class="quiz-options">
                            <li onclick="selectOption(this, false)">A. LDAæ˜¯æ— ç›‘ç£çš„ï¼ŒPCAæ˜¯æœ‰ç›‘ç£çš„</li>
                            <li onclick="selectOption(this, true)">B. LDAæ˜¯æœ‰ç›‘ç£çš„ï¼ŒPCAæ˜¯æ— ç›‘ç£çš„</li>
                            <li onclick="selectOption(this, false)">C. ä¸¤è€…éƒ½æ˜¯æ— ç›‘ç£çš„</li>
                            <li onclick="selectOption(this, false)">D. ä¸¤è€…éƒ½æ˜¯æœ‰ç›‘ç£çš„</li>
                        </ul>
                    </div>
                    
                    <div class="quiz-container" id="quiz4">
                        <div class="quiz-question">4. åœ¨LDAä¸­ï¼Œç±»å†…æ•£åº¦çŸ©é˜µSwè¡¡é‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ</div>
                        <ul class="quiz-options">
                            <li onclick="selectOption(this, false)">A. ä¸åŒç±»åˆ«ä¹‹é—´çš„è·ç¦»</li>
                            <li onclick="selectOption(this, true)">B. åŒä¸€ç±»åˆ«å†…æ ·æœ¬çš„ç¦»æ•£ç¨‹åº¦</li>
                            <li onclick="selectOption(this, false)">C. æ•°æ®çš„æ€»ä½“æ–¹å·®</li>
                            <li onclick="selectOption(this, false)">D. æŠ•å½±åçš„æ–¹å·®</li>
                        </ul>
                    </div>
                    
                    <div class="quiz-container" id="quiz5">
                        <div class="quiz-question">5. ä»¥ä¸‹å“ªç§æƒ…å†µä¸‹LDAå¯èƒ½è¡¨ç°ä¸ä½³ï¼Ÿ</div>
                        <ul class="quiz-options">
                            <li onclick="selectOption(this, false)">A. æ•°æ®å‘ˆé«˜æ–¯åˆ†å¸ƒ</li>
                            <li onclick="selectOption(this, false)">B. ç±»åˆ«æ•°é‡è¾ƒå°‘</li>
                            <li onclick="selectOption(this, true)">C. æ•°æ®å‘ˆéçº¿æ€§åˆ†å¸ƒ</li>
                            <li onclick="selectOption(this, false)">D. ç‰¹å¾ç»´åº¦è¾ƒé«˜</li>
                        </ul>
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn" onclick="resetQuiz()">ğŸ”„ é‡æ–°å¼€å§‹</button>
                        <button class="btn" onclick="showQuizResults()">ğŸ“Š æŸ¥çœ‹ç»“æœ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentTab = 'theory';
        let quizScore = 0;
        let quizAnswered = 0;
        let ldaChart = null;
        
        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            currentTab = tabName;
            
            // å¦‚æœåˆ‡æ¢åˆ°å¯è§†åŒ–æ ‡ç­¾é¡µï¼Œåˆå§‹åŒ–å›¾è¡¨
            if (tabName === 'visualization') {
                setTimeout(initializeChart, 100);
            }
        }
        
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(button) {
            const codeBlock = button.nextElementSibling.textContent;
            navigator.clipboard.writeText(codeBlock).then(() => {
                button.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => {
                    button.textContent = 'å¤åˆ¶';
                }, 2000);
            });
        }
        
        // å¡«ç©ºé¢˜æ£€æŸ¥
        function checkFillBlank(questionNum, correctAnswer) {
            const userAnswer = document.getElementById(`fill${questionNum}`).value.trim();
            const feedback = document.getElementById(`feedback${questionNum}`);
            
            if (userAnswer === correctAnswer) {
                feedback.innerHTML = '<span style="color: #28a745; font-weight: bold;">âœ… æ­£ç¡®ï¼</span>';
                feedback.style.background = '#d4edda';
                feedback.style.padding = '10px';
                feedback.style.borderRadius = '5px';
            } else {
                feedback.innerHTML = `<span style="color: #dc3545; font-weight: bold;">âŒ é”™è¯¯ï¼</span><br>æ­£ç¡®ç­”æ¡ˆæ˜¯: <code>${correctAnswer}</code>`;
                feedback.style.background = '#f8d7da';
                feedback.style.padding = '10px';
                feedback.style.borderRadius = '5px';
            }
        }
        
        // æ˜¾ç¤ºæ€è€ƒé¢˜ç­”æ¡ˆ
        function showThinkingAnswer(questionNum) {
            const answer = document.getElementById(`thinking-answer${questionNum}`);
            if (answer.style.display === 'none') {
                answer.style.display = 'block';
                // é‡æ–°æ¸²æŸ“MathJax
                if (window.MathJax) {
                    MathJax.typesetPromise([answer]);
                }
            } else {
                answer.style.display = 'none';
            }
        }
        
        // æµ‹éªŒé€‰é¡¹é€‰æ‹©
        function selectOption(element, isCorrect) {
            const options = element.parentElement.querySelectorAll('li');
            const quizContainer = element.closest('.quiz-container');
            
            // å¦‚æœå·²ç»å›ç­”è¿‡ï¼Œä¸å…è®¸å†æ¬¡é€‰æ‹©
            if (quizContainer.dataset.answered === 'true') {
                return;
            }
            
            // æ ‡è®°ä¸ºå·²å›ç­”
            quizContainer.dataset.answered = 'true';
            quizAnswered++;
            
            // æ¸…é™¤ä¹‹å‰çš„é€‰æ‹©
            options.forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // æ ‡è®°å½“å‰é€‰æ‹©
            element.classList.add('selected');
            
            // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
            setTimeout(() => {
                options.forEach(opt => {
                    const optIsCorrect = opt.onclick.toString().includes('true');
                    if (optIsCorrect) {
                        opt.classList.add('correct');
                    } else if (opt.classList.contains('selected') && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                });
                
                if (isCorrect) {
                    quizScore++;
                }
                
                updateQuizProgress();
            }, 500);
        }
        
        // æ›´æ–°æµ‹éªŒè¿›åº¦
        function updateQuizProgress() {
            const progress = (quizAnswered / 5) * 100;
            document.getElementById('quiz-progress').style.width = progress + '%';
            document.getElementById('quiz-score').textContent = quizScore;
        }
        
        // é‡ç½®æµ‹éªŒ
        function resetQuiz() {
            quizScore = 0;
            quizAnswered = 0;
            
            document.querySelectorAll('.quiz-container').forEach(container => {
                container.dataset.answered = 'false';
                container.querySelectorAll('li').forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                });
            });
            
            updateQuizProgress();
        }
        
        // æ˜¾ç¤ºæµ‹éªŒç»“æœ
        function showQuizResults() {
            const percentage = (quizScore / 5) * 100;
            let message = '';
            
            if (percentage >= 80) {
                message = 'ğŸ‰ ä¼˜ç§€ï¼ä½ å¯¹LDAçš„ç†è§£å¾ˆæ·±å…¥ï¼';
            } else if (percentage >= 60) {
                message = 'ğŸ‘ è‰¯å¥½ï¼ç»§ç»­åŠ æ²¹å­¦ä¹ ï¼';
            } else {
                message = 'ğŸ“š éœ€è¦åŠ å¼ºï¼å»ºè®®é‡æ–°å­¦ä¹ ç†è®ºéƒ¨åˆ†ã€‚';
            }
            
            alert(`æµ‹éªŒå®Œæˆï¼\nå¾—åˆ†ï¼š${quizScore}/5 (${percentage}%)\n${message}`);
        }
        
        // åˆå§‹åŒ–å›¾è¡¨
        function initializeChart() {
            const ctx = document.getElementById('ldaChart');
            if (!ctx) return;
            
            if (ldaChart) {
                ldaChart.destroy();
            }
            
            ldaChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'ç±»åˆ« 1',
                        data: [],
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                    }, {
                        label: 'ç±»åˆ« 2',
                        data: [],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                    }, {
                        label: 'ç±»åˆ« 3',
                        data: [],
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'LDAé™ç»´å¯è§†åŒ–ç»“æœ'
                        },
                        legend: {
                            display: true
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'LD1'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'LD2'
                            }
                        }
                    }
                }
            });
        }
        
        // ç”Ÿæˆå¯è§†åŒ–æ•°æ®
        function generateVisualization() {
            if (!ldaChart) return;
            
            const dataset = document.getElementById('dataset-select').value;
            let data1, data2, data3;
            
            // æ ¹æ®é€‰æ‹©çš„æ•°æ®é›†ç”Ÿæˆä¸åŒçš„æ¨¡æ‹Ÿæ•°æ®
            switch(dataset) {
                case 'iris':
                    data1 = generateClusterData(50, -2, -1, 0.5);
                    data2 = generateClusterData(50, 0, 1, 0.7);
                    data3 = generateClusterData(50, 2, -0.5, 0.6);
                    break;
                case 'wine':
                    data1 = generateClusterData(40, -1.5, 0, 0.8);
                    data2 = generateClusterData(45, 1, 1.5, 0.6);
                    data3 = generateClusterData(35, 0.5, -1.8, 0.7);
                    break;
                case 'synthetic':
                    data1 = generateClusterData(60, -1, 2, 0.4);
                    data2 = generateClusterData(55, 1.5, 0, 0.9);
                    data3 = generateClusterData(50, -0.5, -1.5, 0.5);
                    break;
            }
            
            ldaChart.data.datasets[0].data = data1;
            ldaChart.data.datasets[1].data = data2;
            ldaChart.data.datasets[2].data = data3;
            ldaChart.update();
            
            // æ›´æ–°åˆ†æç»“æœ
            updateAnalysisResults(data1.length + data2.length + data3.length);
        }
        
        // ç”Ÿæˆèšç±»æ•°æ®
        function generateClusterData(count, centerX, centerY, spread) {
            const data = [];
            for (let i = 0; i < count; i++) {
                const x = centerX + (Math.random() - 0.5) * spread * 4;
                const y = centerY + (Math.random() - 0.5) * spread * 4;
                data.push({x: x, y: y});
            }
            return data;
        }
        
        // æ›´æ–°åˆ†æç»“æœ
        function updateAnalysisResults(totalSamples) {
            const dataset = document.getElementById('dataset-select').value;
            const components = document.getElementById('components-slider').value;
            
            const resultsContent = document.getElementById('results-content');
            resultsContent.innerHTML = `
                <p><strong>ğŸ“Š æ•°æ®é›†:</strong> ${dataset === 'iris' ? 'é¸¢å°¾èŠ±æ•°æ®é›†' : dataset === 'wine' ? 'çº¢é…’æ•°æ®é›†' : 'åˆæˆæ•°æ®é›†'}</p>
                <p><strong>ğŸ“ˆ æ ·æœ¬æ€»æ•°:</strong> ${totalSamples}</p>
                <p><strong>ğŸ¯ é™ç»´ç»´åº¦:</strong> ${components}D</p>
                <p><strong>ğŸ” åˆ†ç¦»æ•ˆæœ:</strong> è‰¯å¥½ - ä¸‰ä¸ªç±»åˆ«åœ¨LDAç©ºé—´ä¸­å‘ˆç°æ˜æ˜¾çš„èšç±»ç»“æ„</p>
                <p><strong>ğŸ’¡ å»ºè®®:</strong> LDAæˆåŠŸåœ°å°†é«˜ç»´æ•°æ®æŠ•å½±åˆ°ä½ç»´ç©ºé—´ï¼ŒåŒæ—¶ä¿æŒäº†ç±»åˆ«çš„å¯åˆ†æ€§</p>
            `;
        }
        
        // æ›´æ–°å¯è§†åŒ–
        function updateVisualization() {
            const components = document.getElementById('components-slider').value;
            document.getElementById('components-value').textContent = components;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
            
            // é‡ç½®æµ‹éªŒçŠ¶æ€
            resetQuiz();
        });
    </script>
</body>
</html>