<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¯æŒå‘é‡æœºå®éªŒæ•™å­¦å¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            border-right: 1px solid #dee2e6;
        }
        
        .nav-tab:last-child {
            border-right: none;
        }
        
        .nav-tab.active {
            background: white;
            color: #667eea;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .content {
            background: white;
            border-radius: 0 0 10px 10px;
            padding: 30px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            min-height: 600px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        .section h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .section h3 {
            color: #764ba2;
            margin: 20px 0 10px 0;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            position: relative;
        }
        
        .code-block pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .copy-btn:hover {
            background: #5a6fd8;
        }
        
        .result-image {
            text-align: center;
            margin: 20px 0;
        }
        
        .result-image img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .interactive-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .parameter-control {
            margin: 15px 0;
        }
        
        .parameter-control label {
            display: inline-block;
            width: 120px;
            font-weight: bold;
        }
        
        .parameter-control input, .parameter-control select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-left: 10px;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.3s ease;
        }
        
        .btn:hover {
            background: #5a6fd8;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        
        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .math {
            font-style: italic;
            background: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .canvas-container {
            text-align: center;
            margin: 20px 0;
        }
        
        canvas {
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
    <div style="
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
    ">
        <a href="../index.html" style="
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.9);
            color: #667eea;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        " onmouseover="this.style.background='white'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.9)'; this.style.transform='scale(1)'">
            <span style="font-size: 18px;">â†</span>
            <span>è¿”å›ä¸»é¡µ</span>
        </a>
    </div>

    <div class="container">
        <div class="header">
            <h1>æ”¯æŒå‘é‡æœºå®éªŒæ•™å­¦å¹³å°</h1>
            <p>æ·±å…¥ç†è§£SVMç®—æ³•åŸç†ï¼ŒæŒæ¡çº¿æ€§ä¸éçº¿æ€§åˆ†ç±»å®ç°</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('theory')">ç®—æ³•åŸç†</button>
            <button class="nav-tab" onclick="showTab('linear')">çº¿æ€§SVM</button>
            <button class="nav-tab" onclick="showTab('nonlinear')">éçº¿æ€§SVM</button>
            <button class="nav-tab" onclick="showTab('optimization')">å‚æ•°è°ƒä¼˜</button>
            <button class="nav-tab" onclick="showTab('interactive')">äº¤äº’å®ä¾‹</button>
        </div>
        
        <div class="content">
            <!-- ç®—æ³•åŸç†æ ‡ç­¾é¡µ -->
            <div id="theory" class="tab-content active">
                <div class="section">
                    <h2>æ”¯æŒå‘é‡æœºåŸºæœ¬æ¦‚å¿µ</h2>
                    
                    <h3>1.1 ç®—æ³•åŸç†</h3>
                    <p>æ”¯æŒå‘é‡æœºï¼ˆSupport Vector Machine, SVMï¼‰æ˜¯ä¸€ç§<strong>ç›‘ç£å­¦ä¹ ç®—æ³•</strong>ï¼Œä¸»è¦ç”¨äºåˆ†ç±»ä»»åŠ¡ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨ç‰¹å¾ç©ºé—´ä¸­æ‰¾åˆ°<strong>æœ€ä¼˜è¶…å¹³é¢</strong>ï¼Œå®ç°ä¸åŒç±»åˆ«æ ·æœ¬çš„åˆ†ç¦»ã€‚</p>
                    
                    <div class="alert alert-info">
                        <strong>æ ¸å¿ƒç›®æ ‡ï¼š</strong>æœ€å¤§åŒ–åˆ†ç±»é—´éš”ï¼ˆMarginï¼‰â€”â€”å³ä¸¤ç±»æ ·æœ¬ä¸­è·ç¦»è¶…å¹³é¢æœ€è¿‘çš„ç‚¹ï¼ˆæ”¯æŒå‘é‡ï¼‰åˆ°è¶…å¹³é¢çš„è·ç¦»ä¹‹å’Œã€‚
                    </div>
                    
                    <h3>1.2 æ•°å­¦å½¢å¼</h3>
                    <p>å¯¹äºç»™å®šè®­ç»ƒæ ·æœ¬é›† (x<sub>i</sub>, y<sub>i</sub>)ï¼Œè¶…å¹³é¢æ–¹ç¨‹å®šä¹‰ä¸ºï¼š</p>
                    <div class="math">w<sup>T</sup>x + b = 0</div>
                    <p>æ ·æœ¬ç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»ä¸ºï¼š</p>
                    <div class="math">distance = |w<sup>T</sup>x + b| / ||w||</div>
                    
                    <h3>1.3 æ ¸å‡½æ•°ç±»å‹</h3>
                    <table>
                        <tr>
                            <th>æ ¸å‡½æ•°ç±»å‹</th>
                            <th>è¡¨è¾¾å¼</th>
                            <th>é€‚ç”¨åœºæ™¯</th>
                        </tr>
                        <tr>
                            <td>çº¿æ€§æ ¸ï¼ˆLinearï¼‰</td>
                            <td>K(x<sub>i</sub>, x<sub>j</sub>) = x<sub>i</sub><sup>T</sup>x<sub>j</sub></td>
                            <td>çº¿æ€§å¯åˆ†æ•°æ®</td>
                        </tr>
                        <tr>
                            <td>å¤šé¡¹å¼æ ¸ï¼ˆPolyï¼‰</td>
                            <td>K(x<sub>i</sub>, x<sub>j</sub>) = (x<sub>i</sub><sup>T</sup>x<sub>j</sub> + c)<sup>d</sup></td>
                            <td>ç‰¹å¾é—´å­˜åœ¨å¤šé¡¹å¼å…³ç³»</td>
                        </tr>
                        <tr>
                            <td class="highlight">å¾„å‘åŸºæ ¸ï¼ˆRBFï¼‰</td>
                            <td>K(x<sub>i</sub>, x<sub>j</sub>) = exp(-Î³||x<sub>i</sub> - x<sub>j</sub>||<sup>2</sup>)</td>
                            <td>éçº¿æ€§å…³ç³»ï¼Œé»˜è®¤é€‰æ‹©</td>
                        </tr>
                        <tr>
                            <td>Sigmoidæ ¸</td>
                            <td>K(x<sub>i</sub>, x<sub>j</sub>) = tanh(Î³x<sub>i</sub><sup>T</sup>x<sub>j</sub> + c)</td>
                            <td>ç±»ç¥ç»ç½‘ç»œåœºæ™¯</td>
                        </tr>
                    </table>
                    
                    <h3>1.4 å…³é”®å‚æ•°</h3>
                    <ul>
                        <li><strong>æƒ©ç½šå‚æ•° Cï¼š</strong>Cè¶Šå¤§ï¼Œå¯¹è¯¯åˆ†ç±»æ ·æœ¬æƒ©ç½šè¶Šé‡ï¼Œæ¨¡å‹æ˜“è¿‡æ‹Ÿåˆï¼›Cè¶Šå°ï¼Œå…è®¸æ›´å¤šè¯¯åˆ†ç±»ï¼Œæ¨¡å‹æ³›åŒ–èƒ½åŠ›å¢å¼ºã€‚</li>
                        <li><strong>RBFæ ¸å‚æ•° Î³ï¼š</strong>æ§åˆ¶æ ·æœ¬å½±å“èŒƒå›´ï¼ŒÎ³è¶Šå¤§ï¼Œæ”¯æŒå‘é‡å½±å“è¶Šå°ï¼Œæ¨¡å‹è¶Šå¤æ‚ã€‚</li>
                    </ul>
                </div>
            </div>
            
            <!-- çº¿æ€§SVMæ ‡ç­¾é¡µ -->
            <div id="linear" class="tab-content">
                <div class="section">
                    <h2>çº¿æ€§æ”¯æŒå‘é‡æœºå®ç°</h2>
                    
                    <h3>å®éªŒç›®çš„</h3>
                    <ul>
                        <li>æŒæ¡çº¿æ€§SVMçš„å»ºæ¨¡æµç¨‹</li>
                        <li>ç†è§£å†³ç­–è¾¹ç•Œä¸æ”¯æŒå‘é‡çš„å…³ç³»</li>
                        <li>å¯è§†åŒ–åˆ†ç±»ç»“æœ</li>
                    </ul>
                    
                    <h3>ç¯å¢ƒå‡†å¤‡</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code>import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_breast_cancer
from sklearn.model_selection import train_test_split
from sklearn.svm import LinearSVC
from sklearn.metrics import accuracy_score
from sklearn.decomposition import PCA
from sklearn.preprocessing import StandardScaler</code></pre>
                    </div>
                    
                    <h3>æ•°æ®åŠ è½½ä¸é¢„å¤„ç†</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># åŠ è½½ä¹³è…ºç™Œæ•°æ®é›†
data = load_breast_cancer()
X, y = data.data, data.target
feature_names = data.feature_names

# åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†ï¼ˆ7:3ï¼‰
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.3, random_state=42
)

# æ•°æ®æ ‡å‡†åŒ–ï¼ˆSVMå¯¹ç‰¹å¾å°ºåº¦æ•æ„Ÿï¼‰
scaler = StandardScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)</code></pre>
                    </div>
                    
                    <h3>æ¨¡å‹è®­ç»ƒä¸é¢„æµ‹</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># åˆ›å»ºçº¿æ€§SVMæ¨¡å‹
svm_linear = LinearSVC(C=1.0, max_iter=10000, random_state=42)

# è®­ç»ƒæ¨¡å‹
svm_linear.fit(X_train_scaled, y_train)

# é¢„æµ‹æµ‹è¯•é›†
y_pred = svm_linear.predict(X_test_scaled)

# è®¡ç®—å‡†ç¡®ç‡
accuracy = accuracy_score(y_test, y_pred)
print(f"æµ‹è¯•é›†å‡†ç¡®ç‡: {accuracy:.4f}")</code></pre>
                    </div>
                    
                    <h3>ç»“æœå¯è§†åŒ–</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># é™ç»´è‡³2Dè¿›è¡Œå¯è§†åŒ–
pca = PCA(n_components=2)
X_train_pca = pca.fit_transform(X_train_scaled)

# ç»˜åˆ¶å†³ç­–è¾¹ç•Œ
h = 0.02
x_min, x_max = X_train_pca[:, 0].min() - 1, X_train_pca[:, 0].max() + 1
y_min, y_max = X_train_pca[:, 1].min() - 1, X_train_pca[:, 1].max() + 1
xx, yy = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))

# ç”¨é™ç»´åçš„æ•°æ®è®­ç»ƒæ¨¡å‹
svm_vis = LinearSVC(C=1.0, max_iter=10000)
svm_vis.fit(X_train_pca, y_train)
Z = svm_vis.predict(np.c_[xx.ravel(), yy.ravel()])
Z = Z.reshape(xx.shape)

# ç»˜åˆ¶å›¾å½¢
plt.figure(figsize=(10, 6))
plt.contourf(xx, yy, Z, alpha=0.3, cmap=plt.cm.coolwarm)
plt.scatter(X_train_pca[:, 0], X_train_pca[:, 1], c=y_train, cmap=plt.cm.coolwarm, edgecolors='k')
plt.xlabel('PCA Component 1')
plt.ylabel('PCA Component 2')
plt.title('Linear SVM Decision Boundary (PCA-reduced Data)')
plt.show()</code></pre>
                    </div>
                    
                    <div class="result-image">
                        <h3>å®éªŒç»“æœå›¾</h3>
                        <img src="static/linear_svm_result.png" alt="çº¿æ€§SVMåˆ†ç±»ç»“æœ" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWunumqjOe7k+aenOWbvuWwhuWcqOi/meemgeaYvuekujwvdGV4dD48L3N2Zz4='">
                        <p><em>çº¿æ€§SVMåœ¨PCAé™ç»´åçš„å†³ç­–è¾¹ç•Œå¯è§†åŒ–</em></p>
                    </div>
                    
                    <div class="alert alert-success">
                        <strong>å®éªŒç»“æœåˆ†æï¼š</strong>
                        <ul>
                            <li>çº¿æ€§SVMåœ¨ä¹³è…ºç™Œæ•°æ®é›†ä¸Šé€šå¸¸èƒ½è¾¾åˆ°95%ä»¥ä¸Šçš„å‡†ç¡®ç‡</li>
                            <li>å†³ç­–è¾¹ç•Œåœ¨2Dç©ºé—´ä¸­è¡¨ç°ä¸ºç›´çº¿ï¼Œé«˜ç»´ç©ºé—´ä¸­ä¸ºè¶…å¹³é¢</li>
                            <li>æ”¯æŒå‘é‡æ˜¯è·ç¦»å†³ç­–è¾¹ç•Œæœ€è¿‘çš„æ ·æœ¬ç‚¹</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- éçº¿æ€§SVMæ ‡ç­¾é¡µ -->
            <div id="nonlinear" class="tab-content">
                <div class="section">
                    <h2>éçº¿æ€§æ”¯æŒå‘é‡æœºå®ç°</h2>
                    
                    <h3>å®éªŒç›®çš„</h3>
                    <ul>
                        <li>æŒæ¡æ ¸å‡½æ•°ï¼ˆå°¤å…¶æ˜¯RBFï¼‰çš„åº”ç”¨</li>
                        <li>å¯¹æ¯”çº¿æ€§ä¸éçº¿æ€§SVMçš„åˆ†ç±»æ•ˆæœ</li>
                        <li>ç†è§£æ ¸å‡½æ•°å‚æ•°å¯¹æ¨¡å‹çš„å½±å“</li>
                    </ul>
                    
                    <h3>æ•°æ®ç”Ÿæˆä¸å¯è§†åŒ–</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code>from sklearn.datasets import make_moons
from sklearn.svm import SVC

# ç”Ÿæˆéçº¿æ€§æ•°æ®ï¼ˆå«å™ªå£°ï¼‰
X, y = make_moons(n_samples=200, noise=0.1, random_state=42)

# å¯è§†åŒ–æ•°æ®
plt.figure(figsize=(8, 6))
plt.scatter(X[:, 0], X[:, 1], c=y, cmap=plt.cm.coolwarm, edgecolors='k')
plt.xlabel('Feature 1')
plt.ylabel('Feature 2')
plt.title('Nonlinear Dataset (moons)')
plt.show()</code></pre>
                    </div>
                    
                    <div class="result-image">
                        <h3>æœˆç‰™æ•°æ®é›†å¯è§†åŒ–</h3>
                        <img src="static/moons_dataset.png" alt="æœˆç‰™æ•°æ®é›†" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuaciOeJmeaVsOaNrumbhjwvdGV4dD48L3N2Zz4='">
                        <p><em>éçº¿æ€§æœˆç‰™å½¢çŠ¶æ•°æ®é›†ï¼ŒåŒ…å«ä¸¤ä¸ªäº¤é”™çš„åŠåœ†å½¢ç±»åˆ«</em></p>
                    </div>
                    
                    <h3>RBFæ ¸SVMæ¨¡å‹è®­ç»ƒ</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)

# åˆ›å»ºRBFæ ¸SVMæ¨¡å‹
svm_rbf = SVC(kernel='rbf', gamma='scale', C=1.0, random_state=42)

# è®­ç»ƒä¸é¢„æµ‹
svm_rbf.fit(X_train, y_train)
y_pred_rbf = svm_rbf.predict(X_test)
accuracy_rbf = accuracy_score(y_test, y_pred_rbf)
print(f"RBF SVMæµ‹è¯•é›†å‡†ç¡®ç‡: {accuracy_rbf:.4f}")</code></pre>
                    </div>
                    
                    <h3>ä¸åŒæ ¸å‡½æ•°æ•ˆæœå¯¹æ¯”</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># å®šä¹‰æ ¸å‡½æ•°åˆ—è¡¨
kernels = ['linear', 'rbf', 'poly']
titles = ['Linear Kernel', 'RBF Kernel', 'Polynomial Kernel']

# ç»˜åˆ¶å†³ç­–è¾¹ç•Œå¯¹æ¯”
plt.figure(figsize=(15, 5))
for i, kernel in enumerate(kernels):
    # è®­ç»ƒæ¨¡å‹
    svm = SVC(kernel=kernel, gamma='scale', C=1.0, random_state=42)
    svm.fit(X_train, y_train)
    
    # ç»˜åˆ¶å†³ç­–è¾¹ç•Œ
    plt.subplot(1, 3, i+1)
    h = 0.02
    x_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1
    y_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1
    xx, yy = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))
    Z = svm.predict(np.c_[xx.ravel(), yy.ravel()])
    Z = Z.reshape(xx.shape)
    plt.contourf(xx, yy, Z, alpha=0.3, cmap=plt.cm.coolwarm)
    plt.scatter(X[:, 0], X[:, 1], c=y, cmap=plt.cm.coolwarm, edgecolors='k')
    plt.title(titles[i])
plt.show()</code></pre>
                    </div>
                    
                    <div class="result-image">
                        <h3>å®éªŒç»“æœå›¾</h3>
                        <img src="static/nonlinear_svm_result.png" alt="éçº¿æ€§SVMåˆ†ç±»ç»“æœ" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuS4jeWQjOaguOWHveaVsOeahOWIhuexu+aViOaenOWvueavlDwvdGV4dD48L3N2Zz4='">
                        <p><em>ä¸åŒæ ¸å‡½æ•°çš„åˆ†ç±»æ•ˆæœå¯¹æ¯”ï¼šçº¿æ€§æ ¸ã€RBFæ ¸ã€å¤šé¡¹å¼æ ¸</em></p>
                    </div>
                    
                    <div class="result-image">
                        <h3>æ”¯æŒå‘é‡å¯è§†åŒ–</h3>
                        <img src="static/support_vectors.png" alt="æ”¯æŒå‘é‡å¯è§†åŒ–" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuaUr+aMgeWQkeemj+WPr+inhuWMljwvdGV4dD48L3N2Zz4='">
                        <p><em>RBFæ ¸SVMçš„æ”¯æŒå‘é‡ï¼ˆç”¨åœ†åœˆæ ‡è®°ï¼‰å’Œå†³ç­–è¾¹ç•Œ</em></p>
                    </div>
                    
                    <div class="alert alert-success">
                        <strong>å®éªŒç»“æœåˆ†æï¼š</strong>
                        <ul>
                            <li><strong>çº¿æ€§æ ¸ï¼š</strong>æ— æ³•å¤„ç†éçº¿æ€§æ•°æ®ï¼Œåˆ†ç±»è¾¹ç•Œä¸ºç›´çº¿</li>
                            <li><strong>RBFæ ¸ï¼š</strong>é€šè¿‡é«˜æ–¯å‡½æ•°å°†æ•°æ®æ˜ å°„åˆ°é«˜ç»´ï¼Œå¯æ‹Ÿåˆå¤æ‚è¾¹ç•Œ</li>
                            <li><strong>å¤šé¡¹å¼æ ¸ï¼š</strong>é€‚ç”¨äºç‰¹å¾é—´å­˜åœ¨å¤šé¡¹å¼å…³ç³»çš„æ•°æ®</li>
                            <li><strong>Î³å‚æ•°å½±å“ï¼š</strong>Î³è¿‡å¤§æ˜“è¿‡æ‹Ÿåˆï¼ŒÎ³è¿‡å°æ˜“æ¬ æ‹Ÿåˆ</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- å‚æ•°è°ƒä¼˜æ ‡ç­¾é¡µ -->
            <div id="optimization" class="tab-content">
                <div class="section">
                    <h2>æ”¯æŒå‘é‡æœºå‚æ•°è°ƒä¼˜</h2>
                    
                    <h3>è°ƒä¼˜ç›®æ ‡</h3>
                    <p>é€šè¿‡ä¼˜åŒ–è¶…å‚æ•°æå‡æ¨¡å‹æ€§èƒ½ï¼Œæ ¸å¿ƒå‚æ•°åŒ…æ‹¬ï¼š</p>
                    <ul>
                        <li><strong>Cï¼š</strong>æƒ©ç½šç³»æ•°ï¼Œæ§åˆ¶è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆå¹³è¡¡</li>
                        <li><strong>Î³ï¼š</strong>RBFæ ¸å‡½æ•°çš„å¸¦å®½å‚æ•°ï¼Œæ§åˆ¶æ ·æœ¬å½±å“èŒƒå›´</li>
                        <li><strong>æ ¸å‡½æ•°ç±»å‹ï¼š</strong>çº¿æ€§/éçº¿æ€§é€‰æ‹©</li>
                    </ul>
                    
                    <h3>ç½‘æ ¼æœç´¢å®ç°</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code>from sklearn.model_selection import GridSearchCV
import seaborn as sns
import pandas as pd

# å®šä¹‰å‚æ•°ç½‘æ ¼
param_grid = {
    'C': [0.1, 1, 10],
    'gamma': [0.01, 0.1, 1],
    'kernel': ['rbf']
}

# åˆ›å»ºSVMæ¨¡å‹
svm = SVC(random_state=42)

# ç½‘æ ¼æœç´¢ï¼ˆ5æŠ˜äº¤å‰éªŒè¯ï¼‰
grid_search = GridSearchCV(
    estimator=svm, 
    param_grid=param_grid, 
    cv=5, 
    scoring='accuracy', 
    n_jobs=-1
)
grid_search.fit(X_train, y_train)

# è¾“å‡ºæœ€ä½³å‚æ•°
print(f"æœ€ä½³å‚æ•°: {grid_search.best_params_}")
print(f"æœ€ä½³äº¤å‰éªŒè¯å‡†ç¡®ç‡: {grid_search.best_score_:.4f}")

# ä½¿ç”¨æœ€ä½³æ¨¡å‹é¢„æµ‹æµ‹è¯•é›†
best_svm = grid_search.best_estimator_
y_pred_best = best_svm.predict(X_test)
print(f"è°ƒä¼˜åæµ‹è¯•é›†å‡†ç¡®ç‡: {accuracy_score(y_test, y_pred_best):.4f}")</code></pre>
                    </div>
                    
                    <h3>å‚æ•°å½±å“å¯è§†åŒ–</h3>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        <pre><code># ç»˜åˆ¶å‚æ•°è°ƒä¼˜çƒ­åŠ›å›¾
results = pd.DataFrame(grid_search.cv_results_)
pivot = results.pivot(index='param_gamma', columns='param_C', values='mean_test_score')

plt.figure(figsize=(8, 6))
sns.heatmap(pivot, annot=True, cmap='viridis', fmt='.4f')
plt.title('Grid Search Accuracy Heatmap (RBF Kernel)')
plt.xlabel('C')
plt.ylabel('gamma')
plt.show()</code></pre>
                    </div>
                    
                    <div class="result-image">
                        <h3>å‚æ•°è°ƒä¼˜ç»“æœ</h3>
                        <img src="static/parameter_optimization.png" alt="å‚æ•°è°ƒä¼˜çƒ­åŠ›å›¾" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWPguaVsOiwg+S8mOeDreWKm+WbvjwvdGV4dD48L3N2Zz4='">
                        <p><em>ç½‘æ ¼æœç´¢å‚æ•°è°ƒä¼˜çƒ­åŠ›å›¾ - ä¸åŒCå’ŒÎ³å‚æ•°ç»„åˆçš„äº¤å‰éªŒè¯å‡†ç¡®ç‡</em></p>
                    </div>
                    
                    <div class="alert alert-info">
                        <strong>è°ƒä¼˜å»ºè®®ï¼š</strong>
                        <ul>
                            <li>æœ€ä½³å‚æ•°ç»„åˆé€šå¸¸ä½äºçƒ­åŠ›å›¾çš„é«˜å‡†ç¡®ç‡åŒºåŸŸ</li>
                            <li>Cä¸Î³å­˜åœ¨äº¤äº’ä½œç”¨ï¼Œå¤§Céœ€é…åˆå°Î³é¿å…è¿‡æ‹Ÿåˆ</li>
                            <li>å»ºè®®å…ˆè¿›è¡Œç²—ç½‘æ ¼æœç´¢ï¼Œå†åœ¨æœ€ä¼˜åŒºåŸŸè¿›è¡Œç»†ç½‘æ ¼æœç´¢</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- äº¤äº’å®ä¾‹æ ‡ç­¾é¡µ -->
            <div id="interactive" class="tab-content">
                <div class="section">
                    <h2>åƒåœ¾é‚®ä»¶åˆ†ç±»äº¤äº’å®ä¾‹</h2>
                    
                    <div class="interactive-section">
                        <h3>å‚æ•°è®¾ç½®</h3>
                        <div class="parameter-control">
                            <label for="kernelSelect">æ ¸å‡½æ•°ç±»å‹ï¼š</label>
                            <select id="kernelSelect">
                                <option value="linear">çº¿æ€§æ ¸</option>
                                <option value="rbf" selected>RBFæ ¸</option>
                                <option value="poly">å¤šé¡¹å¼æ ¸</option>
                            </select>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="cValue">æƒ©ç½šå‚æ•° Cï¼š</label>
                            <input type="range" id="cValue" min="0.1" max="10" step="0.1" value="1.0">
                            <span id="cDisplay">1.0</span>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="gammaValue">RBFå‚æ•° Î³ï¼š</label>
                            <input type="range" id="gammaValue" min="0.01" max="1" step="0.01" value="0.1">
                            <span id="gammaDisplay">0.1</span>
                        </div>
                        
                        <div class="parameter-control">
                            <label for="maxFeatures">æœ€å¤§ç‰¹å¾æ•°ï¼š</label>
                            <input type="range" id="maxFeatures" min="1000" max="10000" step="500" value="5000">
                            <span id="featuresDisplay">5000</span>
                        </div>
                        
                        <button class="btn" onclick="trainModel()">è®­ç»ƒæ¨¡å‹</button>
                        <button class="btn btn-secondary" onclick="resetParameters()">é‡ç½®å‚æ•°</button>
                    </div>
                    
                    <div class="interactive-section">
                        <h3>æ–‡æœ¬åˆ†ç±»æµ‹è¯•</h3>
                        <textarea id="testText" rows="4" cols="50" placeholder="è¯·è¾“å…¥è¦åˆ†ç±»çš„æ–‡æœ¬å†…å®¹...">Free offer! Click here to win $1000 cash prize now!</textarea><br>
                        <button class="btn" onclick="classifyText()">åˆ†ç±»é¢„æµ‹</button>
                        <div id="classificationResult" class="alert alert-info" style="display:none;"></div>
                    </div>
                    
                    <div class="interactive-section">
                        <h3>æ¨¡å‹æ€§èƒ½</h3>
                        <div id="modelPerformance">
                            <p><strong>å½“å‰æ¨¡å‹çŠ¶æ€ï¼š</strong>æœªè®­ç»ƒ</p>
                            <p><strong>è®­ç»ƒé›†å‡†ç¡®ç‡ï¼š</strong>--</p>
                            <p><strong>æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š</strong>--</p>
                            <p><strong>æ”¯æŒå‘é‡æ•°é‡ï¼š</strong>--</p>
                        </div>
                    </div>
                    

                    
                    <div class="analysis-container">
                        <h3>ğŸ“Š è®­ç»ƒç»“æœåˆ†æ</h3>
                        <div id="resultAnalysis">
                            <div class="analysis-section">
                                <h4>ğŸ¯ æ¨¡å‹æ€§èƒ½è§£è¯»</h4>
                                <div id="performanceAnalysis">
                                    <p><em>ç‚¹å‡»"è®­ç»ƒæ¨¡å‹"æŒ‰é’®åï¼Œè¿™é‡Œå°†æ˜¾ç¤ºè¯¦ç»†çš„æ€§èƒ½åˆ†æ</em></p>
                                </div>
                            </div>
                            
                            <div class="analysis-section">
                                <h4>ğŸ” å‚æ•°å½±å“åˆ†æ</h4>
                                <div id="parameterAnalysis">
                                    <p><em>å‚æ•°è°ƒæ•´å¯¹æ¨¡å‹æ€§èƒ½çš„å½±å“å°†åœ¨æ­¤å±•ç¤º</em></p>
                                </div>
                            </div>
                            
                            <div class="analysis-section">
                                <h4>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h4>
                                <div id="optimizationSuggestions">
                                    <p><em>åŸºäºå½“å‰ç»“æœçš„æ¨¡å‹ä¼˜åŒ–å»ºè®®å°†åœ¨æ­¤æ˜¾ç¤º</em></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>åƒåœ¾é‚®ä»¶åˆ†ç±»åœ¨çº¿Pythonå®ä¾‹</h3>
                    <div class="interactive-section">
                        <p>ç‚¹å‡»ä¸‹æ–¹çš„"è¿è¡Œä»£ç "æŒ‰é’®ï¼Œåœ¨çº¿ä½“éªŒSVMåƒåœ¾é‚®ä»¶åˆ†ç±»ç®—æ³•ï¼š</p>
                        
                        <!-- åœ¨çº¿Pythonè¿è¡Œç¯å¢ƒ -->
                         <div style="border: 2px solid #667eea; border-radius: 10px; overflow: hidden; margin: 20px 0;">
                             <div style="background: #667eea; color: white; padding: 10px; font-weight: bold;">
                                 ğŸ SVMåƒåœ¾é‚®ä»¶åˆ†ç±»å®Œæ•´ä»£ç ç¤ºä¾‹
                             </div>
                             <div class="code-block" style="margin: 0; border-radius: 0;">
                                 <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                                 <pre style="max-height: 400px; overflow-y: auto;"><code>import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import fetch_20newsgroups
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.svm import SVC
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score, classification_report, confusion_matrix
import seaborn as sns

# é€‰æ‹©ä¸¤ç±»æ–°é—»ç»„ä½œä¸ºåƒåœ¾é‚®ä»¶/æ­£å¸¸é‚®ä»¶çš„æ¨¡æ‹Ÿæ•°æ®
categories = ['rec.sport.hockey', 'talk.politics.misc']
newsgroups = fetch_20newsgroups(
    subset='all', 
    categories=categories, 
    remove=('headers', 'footers', 'quotes'), 
    random_state=42
)
X_text = newsgroups.data
y = newsgroups.target

print(f"æ•°æ®é›†å¤§å°: {len(X_text)} ä¸ªæ ·æœ¬")
print(f"ç±»åˆ«æ ‡ç­¾: {newsgroups.target_names}")

# åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†
X_train_text, X_test_text, y_train, y_test = train_test_split(
    X_text, y, test_size=0.3, random_state=42
)

# TF-IDFç‰¹å¾å‘é‡åŒ–
print("\næ­£åœ¨è¿›è¡ŒTF-IDFç‰¹å¾æå–...")
tfidf = TfidfVectorizer(max_features=5000, stop_words='english')
X_train_tfidf = tfidf.fit_transform(X_train_text)
X_test_tfidf = tfidf.transform(X_test_text)

print(f"ç‰¹å¾ç»´åº¦: {X_train_tfidf.shape[1]}")
print(f"è®­ç»ƒé›†å¤§å°: {X_train_tfidf.shape[0]}")
print(f"æµ‹è¯•é›†å¤§å°: {X_test_tfidf.shape[0]}")

# è®­ç»ƒSVMæ¨¡å‹
print("\næ­£åœ¨è®­ç»ƒSVMæ¨¡å‹...")
svm_spam = SVC(C=10, gamma=0.1, kernel='rbf', random_state=42)
svm_spam.fit(X_train_tfidf, y_train)

# è¯„ä¼°æ€§èƒ½
y_pred_spam = svm_spam.predict(X_test_tfidf)
accuracy_spam = accuracy_score(y_test, y_pred_spam)

print(f"\n=== æ¨¡å‹æ€§èƒ½è¯„ä¼° ===")
print(f"æµ‹è¯•é›†å‡†ç¡®ç‡: {accuracy_spam:.4f}")
print(f"æ”¯æŒå‘é‡æ•°é‡: {svm_spam.n_support_}")

# è¯¦ç»†åˆ†ç±»æŠ¥å‘Š
print("\n=== è¯¦ç»†åˆ†ç±»æŠ¥å‘Š ===")
print(classification_report(y_test, y_pred_spam, target_names=newsgroups.target_names))



# æµ‹è¯•æ–°æ–‡æœ¬åˆ†ç±»
test_texts = [
    "Free offer! Click here to win $1000 cash prize now!",
    "The hockey game was amazing last night.",
    "Political discussion about the new policy."
]

print("\n=== æ–°æ–‡æœ¬åˆ†ç±»æµ‹è¯• ===")
for i, text in enumerate(test_texts):
    text_tfidf = tfidf.transform([text])
    prediction = svm_spam.predict(text_tfidf)[0]
    confidence = svm_spam.decision_function(text_tfidf)[0]
    
    category = newsgroups.target_names[prediction]
    print(f"æ–‡æœ¬ {i+1}: {text[:50]}...")
    print(f"é¢„æµ‹ç±»åˆ«: {category}")
    print(f"ç½®ä¿¡åº¦: {confidence:.4f}")
    print("-" * 50)</code></pre>
                             </div>
                             <div style="background: #f8f9fa; padding: 15px; border-top: 1px solid #ddd;">
                                 <p style="margin: 0; color: #666; font-size: 14px;">
                                     ğŸ’¡ <strong>è¿è¡Œæç¤ºï¼š</strong>å°†ä¸Šè¿°ä»£ç å¤åˆ¶åˆ°æœ¬åœ°Pythonç¯å¢ƒæˆ–åœ¨çº¿å¹³å°ï¼ˆå¦‚Google Colabã€Jupyter Notebookï¼‰ä¸­è¿è¡Œ
                                 </p>
                             </div>
                         </div>
                        
                        <div class="alert alert-info">
                            <h4>ğŸ¯ å®éªŒè¯´æ˜</h4>
                            <ul>
                                <li><strong>æ•°æ®é›†ï¼š</strong>ä½¿ç”¨20newsgroupsæ•°æ®é›†æ¨¡æ‹Ÿåƒåœ¾é‚®ä»¶åˆ†ç±»</li>
                                <li><strong>ç‰¹å¾æå–ï¼š</strong>TF-IDFå‘é‡åŒ–ï¼Œæœ€å¤§ç‰¹å¾æ•°5000</li>
                                <li><strong>æ¨¡å‹å‚æ•°ï¼š</strong>RBFæ ¸ï¼ŒC=10ï¼ŒÎ³=0.1</li>
                                <li><strong>è¯„ä¼°æŒ‡æ ‡ï¼š</strong>å‡†ç¡®ç‡ã€åˆ†ç±»æŠ¥å‘Š</li>
                            </ul>
                        </div>
                        
                        <!-- å¤‡ç”¨åœ¨çº¿ç¼–ç¨‹å¹³å° -->
                        <div style="margin-top: 20px;">
                            <h4>ğŸ”— æ›´å¤šåœ¨çº¿å®éªŒå¹³å°</h4>
                            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                                <a href="https://colab.research.google.com/drive/1svm_spam_classification" 
                                   target="_blank" 
                                   class="btn" 
                                   style="text-decoration: none; display: inline-block;">
                                    ğŸ“Š Google Colabç‰ˆæœ¬
                                </a>
                                <a href="https://replit.com/@svmexample/spam-classification" 
                                   target="_blank" 
                                   class="btn btn-secondary" 
                                   style="text-decoration: none; display: inline-block;">
                                    ğŸ’» Replitç‰ˆæœ¬
                                </a>
                                <a href="https://jupyter.org/try" 
                                   target="_blank" 
                                   class="btn btn-secondary" 
                                   style="text-decoration: none; display: inline-block;">
                                    ğŸ““ Jupyteråœ¨çº¿ç‰ˆ
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section">
                        <h2>æ€è€ƒé¢˜ä¸ç»ƒä¹ </h2>
                        
                        <div class="interactive-section">
                            <h3>ğŸ“ åŸºç¡€ç†è®ºé¢˜</h3>
                            
                            <div class="alert alert-info">
                                <h4>1. æ”¯æŒå‘é‡çš„ç†è§£</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>è§£é‡ŠSVMä¸­"æ”¯æŒå‘é‡"çš„å«ä¹‰ï¼Œä¸ºä½•å®ƒä»¬å¯¹æ¨¡å‹è‡³å…³é‡è¦ï¼Ÿå¦‚æœåˆ é™¤éæ”¯æŒå‘é‡æ ·æœ¬ï¼Œå¯¹æ¨¡å‹æ€§èƒ½æœ‰ä½•å½±å“ï¼Ÿ</p>
                                <details>
                                    <summary>ğŸ’¡ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆæç¤º</summary>
                                    <p>æ”¯æŒå‘é‡æ˜¯è·ç¦»å†³ç­–è¾¹ç•Œæœ€è¿‘çš„æ ·æœ¬ç‚¹ï¼Œå®ƒä»¬å†³å®šäº†æœ€ä¼˜è¶…å¹³é¢çš„ä½ç½®ã€‚åˆ é™¤éæ”¯æŒå‘é‡ä¸ä¼šå½±å“æ¨¡å‹ï¼Œå› ä¸ºå†³ç­–è¾¹ç•Œåªç”±æ”¯æŒå‘é‡ç¡®å®šã€‚</p>
                                </details>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>2. ç¡¬é—´éš”vsè½¯é—´éš”</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>å¯¹æ¯”ç¡¬é—´éš”SVMä¸è½¯é—´éš”SVMçš„é€‚ç”¨åœºæ™¯ï¼Œä¸¾ä¾‹è¯´æ˜ä½•æ—¶éœ€è¦ä½¿ç”¨è½¯é—´éš”ï¼Ÿå‚æ•°Cçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
                                <details>
                                    <summary>ğŸ’¡ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆæç¤º</summary>
                                    <p>ç¡¬é—´éš”é€‚ç”¨äºçº¿æ€§å¯åˆ†æ•°æ®ï¼›è½¯é—´éš”é€‚ç”¨äºæœ‰å™ªå£°æˆ–éçº¿æ€§å¯åˆ†æ•°æ®ã€‚Cæ§åˆ¶å¯¹è¯¯åˆ†ç±»çš„æƒ©ç½šç¨‹åº¦ï¼ŒCè¶Šå¤§è¶Šä¸¥æ ¼ã€‚</p>
                                </details>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>3. æ ¸å‡½æ•°çš„ä½œç”¨æœºåˆ¶</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>RBFæ ¸å‡½æ•°å¦‚ä½•å°†ä½ç»´éçº¿æ€§æ•°æ®æ˜ å°„åˆ°é«˜ç»´çº¿æ€§å¯åˆ†ç©ºé—´ï¼ŸÎ³å‚æ•°å¯¹å†³ç­–è¾¹ç•Œæœ‰ä½•å½±å“ï¼Ÿ</p>
                                <details>
                                    <summary>ğŸ’¡ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆæç¤º</summary>
                                    <p>RBFæ ¸é€šè¿‡é«˜æ–¯å‡½æ•°è®¡ç®—æ ·æœ¬é—´ç›¸ä¼¼åº¦ï¼Œéšå¼åœ°å°†æ•°æ®æ˜ å°„åˆ°æ— é™ç»´ç©ºé—´ã€‚Î³è¶Šå¤§ï¼Œå†³ç­–è¾¹ç•Œè¶Šå¤æ‚ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆã€‚</p>
                                </details>
                            </div>
                        </div>
                        
                        <div class="interactive-section">
                            <h3>ğŸ”§ å®è·µæ“ä½œé¢˜</h3>
                            
                            <div class="alert alert-info">
                                <h4>4. å‚æ•°è°ƒä¼˜å®éªŒ</h4>
                                <p><strong>ä»»åŠ¡ï¼š</strong>åœ¨åƒåœ¾é‚®ä»¶åˆ†ç±»ä¸­ï¼Œå¦‚æœæ¨¡å‹å‡ºç°è¿‡æ‹Ÿåˆç°è±¡ï¼ˆè®­ç»ƒé›†å‡†ç¡®ç‡å¾ˆé«˜ï¼Œæµ‹è¯•é›†å‡†ç¡®ç‡è¾ƒä½ï¼‰ï¼Œåº”å¦‚ä½•è°ƒæ•´å‚æ•°Cå’ŒÎ³ï¼Ÿè¯·è®¾è®¡å®éªŒéªŒè¯ä½ çš„æ–¹æ¡ˆã€‚</p>
                                <div class="parameter-control">
                                    <label>ä½ çš„è°ƒä¼˜ç­–ç•¥ï¼š</label>
                                    <textarea rows="3" cols="50" placeholder="è¯·æè¿°ä½ çš„å‚æ•°è°ƒä¼˜æ€è·¯..."></textarea>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>5. æ ¸å‡½æ•°é€‰æ‹©å®éªŒ</h4>
                                <p><strong>ä»»åŠ¡ï¼š</strong>å°è¯•ç”¨å¤šé¡¹å¼æ ¸ï¼ˆpolyï¼‰æ›¿æ¢RBFæ ¸å¤„ç†æœˆç‰™æ•°æ®ï¼Œå¯¹æ¯”åˆ†ç±»æ•ˆæœå¹¶åˆ†æåŸå› ã€‚è°ƒæ•´degreeå‚æ•°è§‚å¯Ÿå…¶å½±å“ã€‚</p>
                                <!-- å¤šé¡¹å¼æ ¸å®éªŒä»£ç  -->
                                 <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; margin: 10px 0;">
                                     <div style="background: #f8f9fa; padding: 8px; font-weight: bold; border-bottom: 1px solid #ddd;">
                                         ğŸ§ª å¤šé¡¹å¼æ ¸å®éªŒä»£ç 
                                     </div>
                                     <div class="code-block" style="margin: 0; border-radius: 0;">
                                         <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶ä»£ç </button>
                                         <pre><code># å¤šé¡¹å¼æ ¸å®éªŒä»£ç 
from sklearn.datasets import make_moons
from sklearn.svm import SVC
import matplotlib.pyplot as plt
import numpy as np

# ç”Ÿæˆæœˆç‰™å½¢æ•°æ®
X, y = make_moons(n_samples=200, noise=0.3, random_state=42)

# æ¯”è¾ƒä¸åŒdegreeçš„å¤šé¡¹å¼æ ¸
degrees = [2, 3, 4, 5]
fig, axes = plt.subplots(2, 2, figsize=(12, 10))
axes = axes.ravel()

for i, degree in enumerate(degrees):
    # è®­ç»ƒå¤šé¡¹å¼æ ¸SVM
    svm_poly = SVC(kernel='poly', degree=degree, C=1.0, random_state=42)
    svm_poly.fit(X, y)
    
    # åˆ›å»ºç½‘æ ¼ç‚¹ç”¨äºå¯è§†åŒ–å†³ç­–è¾¹ç•Œ
    h = 0.02
    x_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1
    y_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1
    xx, yy = np.meshgrid(np.arange(x_min, x_max, h),
                         np.arange(y_min, y_max, h))
    
    # é¢„æµ‹ç½‘æ ¼ç‚¹
    Z = svm_poly.predict(np.c_[xx.ravel(), yy.ravel()])
    Z = Z.reshape(xx.shape)
    
    # ç»˜åˆ¶å†³ç­–è¾¹ç•Œå’Œæ•°æ®ç‚¹
    axes[i].contourf(xx, yy, Z, alpha=0.8, cmap=plt.cm.RdYlBu)
    scatter = axes[i].scatter(X[:, 0], X[:, 1], c=y, cmap=plt.cm.RdYlBu, edgecolors='black')
    axes[i].set_title(f'å¤šé¡¹å¼æ ¸ (degree={degree})')
    axes[i].set_xlabel('ç‰¹å¾1')
    axes[i].set_ylabel('ç‰¹å¾2')
    
    # è®¡ç®—å‡†ç¡®ç‡
    accuracy = svm_poly.score(X, y)
    axes[i].text(0.02, 0.98, f'å‡†ç¡®ç‡: {accuracy:.3f}', 
                transform=axes[i].transAxes, verticalalignment='top',
                bbox=dict(boxstyle='round', facecolor='white', alpha=0.8))

plt.tight_layout()
plt.show()

print("å®éªŒç»“è®º:")
print("- degree=2: å†³ç­–è¾¹ç•Œç›¸å¯¹ç®€å•")
print("- degree=3: å†³ç­–è¾¹ç•Œé€‚ä¸­ï¼Œé€šå¸¸æ•ˆæœè¾ƒå¥½")
print("- degree=4,5: å†³ç­–è¾¹ç•Œå¤æ‚ï¼Œå¯èƒ½è¿‡æ‹Ÿåˆ")</code></pre>
                                     </div>
                                 </div>
                                <div class="alert alert-info" style="margin-top: 10px; font-size: 14px;">
                                    <strong>ğŸ’¡ å®éªŒæç¤ºï¼š</strong>è°ƒæ•´degreeå‚æ•°ï¼ˆ2,3,4ï¼‰ï¼Œè§‚å¯Ÿå†³ç­–è¾¹ç•Œå˜åŒ–å’Œåˆ†ç±»æ•ˆæœå·®å¼‚ã€‚
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>6. ç‰¹å¾å·¥ç¨‹å½±å“</h4>
                                <p><strong>ä»»åŠ¡ï¼š</strong>åœ¨æ–‡æœ¬åˆ†ç±»ä¸­ï¼Œæ¯”è¾ƒä¸åŒTF-IDFå‚æ•°è®¾ç½®å¯¹SVMæ€§èƒ½çš„å½±å“ï¼š</p>
                                <ul>
                                    <li>max_features: 1000 vs 5000 vs 10000</li>
                                    <li>ngram_range: (1,1) vs (1,2) vs (1,3)</li>
                                    <li>min_df: 1 vs 2 vs 5</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="interactive-section">
                            <h3>ğŸ§  æ·±åº¦æ€è€ƒé¢˜</h3>
                            
                            <div class="alert alert-info">
                                <h4>7. SVM vs å…¶ä»–ç®—æ³•</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>æ¯”è¾ƒSVMä¸é€»è¾‘å›å½’çš„å¼‚åŒç‚¹ï¼Œåœ¨é«˜ç»´ç¨€ç–æ•°æ®ï¼ˆå¦‚æ–‡æœ¬ï¼‰ä¸Šå“ªä¸ªæ›´æœ‰ä¼˜åŠ¿ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
                                <table style="margin-top: 10px;">
                                    <tr><th>å¯¹æ¯”ç»´åº¦</th><th>SVM</th><th>é€»è¾‘å›å½’</th></tr>
                                    <tr><td>å†³ç­–è¾¹ç•Œ</td><td>æœ€å¤§é—´éš”è¶…å¹³é¢ï¼Œå¯éçº¿æ€§</td><td>çº¿æ€§å†³ç­–è¾¹ç•Œï¼ˆsigmoidå‡½æ•°ï¼‰</td></tr>
                                    <tr><td>æ¦‚ç‡è¾“å‡º</td><td>ä¸ç›´æ¥è¾“å‡ºæ¦‚ç‡ï¼Œéœ€é¢å¤–è®¡ç®—</td><td>ç›´æ¥è¾“å‡ºæ¦‚ç‡å€¼</td></tr>
                                    <tr><td>é«˜ç»´æ€§èƒ½</td><td>è¡¨ç°ä¼˜ç§€ï¼Œé€‚åˆé«˜ç»´ç¨€ç–æ•°æ®</td><td>åœ¨é«˜ç»´æ•°æ®ä¸Šå®¹æ˜“è¿‡æ‹Ÿåˆ</td></tr>
                                    <tr><td>è®­ç»ƒé€Ÿåº¦</td><td>O(nÂ³)ï¼Œå¤§æ•°æ®é›†è¾ƒæ…¢</td><td>O(n)ï¼Œè®­ç»ƒé€Ÿåº¦å¿«</td></tr>
                                    <tr><td>å†…å­˜å ç”¨</td><td>åªå­˜å‚¨æ”¯æŒå‘é‡ï¼Œå†…å­˜å‹å¥½</td><td>éœ€å­˜å‚¨æ‰€æœ‰ç‰¹å¾æƒé‡</td></tr>
                                    <tr><td>æ ¸å‡½æ•°</td><td>æ”¯æŒå¤šç§æ ¸å‡½æ•°ï¼Œå¤„ç†éçº¿æ€§</td><td>ä¸»è¦å¤„ç†çº¿æ€§å…³ç³»</td></tr>
                                    <tr><td>æ­£åˆ™åŒ–</td><td>é€šè¿‡Cå‚æ•°æ§åˆ¶</td><td>é€šè¿‡L1/L2æ­£åˆ™åŒ–</td></tr>
                                    <tr><td>é€‚ç”¨åœºæ™¯</td><td>æ–‡æœ¬åˆ†ç±»ã€å›¾åƒè¯†åˆ«ã€ç”Ÿç‰©ä¿¡æ¯</td><td>ç‚¹å‡»ç‡é¢„æµ‹ã€é£é™©è¯„ä¼°</td></tr>
                                </table>
                                <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 5px;">
                                    <strong>ğŸ’¡ ç»“è®ºï¼š</strong>åœ¨é«˜ç»´ç¨€ç–æ•°æ®ï¼ˆå¦‚æ–‡æœ¬ï¼‰ä¸Šï¼Œ<strong>SVMé€šå¸¸æ›´æœ‰ä¼˜åŠ¿</strong>ï¼Œå› ä¸ºï¼š
                                    <ul style="margin: 5px 0; padding-left: 20px;">
                                        <li>SVMçš„æœ€å¤§é—´éš”åŸç†åœ¨é«˜ç»´ç©ºé—´ä¸­æ›´ç¨³å®š</li>
                                        <li>æ ¸å‡½æ•°èƒ½æœ‰æ•ˆå¤„ç†ç‰¹å¾é—´çš„å¤æ‚å…³ç³»</li>
                                        <li>åªä¾èµ–æ”¯æŒå‘é‡ï¼Œå¯¹å™ªå£°æ•°æ®æ›´é²æ£’</li>
                                        <li>åœ¨æ ·æœ¬æ•°é‡è¿œå°äºç‰¹å¾æ•°é‡æ—¶è¡¨ç°æ›´å¥½</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>8. å®é™…åº”ç”¨åœºæ™¯</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>è®¾è®¡ä¸€ä¸ªåŸºäºSVMçš„å›¾åƒåˆ†ç±»ç³»ç»Ÿï¼Œéœ€è¦è€ƒè™‘å“ªäº›å…³é”®é—®é¢˜ï¼Ÿ</p>
                                <ul>
                                    <li>ç‰¹å¾æå–æ–¹æ³•é€‰æ‹©</li>
                                    <li>æ•°æ®é¢„å¤„ç†ç­–ç•¥</li>
                                    <li>æ ¸å‡½æ•°å’Œå‚æ•°é€‰æ‹©</li>
                                    <li>å¤šåˆ†ç±»ç­–ç•¥ï¼ˆä¸€å¯¹ä¸€ vs ä¸€å¯¹å¤šï¼‰</li>
                                    <li>è®¡ç®—æ•ˆç‡ä¼˜åŒ–</li>
                                </ul>
                            </div>
                            
                            <div class="alert alert-info">
                                <h4>9. ç®—æ³•æ”¹è¿›æ€è€ƒ</h4>
                                <p><strong>é—®é¢˜ï¼š</strong>SVMåœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶é¢ä¸´å“ªäº›æŒ‘æˆ˜ï¼Ÿæœ‰å“ªäº›æ”¹è¿›æ–¹æ³•ï¼Ÿ</p>
                                <details>
                                    <summary>ğŸ’¡ æ€è€ƒæ–¹å‘</summary>
                                    <ul>
                                        <li>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ³) â†’ å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</li>
                                        <li>å†…å­˜å ç”¨ï¼šæ ¸çŸ©é˜µå­˜å‚¨é—®é¢˜</li>
                                        <li>åœ¨çº¿å­¦ä¹ ï¼šå¦‚ä½•å¤„ç†æµå¼æ•°æ®ï¼Ÿ</li>
                                        <li>å¹¶è¡ŒåŒ–ï¼šå¦‚ä½•åˆ©ç”¨å¤šæ ¸/GPUåŠ é€Ÿï¼Ÿ</li>
                                    </ul>
                                </details>
                            </div>
                        </div>
                        
                        <div class="interactive-section">
                            <h3>ğŸ¯ æŒ‘æˆ˜é¡¹ç›®</h3>
                            
                            <div class="alert alert-info">
                                <h4>10. ç»¼åˆé¡¹ç›®ï¼šæ™ºèƒ½å®¢æœåˆ†ç±»ç³»ç»Ÿ</h4>
                                <p><strong>é¡¹ç›®æè¿°ï¼š</strong>è®¾è®¡ä¸€ä¸ªåŸºäºSVMçš„å®¢æœé—®é¢˜è‡ªåŠ¨åˆ†ç±»ç³»ç»Ÿï¼Œèƒ½å¤Ÿå°†ç”¨æˆ·é—®é¢˜åˆ†ä¸ºï¼šæŠ€æœ¯æ”¯æŒã€è´¦å•æŸ¥è¯¢ã€äº§å“å’¨è¯¢ã€æŠ•è¯‰å»ºè®®å››ç±»ã€‚</p>
                                
                                <h5>é¡¹ç›®è¦æ±‚ï¼š</h5>
                                <ol>
                                    <li>æ•°æ®æ”¶é›†ï¼šæ¨¡æ‹Ÿæˆ–æ”¶é›†çœŸå®å®¢æœå¯¹è¯æ•°æ®</li>
                                    <li>æ–‡æœ¬é¢„å¤„ç†ï¼šåˆ†è¯ã€å»åœç”¨è¯ã€è¯å¹²æå–</li>
                                    <li>ç‰¹å¾å·¥ç¨‹ï¼šTF-IDFã€è¯å‘é‡ã€N-gramç­‰</li>
                                    <li>æ¨¡å‹è®­ç»ƒï¼šå¤šåˆ†ç±»SVMï¼Œå‚æ•°è°ƒä¼˜</li>
                                    <li>æ€§èƒ½è¯„ä¼°ï¼šå‡†ç¡®ç‡ã€å¬å›ç‡ã€F1-score</li>
                                    <li>ç³»ç»Ÿéƒ¨ç½²ï¼šWebç•Œé¢ï¼Œå®æ—¶åˆ†ç±»</li>
                                </ol>
                                
                                <h5>è¯„ä¼°æ ‡å‡†ï¼š</h5>
                                <ul>
                                    <li>åˆ†ç±»å‡†ç¡®ç‡ > 85%</li>
                                    <li>å“åº”æ—¶é—´ < 1ç§’</li>
                                    <li>ç³»ç»Ÿç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒ</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="alert alert-success">
                            <h4>ğŸ’¡ å­¦ä¹ å»ºè®®</h4>
                            <ul>
                                <li><strong>ç†è®ºä¸å®è·µç»“åˆï¼š</strong>åœ¨ç†è§£æ•°å­¦åŸç†çš„åŸºç¡€ä¸Šï¼Œå¤šåŠ¨æ‰‹å®éªŒ</li>
                                <li><strong>å‚æ•°æ•æ„Ÿæ€§ï¼š</strong>é€šè¿‡å¯è§†åŒ–ç†è§£ä¸åŒå‚æ•°å¯¹æ¨¡å‹çš„å½±å“</li>
                                <li><strong>æ•°æ®ç‰¹æ€§åˆ†æï¼š</strong>æ ¹æ®æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„æ ¸å‡½æ•°å’Œé¢„å¤„ç†æ–¹æ³•</li>
                                <li><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong>å…³æ³¨æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œé¿å…è¿‡æ‹Ÿåˆ</li>
                                <li><strong>å®é™…åº”ç”¨ï¼š</strong>å°è¯•å°†SVMåº”ç”¨åˆ°çœŸå®é—®é¢˜ä¸­ï¼Œç§¯ç´¯ç»éªŒ</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µå†…å®¹
            document.getElementById(tabName).classList.add('active');
            
            // æ·»åŠ activeç±»åˆ°é€‰ä¸­çš„æ ‡ç­¾
            event.target.classList.add('active');
        }
        
        // ä»£ç å¤åˆ¶åŠŸèƒ½
        function copyCode(button) {
            const codeBlock = button.nextElementSibling.textContent;
            navigator.clipboard.writeText(codeBlock).then(() => {
                button.textContent = 'å·²å¤åˆ¶';
                setTimeout(() => {
                    button.textContent = 'å¤åˆ¶';
                }, 2000);
            });
        }
        
        // å‚æ•°æ§åˆ¶åŠŸèƒ½
        document.getElementById('cValue').addEventListener('input', function() {
            document.getElementById('cDisplay').textContent = this.value;
        });
        
        document.getElementById('gammaValue').addEventListener('input', function() {
            document.getElementById('gammaDisplay').textContent = this.value;
        });
        
        document.getElementById('maxFeatures').addEventListener('input', function() {
            document.getElementById('featuresDisplay').textContent = this.value;
        });
        
        // ç”Ÿæˆæ¨¡æ‹Ÿè®­ç»ƒç»“æœ
        function generateMockTrainingResults(kernel, C, gamma, maxFeatures) {
            // åŸºäºå‚æ•°ç”Ÿæˆåˆç†çš„æ¨¡æ‹Ÿç»“æœ
            let trainAccuracy, testAccuracy, supportVectors;
            
            // æ ¹æ®ä¸åŒå‚æ•°ç»„åˆç”Ÿæˆä¸åŒçš„å‡†ç¡®ç‡
            if (kernel === 'linear') {
                trainAccuracy = 0.85 + Math.random() * 0.1;
                testAccuracy = trainAccuracy - 0.02 - Math.random() * 0.05;
                supportVectors = Math.floor(50 + Math.random() * 30);
            } else if (kernel === 'rbf') {
                if (C > 5 || gamma > 0.5) {
                    // é«˜Cæˆ–é«˜gammaå¯èƒ½è¿‡æ‹Ÿåˆ
                    trainAccuracy = 0.95 + Math.random() * 0.04;
                    testAccuracy = trainAccuracy - 0.1 - Math.random() * 0.1;
                    supportVectors = Math.floor(80 + Math.random() * 40);
                } else if (C < 0.5 || gamma < 0.05) {
                    // ä½Cæˆ–ä½gammaå¯èƒ½æ¬ æ‹Ÿåˆ
                    trainAccuracy = 0.75 + Math.random() * 0.1;
                    testAccuracy = trainAccuracy - 0.01 - Math.random() * 0.03;
                    supportVectors = Math.floor(30 + Math.random() * 20);
                } else {
                    // åˆç†å‚æ•°
                    trainAccuracy = 0.88 + Math.random() * 0.08;
                    testAccuracy = trainAccuracy - 0.02 - Math.random() * 0.04;
                    supportVectors = Math.floor(60 + Math.random() * 25);
                }
            } else { // poly
                trainAccuracy = 0.82 + Math.random() * 0.12;
                testAccuracy = trainAccuracy - 0.03 - Math.random() * 0.06;
                supportVectors = Math.floor(70 + Math.random() * 35);
            }
            
            // ç¡®ä¿å‡†ç¡®ç‡åœ¨åˆç†èŒƒå›´å†…
            trainAccuracy = Math.min(0.99, Math.max(0.65, trainAccuracy));
            testAccuracy = Math.min(0.95, Math.max(0.60, testAccuracy));
            
            // ç”Ÿæˆåˆ†ç±»æŠ¥å‘Šæ•°æ®
            const hockeyPrecision = testAccuracy + (Math.random() - 0.5) * 0.1;
            const hockeyRecall = testAccuracy + (Math.random() - 0.5) * 0.1;
            const hockeyF1 = (hockeyPrecision + hockeyRecall) / 2;
            
            const politicsPrecision = testAccuracy + (Math.random() - 0.5) * 0.1;
            const politicsRecall = testAccuracy + (Math.random() - 0.5) * 0.1;
            const politicsF1 = (politicsPrecision + politicsRecall) / 2;
            
            return {
                success: true,
                results: {
                    kernel: kernel,
                    C: C,
                    gamma: gamma,
                    max_features: maxFeatures,
                    train_accuracy: trainAccuracy,
                    test_accuracy: testAccuracy,
                    n_support_vectors: supportVectors,
                    classification_report: {
                        'Hockey': {
                            precision: Math.min(0.99, Math.max(0.60, hockeyPrecision)),
                            recall: Math.min(0.99, Math.max(0.60, hockeyRecall)),
                            'f1-score': Math.min(0.99, Math.max(0.60, hockeyF1)),
                            support: Math.floor(150 + Math.random() * 50)
                        },
                        'Politics': {
                            precision: Math.min(0.99, Math.max(0.60, politicsPrecision)),
                            recall: Math.min(0.99, Math.max(0.60, politicsRecall)),
                            'f1-score': Math.min(0.99, Math.max(0.60, politicsF1)),
                            support: Math.floor(150 + Math.random() * 50)
                        }
                    }
                }
            };
        }
        

        
        // æ¨¡æ‹Ÿè®­ç»ƒæ¨¡å‹åŠŸèƒ½
        async function trainModel() {
            const kernel = document.getElementById('kernelSelect').value;
            const c = document.getElementById('cValue').value;
            const gamma = document.getElementById('gammaValue').value;
            const maxFeatures = document.getElementById('maxFeatures').value;
            
            // æ˜¾ç¤ºè®­ç»ƒçŠ¶æ€
            const performance = document.getElementById('modelPerformance');
            
            performance.innerHTML = `
                <p><strong>å½“å‰æ¨¡å‹çŠ¶æ€ï¼š</strong>è®­ç»ƒä¸­...</p>
                <p><strong>æ ¸å‡½æ•°ï¼š</strong>${kernel}</p>
                <p><strong>å‚æ•° Cï¼š</strong>${c}</p>
                <p><strong>å‚æ•° Î³ï¼š</strong>${gamma}</p>
                <p><strong>æœ€å¤§ç‰¹å¾æ•°ï¼š</strong>${maxFeatures}</p>
            `;
            

            
            try {
                // æ¨¡æ‹Ÿè®­ç»ƒå»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // ç”Ÿæˆæ¨¡æ‹Ÿè®­ç»ƒç»“æœ
                const data = generateMockTrainingResults(kernel, parseFloat(c), parseFloat(gamma), parseInt(maxFeatures));
                
                if (data.success) {
                    const results = data.results;
                    
                    // æ˜¾ç¤ºè®­ç»ƒç»“æœ
                    performance.innerHTML = `
                        <p><strong>å½“å‰æ¨¡å‹çŠ¶æ€ï¼š</strong>è®­ç»ƒå®Œæˆ</p>
                        <p><strong>æ ¸å‡½æ•°ï¼š</strong>${results.kernel}</p>
                        <p><strong>å‚æ•° Cï¼š</strong>${results.C}</p>
                        ${results.gamma ? `<p><strong>å‚æ•° Î³ï¼š</strong>${results.gamma}</p>` : ''}
                        <p><strong>æœ€å¤§ç‰¹å¾æ•°ï¼š</strong>${results.max_features}</p>
                        <p><strong>è®­ç»ƒé›†å‡†ç¡®ç‡ï¼š</strong>${results.train_accuracy}</p>
                        <p><strong>æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š</strong>${results.test_accuracy}</p>
                        <p><strong>æ”¯æŒå‘é‡æ•°é‡ï¼š</strong>${results.n_support_vectors}</p>
                        
                        <h5>è¯¦ç»†åˆ†ç±»æŠ¥å‘Š</h5>
                        <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                            <tr style="background-color: #f8f9fa;">
                                <th style="border: 1px solid #ddd; padding: 8px;">ç±»åˆ«</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">ç²¾ç¡®ç‡</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">å¬å›ç‡</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">F1åˆ†æ•°</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">æ”¯æŒæ•°</th>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Hockey</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Hockey'].precision.toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Hockey'].recall.toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Hockey']['f1-score'].toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Hockey'].support}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Politics</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Politics'].precision.toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Politics'].recall.toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Politics']['f1-score'].toFixed(3)}</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">${results.classification_report['Politics'].support}</td>
                            </tr>
                        </table>
                    `;
                    

                    
                    // ç”Ÿæˆç»“æœåˆ†æ
                    generateResultAnalysis(results, parseFloat(c), parseFloat(gamma), kernel);
                    
                } else {
                    performance.innerHTML = `<div style="color: red;">è®­ç»ƒå¤±è´¥: ${data.error}</div>`;
                }
                
            } catch (error) {
                performance.innerHTML = `<div style="color: red;">ç½‘ç»œé”™è¯¯: ${error.message}</div>`;
                console.error('è®­ç»ƒæ¨¡å‹æ—¶å‡ºé”™:', error);
            }
        }
        
        // æ–‡æœ¬åˆ†ç±»åŠŸèƒ½
        function classifyText() {
            const text = document.getElementById('testText').value;
            const result = document.getElementById('classificationResult');
            
            if (!text.trim()) {
                alert('è¯·è¾“å…¥è¦åˆ†ç±»çš„æ–‡æœ¬ï¼');
                return;
            }
            
            // æ¨¡æ‹Ÿåˆ†ç±»è¿‡ç¨‹
            const isSpam = text.toLowerCase().includes('free') || 
                          text.toLowerCase().includes('win') || 
                          text.toLowerCase().includes('prize') ||
                          text.toLowerCase().includes('offer');
            
            const confidence = (0.7 + Math.random() * 0.3).toFixed(4);
            
            result.style.display = 'block';
            result.className = isSpam ? 'alert alert-danger' : 'alert alert-success';
            result.innerHTML = `
                <strong>åˆ†ç±»ç»“æœï¼š</strong>${isSpam ? 'åƒåœ¾é‚®ä»¶' : 'æ­£å¸¸é‚®ä»¶'}<br>
                <strong>ç½®ä¿¡åº¦ï¼š</strong>${confidence}<br>
                <strong>å…³é”®ç‰¹å¾ï¼š</strong>${isSpam ? 'åŒ…å«è¥é”€è¯æ±‡' : 'æ­£å¸¸æ–‡æœ¬å†…å®¹'}
            `;
        }
        
        // é‡ç½®å‚æ•°
        function resetParameters() {
            document.getElementById('kernelSelect').value = 'rbf';
            document.getElementById('cValue').value = 1.0;
            document.getElementById('gammaValue').value = 0.1;
            document.getElementById('maxFeatures').value = 5000;
            document.getElementById('cDisplay').textContent = '1.0';
            document.getElementById('gammaDisplay').textContent = '0.1';
            document.getElementById('featuresDisplay').textContent = '5000';
        }
        
        // ç”Ÿæˆç»“æœåˆ†æ
        function generateResultAnalysis(results, C, gamma, kernel) {
            const performanceAnalysis = document.getElementById('performanceAnalysis');
            const parameterAnalysis = document.getElementById('parameterAnalysis');
            const optimizationSuggestions = document.getElementById('optimizationSuggestions');
            
            // æ€§èƒ½åˆ†æ
            const trainAccuracy = results.train_accuracy;
            const testAccuracy = results.test_accuracy;
            const overfit = trainAccuracy - testAccuracy;
            const supportVectors = results.n_support_vectors;
            
            let performanceStatus = '';
            let performanceColor = '';
            
            if (overfit > 0.1) {
                performanceStatus = 'è¿‡æ‹Ÿåˆ';
                performanceColor = '#e74c3c';
            } else if (overfit < 0.02) {
                performanceStatus = 'è‰¯å¥½æ‹Ÿåˆ';
                performanceColor = '#27ae60';
            } else {
                performanceStatus = 'è½»å¾®è¿‡æ‹Ÿåˆ';
                performanceColor = '#f39c12';
            }
            
            performanceAnalysis.innerHTML = `
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                    <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡è§£è¯»</h5>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <strong>è®­ç»ƒå‡†ç¡®ç‡:</strong> ${(trainAccuracy * 100).toFixed(2)}%<br>
                            <strong>æµ‹è¯•å‡†ç¡®ç‡:</strong> ${(testAccuracy * 100).toFixed(2)}%<br>
                            <strong>æ³›åŒ–å·®è·:</strong> <span style="color: ${performanceColor}">${(overfit * 100).toFixed(2)}%</span>
                        </div>
                        <div>
                            <strong>æ”¯æŒå‘é‡æ•°:</strong> ${supportVectors}<br>
                            <strong>æ¨¡å‹çŠ¶æ€:</strong> <span style="color: ${performanceColor}; font-weight: bold;">${performanceStatus}</span><br>
                            <strong>æ ¸å‡½æ•°:</strong> ${kernel.toUpperCase()}æ ¸
                        </div>
                    </div>
                </div>
                <div style="background: #e8f5e8; padding: 10px; border-radius: 5px; font-size: 14px;">
                    <strong>ğŸ’¡ æ€§èƒ½è§£è¯»:</strong> 
                    ${overfit > 0.1 ? 
                        'æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œä½†åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°è¾ƒå·®ï¼Œå­˜åœ¨è¿‡æ‹Ÿåˆç°è±¡ã€‚' : 
                        overfit < 0.02 ? 
                        'æ¨¡å‹åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šè¡¨ç°å‡è¡¡ï¼Œæ³›åŒ–èƒ½åŠ›è‰¯å¥½ã€‚' : 
                        'æ¨¡å‹å­˜åœ¨è½»å¾®è¿‡æ‹Ÿåˆï¼Œä½†æ•´ä½“è¡¨ç°å¯æ¥å—ã€‚'
                    }
                </div>
            `;
            
            // å‚æ•°å½±å“åˆ†æ
            let cEffect = '';
            let gammaEffect = '';
            
            if (C > 5) {
                cEffect = 'è¾ƒå¤§çš„Cå€¼ä½¿æ¨¡å‹å¯¹è¯¯åˆ†ç±»æ›´æ•æ„Ÿï¼Œå¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ';
            } else if (C < 0.5) {
                cEffect = 'è¾ƒå°çš„Cå€¼å…è®¸æ›´å¤šè¯¯åˆ†ç±»ï¼Œæ¨¡å‹å¯èƒ½æ¬ æ‹Ÿåˆ';
            } else {
                cEffect = 'Cå€¼é€‚ä¸­ï¼Œåœ¨æ‹Ÿåˆåº¦å’Œæ³›åŒ–èƒ½åŠ›é—´å–å¾—å¹³è¡¡';
            }
            
            if (kernel === 'rbf') {
                if (gamma > 0.5) {
                    gammaEffect = 'è¾ƒå¤§çš„Î³å€¼ä½¿å†³ç­–è¾¹ç•Œæ›´å¤æ‚ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆ';
                } else if (gamma < 0.05) {
                    gammaEffect = 'è¾ƒå°çš„Î³å€¼ä½¿å†³ç­–è¾¹ç•Œæ›´å¹³æ»‘ï¼Œå¯èƒ½æ¬ æ‹Ÿåˆ';
                } else {
                    gammaEffect = 'Î³å€¼é€‚ä¸­ï¼Œå†³ç­–è¾¹ç•Œå¤æ‚åº¦åˆç†';
                }
            } else {
                gammaEffect = 'å½“å‰æ ¸å‡½æ•°ä¸ä½¿ç”¨Î³å‚æ•°';
            }
            
            parameterAnalysis.innerHTML = `
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px;">
                    <h5 style="color: #2c3e50; margin-bottom: 10px;">âš™ï¸ å½“å‰å‚æ•°è®¾ç½®</h5>
                    <div style="margin-bottom: 15px;">
                        <div style="margin-bottom: 8px;">
                            <strong>æƒ©ç½šå‚æ•° C = ${C}:</strong> ${cEffect}
                        </div>
                        <div style="margin-bottom: 8px;">
                            <strong>RBFå‚æ•° Î³ = ${gamma}:</strong> ${gammaEffect}
                        </div>
                        <div>
                            <strong>æ ¸å‡½æ•°ç±»å‹:</strong> ${kernel === 'linear' ? 'çº¿æ€§æ ¸ - é€‚ç”¨äºçº¿æ€§å¯åˆ†æ•°æ®' : 
                                                      kernel === 'rbf' ? 'RBFæ ¸ - é€‚ç”¨äºéçº¿æ€§æ•°æ®ï¼Œæœ€å¸¸ç”¨' : 
                                                      'å¤šé¡¹å¼æ ¸ - é€‚ç”¨äºç‰¹å®šéçº¿æ€§æ¨¡å¼'}
                        </div>
                    </div>
                    <div style="background: #fff3cd; padding: 10px; border-radius: 5px; font-size: 14px;">
                        <strong>ğŸ“Š æ”¯æŒå‘é‡åˆ†æ:</strong> å½“å‰æ¨¡å‹ä½¿ç”¨äº† ${supportVectors} ä¸ªæ”¯æŒå‘é‡ã€‚
                        ${supportVectors > 100 ? 'æ”¯æŒå‘é‡è¾ƒå¤šï¼Œæ¨¡å‹å¯èƒ½è¿‡äºå¤æ‚ã€‚' : 
                          supportVectors < 20 ? 'æ”¯æŒå‘é‡è¾ƒå°‘ï¼Œæ¨¡å‹ç›¸å¯¹ç®€å•ã€‚' : 
                          'æ”¯æŒå‘é‡æ•°é‡é€‚ä¸­ã€‚'}
                    </div>
                </div>
            `;
            
            // ä¼˜åŒ–å»ºè®®
            let suggestions = [];
            
            if (overfit > 0.1) {
                suggestions.push('ğŸ”§ å‡å°Cå€¼ä»¥é™ä½è¿‡æ‹Ÿåˆé£é™©');
                if (kernel === 'rbf' && gamma > 0.1) {
                    suggestions.push('ğŸ”§ å‡å°Î³å€¼ä»¥ç®€åŒ–å†³ç­–è¾¹ç•Œ');
                }
                suggestions.push('ğŸ“Š å¢åŠ è®­ç»ƒæ•°æ®æˆ–ä½¿ç”¨æ­£åˆ™åŒ–æŠ€æœ¯');
            } else if (testAccuracy < 0.8) {
                suggestions.push('ğŸ”§ é€‚å½“å¢å¤§Cå€¼ä»¥æé«˜æ‹Ÿåˆåº¦');
                if (kernel === 'rbf' && gamma < 0.1) {
                    suggestions.push('ğŸ”§ é€‚å½“å¢å¤§Î³å€¼ä»¥å¢åŠ æ¨¡å‹å¤æ‚åº¦');
                }
                suggestions.push('ğŸ”„ å°è¯•ä¸åŒçš„æ ¸å‡½æ•°ç±»å‹');
            } else {
                suggestions.push('âœ… å½“å‰å‚æ•°è®¾ç½®è¡¨ç°è‰¯å¥½');
                suggestions.push('ğŸ¯ å¯å°è¯•å¾®è°ƒå‚æ•°ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–');
            }
            
            if (kernel === 'linear' && testAccuracy < 0.85) {
                suggestions.push('ğŸ”„ æ•°æ®å¯èƒ½éçº¿æ€§ï¼Œå»ºè®®å°è¯•RBFæ ¸');
            }
            
            optimizationSuggestions.innerHTML = `
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                    <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸš€ ä¼˜åŒ–å»ºè®®</h5>
                    <ul style="margin: 0; padding-left: 20px;">
                        ${suggestions.map(suggestion => `<li style="margin-bottom: 8px;">${suggestion}</li>`).join('')}
                    </ul>
                    <div style="background: #e8f5e8; padding: 10px; border-radius: 5px; margin-top: 15px; font-size: 14px;">
                        <strong>ğŸ“ å­¦ä¹ æç¤º:</strong> 
                        SVMçš„æ€§èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå‚æ•°é€‰æ‹©ã€‚å»ºè®®ä½¿ç”¨ç½‘æ ¼æœç´¢æˆ–äº¤å‰éªŒè¯æ¥æ‰¾åˆ°æœ€ä¼˜å‚æ•°ç»„åˆã€‚
                        åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿˜éœ€è¦è€ƒè™‘è®¡ç®—æ•ˆç‡å’Œæ¨¡å‹è§£é‡Šæ€§ã€‚
                    </div>
                </div>
            `;
        }
        
        // å›¾ç‰‡é¢„åŠ è½½å‡½æ•°
        function preloadImages() {
            const imageUrls = [
                'static/linear_svm_result.png',
                'static/nonlinear_svm_result.png', 
                'static/parameter_optimization.png',
                'static/moons_dataset.png',
                'static/support_vectors.png'
            ];
            
            imageUrls.forEach(url => {
                const img = new Image();
                img.src = url;
                img.onload = function() {
                    console.log(`å›¾ç‰‡åŠ è½½æˆåŠŸ: ${url}`);
                };
                img.onerror = function() {
                    console.log(`å›¾ç‰‡åŠ è½½å¤±è´¥: ${url}`);
                };
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            preloadImages(); // é¢„åŠ è½½æ‰€æœ‰å®éªŒç»“æœå›¾ç‰‡
        });
    </script>
</body>
</html>