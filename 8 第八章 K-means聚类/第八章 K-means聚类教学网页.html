<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-meansèšç±»ç®—æ³•æ•™å­¦å¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
        }

        .nav-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #666;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .nav-tab.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .subsection {
            margin-bottom: 30px;
        }

        .subsection h3 {
            color: #34495e;
            font-size: 1.3em;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 4px solid #667eea;
        }

        .code-container {
            background: #2d3748;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow-x: auto;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #4a5568;
        }

        .code-title {
            color: #e2e8f0;
            font-weight: 500;
        }

        .download-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s ease;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .code-content {
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .interactive-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            color: white;
        }

        .interactive-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-group {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .control-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .control-group input, .control-group select {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
        }

        .run-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .run-btn:hover {
            background: white;
            color: #f5576c;
            transform: translateY(-2px);
        }

        .result-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .result-image {
            max-width: 100%;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .math-formula {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            font-family: 'Times New Roman', serif;
            text-align: center;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border: 1px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea10, #764ba210);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }

        .feature-icon {
            font-size: 2em;
            margin-bottom: 15px;
            color: #667eea;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .interactive-controls {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- è¿”å›ä¸»é¡µæŒ‰é’® -->
    <div style="
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
    ">
        <a href="../index.html" style="
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: rgba(255,255,255,0.9);
            color: #667eea;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        " onmouseover="this.style.background='white'; this.style.transform='scale(1.05)'" onmouseout="this.style.background='rgba(255,255,255,0.9)'; this.style.transform='scale(1)'">
            <span style="font-size: 18px;">â†</span>
            <span>è¿”å›ä¸»é¡µ</span>
        </a>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ¯ K-meansèšç±»ç®—æ³•æ•™å­¦å¹³å°</h1>
            <p>æ·±å…¥ç†è§£æ— ç›‘ç£å­¦ä¹ çš„ç»å…¸ç®—æ³•ï¼ŒæŒæ¡èšç±»åˆ†æçš„æ ¸å¿ƒæŠ€æœ¯</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('theory')">ğŸ“š ç®—æ³•åŸç†</button>
            <button class="nav-tab" onclick="showSection('implementation')">ğŸ’» Pythonå®ç°</button>
            <button class="nav-tab" onclick="showSection('evaluation')">ğŸ“Š ç»“æœè¯„ä¼°</button>
            <button class="nav-tab" onclick="showSection('interactive')">ğŸš€ äº¤äº’å®éªŒ</button>
            <button class="nav-tab" onclick="showSection('results')">ğŸ“ˆ å®éªŒç»“æœ</button>
            <button class="nav-tab" onclick="showSection('thinking')">ğŸ¤” æ€è€ƒé¢˜</button>
        </div>

        <!-- ç®—æ³•åŸç†éƒ¨åˆ† -->
        <div id="theory" class="content-section active">
            <h2 class="section-title">ğŸ“š K-meansç®—æ³•åŸç†ä¸ç†è®ºåŸºç¡€</h2>
            
            <div class="subsection">
                <h3>ğŸ¯ èšç±»åˆ†æåŸºç¡€</h3>
                <p>èšç±»åˆ†æï¼ˆClustering Analysisï¼‰æ˜¯<strong>æ— ç›‘ç£å­¦ä¹ </strong>çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œå…¶ç›®æ ‡æ˜¯å°†æ•°æ®é›†æŒ‰ç…§æ ·æœ¬é—´çš„ç›¸ä¼¼æ€§åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªäº’ä¸é‡å çš„å­é›†ï¼ˆç§°ä¸º"ç°‡"ï¼ŒClusterï¼‰ï¼Œä½¿å¾—åŒä¸€ç°‡å†…æ ·æœ¬çš„ç›¸ä¼¼åº¦å°½å¯èƒ½é«˜ï¼Œä¸åŒç°‡é—´æ ·æœ¬çš„ç›¸ä¼¼åº¦å°½å¯èƒ½ä½ã€‚</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ‘¥</div>
                        <h4>å®¢æˆ·åˆ†ç¾¤</h4>
                        <p>åŸºäºæ¶ˆè´¹è¡Œä¸ºåˆ’åˆ†å®¢æˆ·ç¾¤ä½“</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”</div>
                        <h4>å¼‚å¸¸æ£€æµ‹</h4>
                        <p>è¯†åˆ«è¿œç¦»ä¸»è¦ç°‡çš„ç¦»ç¾¤ç‚¹</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ–¼ï¸</div>
                        <h4>å›¾åƒåˆ†å‰²</h4>
                        <p>å°†åƒç´ æŒ‰é¢œè‰²/çº¹ç†ç›¸ä¼¼åº¦åˆ†ç»„</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ§¬</div>
                        <h4>åŸºå› åˆ†æ</h4>
                        <p>å°†å…·æœ‰ç›¸ä¼¼è¡¨è¾¾æ¨¡å¼çš„åŸºå› èšç±»</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>âš™ï¸ K-meansç®—æ³•æ ¸å¿ƒ</h3>
                <p>K-means æ˜¯æœ€ç»å…¸çš„åŸºäºåˆ’åˆ†çš„èšç±»ç®—æ³•ï¼Œç”± MacQueen åœ¨ 1967 å¹´æå‡ºã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡è¿­ä»£ä¼˜åŒ–å®ç°"ç°‡å†…ç´§å‡‘ã€ç°‡é—´åˆ†ç¦»"çš„èšç±»ç›®æ ‡ã€‚</p>
                
                <div class="math-formula">
                    <strong>ç›®æ ‡å‡½æ•°ï¼ˆå¹³æ–¹è¯¯å·®å’Œ SSEï¼‰ï¼š</strong><br>
                    J = Î£(k=1 to K) Î£(xiâˆˆCk) ||xi - Î¼k||Â²
                </div>
                
                <div class="highlight-box">
                    <h4>ğŸ”„ ç®—æ³•æµç¨‹</h4>
                    <ol>
                        <li><strong>åˆå§‹åŒ–</strong>ï¼šéšæœºé€‰æ‹© K ä¸ªæ ·æœ¬ä½œä¸ºåˆå§‹è´¨å¿ƒ</li>
                        <li><strong>åˆ†é…æ ·æœ¬</strong>ï¼šå°†æ¯ä¸ªæ ·æœ¬åˆ†é…åˆ°è·ç¦»æœ€è¿‘çš„è´¨å¿ƒæ‰€å±çš„ç°‡</li>
                        <li><strong>æ›´æ–°è´¨å¿ƒ</strong>ï¼šé‡æ–°è®¡ç®—æ¯ä¸ªç°‡çš„è´¨å¿ƒï¼ˆç°‡å†…æ‰€æœ‰æ ·æœ¬çš„å‡å€¼ï¼‰</li>
                        <li><strong>æ”¶æ•›åˆ¤æ–­</strong>ï¼šè‹¥è´¨å¿ƒä½ç½®ä¸å†å˜åŒ–ï¼Œåˆ™åœæ­¢ï¼›å¦åˆ™è¿”å›æ­¥éª¤2</li>
                    </ol>
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ“Š Kå€¼é€‰æ‹©æ–¹æ³•</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“ˆ</div>
                        <h4>æ‰‹è‚˜æ³•</h4>
                        <p>å¯»æ‰¾SSEä¸‹é™è¶‹åŠ¿çš„æ‹ç‚¹</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>è½®å»“ç³»æ•°æ³•</h4>
                        <p>ç»¼åˆè€ƒè™‘ç±»å†…å’Œç±»é—´ç›¸ä¼¼åº¦</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <h4>Gapç»Ÿè®¡é‡</h4>
                        <p>æ¯”è¾ƒå®é™…æ•°æ®ä¸éšæœºæ•°æ®çš„èšç±»æ•ˆæœ</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>âš–ï¸ ç®—æ³•ç‰¹æ€§åˆ†æ</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="alert alert-success">
                        <h4>âœ… ä¼˜ç‚¹</h4>
                        <ul>
                            <li>åŸç†ç®€å•ç›´è§‚ï¼Œè®¡ç®—æ•ˆç‡é«˜</li>
                            <li>å¯¹å¤§è§„æ¨¡æ•°æ®é›†å…·æœ‰è¾ƒå¥½çš„å¯æ‰©å±•æ€§</li>
                            <li>èšç±»ç»“æœå¯è§£é‡Šæ€§å¼º</li>
                        </ul>
                    </div>
                    <div class="alert alert-warning">
                        <h4>âš ï¸ ç¼ºç‚¹</h4>
                        <ul>
                            <li>éœ€è¦é¢„å…ˆæŒ‡å®šç°‡æ•° K</li>
                            <li>å¯¹åˆå§‹è´¨å¿ƒçš„é€‰æ‹©æ•æ„Ÿ</li>
                            <li>åªèƒ½å‘ç°å‡¸å½¢åˆ†å¸ƒçš„ç°‡</li>
                            <li>å¯¹å™ªå£°å’Œç¦»ç¾¤ç‚¹æ•æ„Ÿ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pythonå®ç°éƒ¨åˆ† -->
        <div id="implementation" class="content-section">
            <h2 class="section-title">ğŸ’» Pythonå®ç°ä»£ç </h2>
            
            <div class="subsection">
                <h3>ğŸ¯ å®éªŒç›®æ ‡</h3>
                <p>é€šè¿‡ scikit-learn å†…ç½®çš„ Iris æ•°æ®é›†å®ç° K-means èšç±»ï¼ŒæŒæ¡æ•°æ®é¢„å¤„ç†ã€æ¨¡å‹è®­ç»ƒã€ç»“æœå¯è§†åŒ–çš„å®Œæ•´æµç¨‹ã€‚</p>
                
                <div class="alert alert-info">
                    <strong>ğŸ“Š Irisæ•°æ®é›†ä»‹ç»ï¼š</strong><br>
                    åŒ…å« 3 ç±»é¸¢å°¾èŠ±ï¼ˆSetosaã€Versicolorã€Virginicaï¼‰çš„ 150 ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰ 4 ä¸ªç‰¹å¾ï¼šè¼ç‰‡é•¿åº¦ã€è¼ç‰‡å®½åº¦ã€èŠ±ç“£é•¿åº¦ã€èŠ±ç“£å®½åº¦ã€‚
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ“ å®Œæ•´å®éªŒä»£ç </h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-title">iris_kmeans_clustering.py</span>
                        <button class="download-btn" onclick="downloadCode('iris_code')">ğŸ“¥ ä¸‹è½½ä»£ç </button>
                    </div>
                    <div class="code-content" id="iris_code"># å¯¼å…¥å¿…è¦åº“
import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.cluster import KMeans
from sklearn.preprocessing import StandardScaler
from sklearn.decomposition import PCA
from sklearn.metrics import adjusted_rand_score, silhouette_score

# 1. åŠ è½½æ•°æ®é›†
iris = load_iris()
X = iris.data  # ç‰¹å¾æ•°æ® (150, 4)
y_true = iris.target  # çœŸå®æ ‡ç­¾ (150,)
feature_names = iris.feature_names

print(f"æ•°æ®é›†å½¢çŠ¶: {X.shape}")
print(f"ç‰¹å¾åç§°: {feature_names}")
print(f"ç±»åˆ«æ ‡ç­¾: {np.unique(y_true)}")

# 2. æ•°æ®é¢„å¤„ç†ï¼ˆæ ‡å‡†åŒ–ï¼‰
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# 3. K-meansæ¨¡å‹è®­ç»ƒ
kmeans = KMeans(n_clusters=3, random_state=42, n_init=10)
y_pred = kmeans.fit_predict(X_scaled)

# 4. èšç±»ç»“æœå¯è§†åŒ–ï¼ˆPCAé™ç»´ï¼‰
pca = PCA(n_components=2)
X_pca = pca.fit_transform(X_scaled)

# ç»˜åˆ¶èšç±»ç»“æœæ•£ç‚¹å›¾
plt.figure(figsize=(12, 5))

# å­å›¾1ï¼šèšç±»ç»“æœ
plt.subplot(1, 2, 1)
scatter = plt.scatter(X_pca[:, 0], X_pca[:, 1], c=y_pred, cmap='viridis', 
                      alpha=0.7, edgecolors='k')
centroids_pca = pca.transform(kmeans.cluster_centers_)
plt.scatter(centroids_pca[:, 0], centroids_pca[:, 1], marker='X', s=200, 
            c='red', linewidths=3, label='è´¨å¿ƒ')
plt.xlabel('PCAç‰¹å¾1')
plt.ylabel('PCAç‰¹å¾2')
plt.title('K-meansèšç±»ç»“æœ')
plt.legend()
plt.colorbar(scatter, label='ç°‡æ ‡ç­¾')

# å­å›¾2ï¼šçœŸå®æ ‡ç­¾
plt.subplot(1, 2, 2)
scatter2 = plt.scatter(X_pca[:, 0], X_pca[:, 1], c=y_true, cmap='viridis', 
                       alpha=0.7, edgecolors='k')
plt.xlabel('PCAç‰¹å¾1')
plt.ylabel('PCAç‰¹å¾2')
plt.title('çœŸå®æ ‡ç­¾åˆ†å¸ƒ')
plt.colorbar(scatter2, label='çœŸå®ç±»åˆ«')

plt.tight_layout()
plt.savefig('iris_clustering_result.png', dpi=300, bbox_inches='tight')
plt.show()

# 5. èšç±»è¯„ä¼°
ari = adjusted_rand_score(y_true, y_pred)
sil_score = silhouette_score(X_scaled, y_pred)

print(f"\n=== èšç±»è¯„ä¼°ç»“æœ ===")
print(f"è°ƒæ•´å…°å¾·æŒ‡æ•° (ARI): {ari:.4f}")
print(f"å¹³å‡è½®å»“ç³»æ•°: {sil_score:.4f}")
print(f"ç°‡å†…å¹³æ–¹å’Œ (SSE): {kmeans.inertia_:.2f}")

# 6. Kå€¼é€‰æ‹©å®éªŒï¼ˆæ‰‹è‚˜æ³•ï¼‰
sse_values = []
k_range = range(1, 11)
for k in k_range:
    kmeans_temp = KMeans(n_clusters=k, random_state=42)
    kmeans_temp.fit(X_scaled)
    sse_values.append(kmeans_temp.inertia_)

plt.figure(figsize=(8, 5))
plt.plot(k_range, sse_values, 'bo-', linewidth=2, markersize=8)
plt.xlabel('Kå€¼')
plt.ylabel('SSE (ç°‡å†…å¹³æ–¹å’Œ)')
plt.title('æ‰‹è‚˜æ³•ç¡®å®šæœ€ä¼˜Kå€¼')
plt.grid(True, alpha=0.3)
plt.savefig('elbow_method.png', dpi=300, bbox_inches='tight')
plt.show()

print("\nå®éªŒå®Œæˆï¼ç»“æœå›¾ç‰‡å·²ä¿å­˜ã€‚")</div>
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ“Š Kå€¼é€‰æ‹©ä»£ç </h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-title">k_selection_methods.py</span>
                        <button class="download-btn" onclick="downloadCode('k_selection_code')">ğŸ“¥ ä¸‹è½½ä»£ç </button>
                    </div>
                    <div class="code-content" id="k_selection_code"># Kå€¼é€‰æ‹©æ–¹æ³•å®ç°
import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.cluster import KMeans
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import silhouette_score

# åŠ è½½å’Œé¢„å¤„ç†æ•°æ®
iris = load_iris()
X = iris.data
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# 1. æ‰‹è‚˜æ³•
def elbow_method(X, max_k=10):
    sse = []
    k_range = range(1, max_k + 1)
    
    for k in k_range:
        kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
        kmeans.fit(X)
        sse.append(kmeans.inertia_)
    
    return k_range, sse

# 2. è½®å»“ç³»æ•°æ³•
def silhouette_method(X, max_k=10):
    sil_scores = []
    k_range = range(2, max_k + 1)  # è½®å»“ç³»æ•°è¦æ±‚Kâ‰¥2
    
    for k in k_range:
        kmeans = KMeans(n_clusters=k, random_state=42, n_init=10)
        labels = kmeans.fit_predict(X)
        sil_scores.append(silhouette_score(X, labels))
    
    return k_range, sil_scores

# 3. Gapç»Ÿè®¡é‡ï¼ˆç®€åŒ–ç‰ˆï¼‰
def gap_statistic(X, max_k=10, n_refs=10):
    gaps = []
    k_range = range(1, max_k + 1)
    
    for k in k_range:
        # å®é™…æ•°æ®çš„SSE
        kmeans = KMeans(n_clusters=k, random_state=42)
        kmeans.fit(X)
        actual_sse = kmeans.inertia_
        
        # éšæœºæ•°æ®çš„SSEï¼ˆå¤šæ¬¡é‡‡æ ·å–å¹³å‡ï¼‰
        ref_sses = []
        for _ in range(n_refs):
            # ç”Ÿæˆä¸åŸæ•°æ®åŒåˆ†å¸ƒçš„éšæœºæ•°æ®
            random_data = np.random.uniform(X.min(axis=0), X.max(axis=0), X.shape)
            kmeans_ref = KMeans(n_clusters=k, random_state=42)
            kmeans_ref.fit(random_data)
            ref_sses.append(kmeans_ref.inertia_)
        
        ref_sse_mean = np.mean(ref_sses)
        gap = np.log(ref_sse_mean) - np.log(actual_sse)
        gaps.append(gap)
    
    return k_range, gaps

# æ‰§è¡Œä¸‰ç§æ–¹æ³•
k_range_elbow, sse_values = elbow_method(X_scaled)
k_range_sil, sil_scores = silhouette_method(X_scaled)
k_range_gap, gap_values = gap_statistic(X_scaled)

# å¯è§†åŒ–ç»“æœ
fig, axes = plt.subplots(1, 3, figsize=(15, 5))

# æ‰‹è‚˜æ³•
axes[0].plot(k_range_elbow, sse_values, 'bo-', linewidth=2, markersize=8)
axes[0].set_xlabel('Kå€¼')
axes[0].set_ylabel('SSE')
axes[0].set_title('æ‰‹è‚˜æ³•')
axes[0].grid(True, alpha=0.3)

# è½®å»“ç³»æ•°æ³•
axes[1].plot(k_range_sil, sil_scores, 'ro-', linewidth=2, markersize=8)
axes[1].set_xlabel('Kå€¼')
axes[1].set_ylabel('å¹³å‡è½®å»“ç³»æ•°')
axes[1].set_title('è½®å»“ç³»æ•°æ³•')
axes[1].grid(True, alpha=0.3)

# Gapç»Ÿè®¡é‡
axes[2].plot(k_range_gap, gap_values, 'go-', linewidth=2, markersize=8)
axes[2].set_xlabel('Kå€¼')
axes[2].set_ylabel('Gapç»Ÿè®¡é‡')
axes[2].set_title('Gapç»Ÿè®¡é‡æ³•')
axes[2].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('k_selection_methods.png', dpi=300, bbox_inches='tight')
plt.show()

# è¾“å‡ºæœ€ä¼˜Kå€¼å»ºè®®
print("=== Kå€¼é€‰æ‹©ç»“æœ ===")
print(f"è½®å»“ç³»æ•°æ³•æ¨èKå€¼: {k_range_sil[np.argmax(sil_scores)]}")
print(f"Gapç»Ÿè®¡é‡æ³•æ¨èKå€¼: {k_range_gap[np.argmax(gap_values)]}")
print("æ‰‹è‚˜æ³•éœ€è¦äººå·¥è§‚å¯Ÿæ‹ç‚¹ç¡®å®šKå€¼")</div>
                </div>
            </div>
        </div>

        <!-- ç»“æœè¯„ä¼°éƒ¨åˆ† -->
        <div id="evaluation" class="content-section">
            <h2 class="section-title">ğŸ“Š èšç±»ç»“æœè¯„ä¼°æ–¹æ³•</h2>
            
            <div class="subsection">
                <h3>ğŸ¯ è¯„ä¼°æŒ‡æ ‡åˆ†ç±»</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="highlight-box">
                        <h4>ğŸ·ï¸ å¤–éƒ¨è¯„ä¼°ï¼ˆæœ‰çœŸå®æ ‡ç­¾ï¼‰</h4>
                        <ul>
                            <li><strong>è°ƒæ•´å…°å¾·æŒ‡æ•° (ARI)</strong>ï¼šè¡¡é‡é¢„æµ‹ä¸çœŸå®æ ‡ç­¾çš„ä¸€è‡´æ€§</li>
                            <li><strong>æ ‡å‡†åŒ–äº’ä¿¡æ¯ (NMI)</strong>ï¼šåŸºäºä¿¡æ¯è®ºçš„ç›¸ä¼¼åº¦åº¦é‡</li>
                            <li><strong>V-measure</strong>ï¼šåŒè´¨æ€§å’Œå®Œæ•´æ€§çš„è°ƒå’Œå¹³å‡</li>
                        </ul>
                    </div>
                    <div class="highlight-box">
                        <h4>ğŸ“ å†…éƒ¨è¯„ä¼°ï¼ˆæ— çœŸå®æ ‡ç­¾ï¼‰</h4>
                        <ul>
                            <li><strong>è½®å»“ç³»æ•°</strong>ï¼šç»¼åˆç±»å†…ä¸ç±»é—´è·ç¦»</li>
                            <li><strong>Calinski-HarabaszæŒ‡æ•°</strong>ï¼šç»„é—´ä¸ç»„å†…æ–¹å·®æ¯”å€¼</li>
                            <li><strong>Davies-BouldinæŒ‡æ•°</strong>ï¼šç°‡å†…è·ç¦»ä¸ç°‡é—´è·ç¦»æ¯”å€¼</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ“ è¯„ä¼°ä»£ç å®ç°</h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-title">clustering_evaluation.py</span>
                        <button class="download-btn" onclick="downloadCode('evaluation_code')">ğŸ“¥ ä¸‹è½½ä»£ç </button>
                    </div>
                    <div class="code-content" id="evaluation_code"># èšç±»ç»“æœè¯„ä¼°å®Œæ•´ä»£ç 
import numpy as np
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.cluster import KMeans
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import (
    adjusted_rand_score, normalized_mutual_info_score, v_measure_score,
    silhouette_score, calinski_harabasz_score, davies_bouldin_score,
    silhouette_samples
)
import seaborn as sns

# åŠ è½½å’Œé¢„å¤„ç†æ•°æ®
iris = load_iris()
X = iris.data
y_true = iris.target
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# K-meansèšç±»
kmeans = KMeans(n_clusters=3, random_state=42, n_init=10)
y_pred = kmeans.fit_predict(X_scaled)

# 1. å¤–éƒ¨è¯„ä¼°æŒ‡æ ‡
print("=== å¤–éƒ¨è¯„ä¼°æŒ‡æ ‡ï¼ˆéœ€è¦çœŸå®æ ‡ç­¾ï¼‰ ===")
ari = adjusted_rand_score(y_true, y_pred)
nmi = normalized_mutual_info_score(y_true, y_pred)
v_measure = v_measure_score(y_true, y_pred)

print(f"è°ƒæ•´å…°å¾·æŒ‡æ•° (ARI): {ari:.4f}")
print(f"æ ‡å‡†åŒ–äº’ä¿¡æ¯ (NMI): {nmi:.4f}")
print(f"V-measure: {v_measure:.4f}")

# 2. å†…éƒ¨è¯„ä¼°æŒ‡æ ‡
print("\n=== å†…éƒ¨è¯„ä¼°æŒ‡æ ‡ï¼ˆæ— éœ€çœŸå®æ ‡ç­¾ï¼‰ ===")
sil_score = silhouette_score(X_scaled, y_pred)
ch_score = calinski_harabasz_score(X_scaled, y_pred)
db_score = davies_bouldin_score(X_scaled, y_pred)

print(f"å¹³å‡è½®å»“ç³»æ•°: {sil_score:.4f}")
print(f"Calinski-HarabaszæŒ‡æ•°: {ch_score:.2f}")
print(f"Davies-BouldinæŒ‡æ•°: {db_score:.4f}")
print(f"ç°‡å†…å¹³æ–¹å’Œ (SSE): {kmeans.inertia_:.2f}")

# 3. è½®å»“ç³»æ•°è¯¦ç»†åˆ†æ
sample_silhouette_values = silhouette_samples(X_scaled, y_pred)

# å¯è§†åŒ–è½®å»“ç³»æ•°åˆ†å¸ƒ
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# è½®å»“ç³»æ•°åˆ†å¸ƒå›¾
y_lower = 10
for i in range(3):
    cluster_silhouette_values = sample_silhouette_values[y_pred == i]
    cluster_silhouette_values.sort()
    
    size_cluster_i = cluster_silhouette_values.shape[0]
    y_upper = y_lower + size_cluster_i
    
    color = plt.cm.nipy_spectral(float(i) / 3)
    ax1.fill_betweenx(np.arange(y_lower, y_upper),
                      0, cluster_silhouette_values,
                      facecolor=color, edgecolor=color, alpha=0.7)
    
    ax1.text(-0.05, y_lower + 0.5 * size_cluster_i, str(i))
    y_lower = y_upper + 10

ax1.set_xlabel('è½®å»“ç³»æ•°å€¼')
ax1.set_ylabel('ç°‡æ ‡ç­¾')
ax1.set_title('å„ç°‡è½®å»“ç³»æ•°åˆ†å¸ƒ')
ax1.axvline(x=sil_score, color="red", linestyle="--", label=f'å¹³å‡å€¼: {sil_score:.3f}')
ax1.legend()

# æ··æ·†çŸ©é˜µçƒ­åŠ›å›¾
from sklearn.metrics import confusion_matrix
cm = confusion_matrix(y_true, y_pred)
sns.heatmap(cm, annot=True, fmt='d', cmap='Blues', ax=ax2)
ax2.set_xlabel('é¢„æµ‹æ ‡ç­¾')
ax2.set_ylabel('çœŸå®æ ‡ç­¾')
ax2.set_title('èšç±»ç»“æœæ··æ·†çŸ©é˜µ')

plt.tight_layout()
plt.savefig('clustering_evaluation.png', dpi=300, bbox_inches='tight')
plt.show()

# 4. ä¸åŒKå€¼çš„è¯„ä¼°å¯¹æ¯”
k_range = range(2, 8)
metrics = {
    'silhouette': [],
    'calinski_harabasz': [],
    'davies_bouldin': [],
    'sse': []
}

for k in k_range:
    kmeans_temp = KMeans(n_clusters=k, random_state=42, n_init=10)
    labels_temp = kmeans_temp.fit_predict(X_scaled)
    
    metrics['silhouette'].append(silhouette_score(X_scaled, labels_temp))
    metrics['calinski_harabasz'].append(calinski_harabasz_score(X_scaled, labels_temp))
    metrics['davies_bouldin'].append(davies_bouldin_score(X_scaled, labels_temp))
    metrics['sse'].append(kmeans_temp.inertia_)

# å¯è§†åŒ–ä¸åŒKå€¼çš„è¯„ä¼°æŒ‡æ ‡
fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0,0].plot(k_range, metrics['silhouette'], 'bo-', linewidth=2)
axes[0,0].set_title('è½®å»“ç³»æ•° vs Kå€¼')
axes[0,0].set_xlabel('Kå€¼')
axes[0,0].set_ylabel('è½®å»“ç³»æ•°')
axes[0,0].grid(True, alpha=0.3)

axes[0,1].plot(k_range, metrics['calinski_harabasz'], 'ro-', linewidth=2)
axes[0,1].set_title('Calinski-HarabaszæŒ‡æ•° vs Kå€¼')
axes[0,1].set_xlabel('Kå€¼')
axes[0,1].set_ylabel('CHæŒ‡æ•°')
axes[0,1].grid(True, alpha=0.3)

axes[1,0].plot(k_range, metrics['davies_bouldin'], 'go-', linewidth=2)
axes[1,0].set_title('Davies-BouldinæŒ‡æ•° vs Kå€¼')
axes[1,0].set_xlabel('Kå€¼')
axes[1,0].set_ylabel('DBæŒ‡æ•°')
axes[1,0].grid(True, alpha=0.3)

axes[1,1].plot(k_range, metrics['sse'], 'mo-', linewidth=2)
axes[1,1].set_title('SSE vs Kå€¼')
axes[1,1].set_xlabel('Kå€¼')
axes[1,1].set_ylabel('SSE')
axes[1,1].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig('metrics_comparison.png', dpi=300, bbox_inches='tight')
plt.show()

print("\nè¯„ä¼°åˆ†æå®Œæˆï¼ç»“æœå›¾ç‰‡å·²ä¿å­˜ã€‚")</div>
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ“ˆ è¯„ä¼°æŒ‡æ ‡è§£è¯»</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <h4>ARI (è°ƒæ•´å…°å¾·æŒ‡æ•°)</h4>
                        <p>å–å€¼èŒƒå›´[-1,1]ï¼Œ1è¡¨ç¤ºå®Œå…¨ä¸€è‡´ï¼Œ0è¡¨ç¤ºéšæœºåˆ†é…æ°´å¹³</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>è½®å»“ç³»æ•°</h4>
                        <p>å–å€¼èŒƒå›´[-1,1]ï¼Œè¶Šæ¥è¿‘1è¡¨ç¤ºèšç±»æ•ˆæœè¶Šå¥½</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“ˆ</div>
                        <h4>CHæŒ‡æ•°</h4>
                        <p>å€¼è¶Šå¤§è¡¨ç¤ºç°‡åˆ†ç¦»è¶Šå¥½ï¼Œæ— å›ºå®šèŒƒå›´</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“‰</div>
                        <h4>DBæŒ‡æ•°</h4>
                        <p>å€¼è¶Šå°è¡¨ç¤ºèšç±»æ•ˆæœè¶Šå¥½ï¼Œæœ€å°å€¼ä¸º0</p>
                    </div>
                </div>
            </div>
            
            <!-- å®éªŒç»“æœå±•ç¤ºéƒ¨åˆ† -->
            <div class="subsection">
                <h3>ğŸ”¬ å®éªŒç»“æœå±•ç¤º</h3>
                <div class="results-summary">
                    <h4>ğŸ“Š å®éªŒæ•°æ®æ€»è§ˆ</h4>
                    <div class="summary-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">Irisæ•°æ®é›†ARI</span>
                            <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #28a745;">0.6201</span>
                        </div>
                        <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">å¹³å‡è½®å»“ç³»æ•°</span>
                            <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #17a2b8;">0.4599</span>
                        </div>
                        <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">ç°‡å†…å¹³æ–¹å’Œ(SSE)</span>
                            <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #fd7e14;">139.82</span>
                        </div>
                        <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">æ–‡æœ¬èšç±»ä¸»é¢˜æ•°</span>
                            <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #6f42c1;">4</span>
                        </div>
                    </div>
                </div>
                
                <div class="results-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸŒ¸ Irisæ•°æ®é›†èšç±»ç»“æœ</h4>
                        <img src="iris_clustering_result.png" alt="Irisèšç±»ç»“æœ" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ•°æ®é›†:</strong> Irisé¸¢å°¾èŠ±æ•°æ®é›† (150ä¸ªæ ·æœ¬, 4ä¸ªç‰¹å¾)</p>
                            <p><strong>èšç±»æ•ˆæœ:</strong> ARI=0.6201, è½®å»“ç³»æ•°=0.4599</p>
                            <p><strong>ç»“è®º:</strong> K-meansæˆåŠŸè¯†åˆ«äº†3ä¸ªé¸¢å°¾èŠ±ç±»åˆ«çš„ä¸»è¦ç‰¹å¾</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“ˆ Kå€¼é€‰æ‹©æ–¹æ³•å¯¹æ¯”</h4>
                        <img src="k_selection_methods.png" alt="Kå€¼é€‰æ‹©æ–¹æ³•" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ‰‹è‚˜æ³•:</strong> è§‚å¯ŸSSEä¸‹é™è¶‹åŠ¿ï¼Œå¯»æ‰¾æ‹ç‚¹</p>
                            <p><strong>è½®å»“ç³»æ•°æ³•:</strong> æ¨èK=2 (ç³»æ•°=0.5818)</p>
                            <p><strong>Gapç»Ÿè®¡é‡æ³•:</strong> æ¨èK=10</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“Š èšç±»è¯„ä¼°æŒ‡æ ‡è¯¦è§£</h4>
                        <img src="clustering_evaluation.png" alt="èšç±»è¯„ä¼°" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>å¤–éƒ¨æŒ‡æ ‡:</strong> ARI=0.6201, NMI=0.6595</p>
                            <p><strong>å†…éƒ¨æŒ‡æ ‡:</strong> CHæŒ‡æ•°=241.90, DBæŒ‡æ•°=0.8336</p>
                            <p><strong>ç»¼åˆè¯„ä»·:</strong> èšç±»è´¨é‡è‰¯å¥½</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“° æ–‡æœ¬èšç±»ä¸»é¢˜åˆ†æ</h4>
                        <img src="text_clustering_result.png" alt="æ–‡æœ¬èšç±»" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ•°æ®é›†:</strong> 20 Newsgroups (3737ä¸ªæ–‡æ¡£)</p>
                            <p><strong>ä¸»é¢˜è¯†åˆ«:</strong> ä½“è‚²ã€è®¡ç®—æœºå›¾å½¢ã€åŒ»å­¦</p>
                            <p><strong>ç‰¹å¾æå–:</strong> TF-IDF (2000ä¸ªç‰¹å¾)</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“‰ æŒ‡æ ‡å¯¹æ¯”åˆ†æ</h4>
                        <img src="metrics_comparison.png" alt="æŒ‡æ ‡å¯¹æ¯”" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>å¤šKå€¼å¯¹æ¯”:</strong> ä¸åŒKå€¼ä¸‹å„è¯„ä¼°æŒ‡æ ‡çš„å˜åŒ–</p>
                            <p><strong>æœ€ä¼˜é€‰æ‹©:</strong> ç»¼åˆè€ƒè™‘å¤šä¸ªæŒ‡æ ‡ç¡®å®šæœ€ä½³Kå€¼</p>
                            <p><strong>å®ç”¨å»ºè®®:</strong> ç»“åˆä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®ç‰¹ç‚¹é€‰æ‹©</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“ˆ æ–‡æœ¬ä¸»é¢˜åˆ†å¸ƒ</h4>
                        <img src="cluster_distribution.png" alt="ä¸»é¢˜åˆ†å¸ƒ" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>ä¸»é¢˜å…³é”®è¯:</strong></p>
                            <p>â€¢ ä¸»é¢˜1: è®¡ç®—æœºå›¾å½¢ (graphics, image, file...)</p>
                            <p>â€¢ ä¸»é¢˜2: åŒ»å­¦ç§‘å­¦ (medical, health, disease...)</p>
                            <p>â€¢ ä¸»é¢˜3: ä½“è‚²èµ›äº‹ (game, hockey, team...)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å®éªŒç»“æœéƒ¨åˆ† -->
        <div id="results" class="content-section">
            <h2 class="section-title">ğŸ“ˆ å®éªŒç»“æœå±•ç¤º</h2>
            
            <div class="subsection">
                <h3>ğŸ“Š å®éªŒæ•°æ®æ€»è§ˆ</h3>
                <div class="summary-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                        <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">Irisæ•°æ®é›†ARI</span>
                        <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #28a745;">0.6201</span>
                    </div>
                    <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                        <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">å¹³å‡è½®å»“ç³»æ•°</span>
                        <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #17a2b8;">0.4599</span>
                    </div>
                    <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                        <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">ç°‡å†…å¹³æ–¹å’Œ(SSE)</span>
                        <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #fd7e14;">139.82</span>
                    </div>
                    <div class="summary-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                        <span class="metric-label" style="display: block; font-size: 14px; color: #666; margin-bottom: 5px;">æ–‡æœ¬èšç±»ä¸»é¢˜æ•°</span>
                        <span class="metric-value" style="font-size: 24px; font-weight: bold; color: #6f42c1;">3</span>
                    </div>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ”¬ è¯¦ç»†å®éªŒç»“æœ</h3>
                <div class="results-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸŒ¸ Irisæ•°æ®é›†èšç±»ç»“æœ</h4>
                        <img src="iris_clustering_result.png" alt="Irisèšç±»ç»“æœ" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ•°æ®é›†:</strong> Irisé¸¢å°¾èŠ±æ•°æ®é›† (150ä¸ªæ ·æœ¬, 4ä¸ªç‰¹å¾)</p>
                            <p><strong>èšç±»æ•ˆæœ:</strong> ARI=0.6201, è½®å»“ç³»æ•°=0.4599</p>
                            <p><strong>ç»“è®º:</strong> K-meansæˆåŠŸè¯†åˆ«äº†3ä¸ªé¸¢å°¾èŠ±ç±»åˆ«çš„ä¸»è¦ç‰¹å¾</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“ˆ Kå€¼é€‰æ‹©æ–¹æ³•å¯¹æ¯”</h4>
                        <img src="k_selection_methods.png" alt="Kå€¼é€‰æ‹©æ–¹æ³•" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ‰‹è‚˜æ³•:</strong> è§‚å¯ŸSSEä¸‹é™è¶‹åŠ¿ï¼Œå¯»æ‰¾æ‹ç‚¹</p>
                            <p><strong>è½®å»“ç³»æ•°æ³•:</strong> æ¨èK=2 (ç³»æ•°=0.5818)</p>
                            <p><strong>Gapç»Ÿè®¡é‡æ³•:</strong> æ¨èK=10</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“Š èšç±»è¯„ä¼°æŒ‡æ ‡è¯¦è§£</h4>
                        <img src="clustering_evaluation.png" alt="èšç±»è¯„ä¼°" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>å¤–éƒ¨æŒ‡æ ‡:</strong> ARI=0.6201, NMI=0.6595</p>
                            <p><strong>å†…éƒ¨æŒ‡æ ‡:</strong> CHæŒ‡æ•°=241.90, DBæŒ‡æ•°=0.8336</p>
                            <p><strong>ç»¼åˆè¯„ä»·:</strong> èšç±»è´¨é‡è‰¯å¥½</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“° æ–‡æœ¬èšç±»ä¸»é¢˜åˆ†æ</h4>
                        <img src="text_clustering_result.png" alt="æ–‡æœ¬èšç±»" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>æ•°æ®é›†:</strong> 20 Newsgroups (3737ä¸ªæ–‡æ¡£)</p>
                            <p><strong>ä¸»é¢˜è¯†åˆ«:</strong> ä½“è‚²ã€è®¡ç®—æœºå›¾å½¢ã€åŒ»å­¦</p>
                            <p><strong>ç‰¹å¾æå–:</strong> TF-IDF (2000ä¸ªç‰¹å¾)</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“‰ æŒ‡æ ‡å¯¹æ¯”åˆ†æ</h4>
                        <img src="metrics_comparison.png" alt="æŒ‡æ ‡å¯¹æ¯”" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>å¤šKå€¼å¯¹æ¯”:</strong> ä¸åŒKå€¼ä¸‹å„è¯„ä¼°æŒ‡æ ‡çš„å˜åŒ–</p>
                            <p><strong>æœ€ä¼˜é€‰æ‹©:</strong> ç»¼åˆè€ƒè™‘å¤šä¸ªæŒ‡æ ‡ç¡®å®šæœ€ä½³Kå€¼</p>
                            <p><strong>å®ç”¨å»ºè®®:</strong> ç»“åˆä¸šåŠ¡éœ€æ±‚å’Œæ•°æ®ç‰¹ç‚¹é€‰æ‹©</p>
                        </div>
                    </div>
                    
                    <div class="result-item" style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #495057; margin-bottom: 15px;">ğŸ“ˆ æ–‡æœ¬ä¸»é¢˜åˆ†å¸ƒ</h4>
                        <img src="cluster_distribution.png" alt="ä¸»é¢˜åˆ†å¸ƒ" style="width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;">
                        <div class="result-details">
                            <p><strong>ä¸»é¢˜å…³é”®è¯:</strong></p>
                            <p>â€¢ ä¸»é¢˜1: æ”¿æ²»ç›¸å…³ (cadre, intellect, banks...)</p>
                            <p>â€¢ ä¸»é¢˜2: è®¡ç®—æœºå›¾å½¢ (graphics, image, file...)</p>
                            <p>â€¢ ä¸»é¢˜3: ä¸€èˆ¬è®¨è®º (people, think, good...)</p>
                            <p>â€¢ ä¸»é¢˜4: ä½“è‚²èµ›äº‹ (game, hockey, team...)</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ“‹ å®éªŒæ€»ç»“æŠ¥å‘Š</h3>
                <div class="highlight-box">
                    <h4>ğŸ¯ å®éªŒç›®æ ‡è¾¾æˆæƒ…å†µ</h4>
                    <ul>
                        <li><strong>âœ… Irisæ•°æ®é›†èšç±»:</strong> æˆåŠŸå®ç°3ç±»é¸¢å°¾èŠ±çš„è‡ªåŠ¨åˆ†ç±»ï¼ŒARIè¾¾åˆ°0.6201</li>
                        <li><strong>âœ… Kå€¼é€‰æ‹©éªŒè¯:</strong> é€šè¿‡ä¸‰ç§æ–¹æ³•éªŒè¯äº†Kå€¼é€‰æ‹©çš„é‡è¦æ€§å’Œå¤æ‚æ€§</li>
                        <li><strong>âœ… è¯„ä¼°æŒ‡æ ‡åˆ†æ:</strong> å…¨é¢è¯„ä¼°äº†èšç±»è´¨é‡ï¼ŒåŒ…æ‹¬å¤–éƒ¨å’Œå†…éƒ¨æŒ‡æ ‡</li>
                        <li><strong>âœ… æ–‡æœ¬èšç±»åº”ç”¨:</strong> æˆåŠŸå°†K-meansåº”ç”¨äºæ–‡æ¡£ä¸»é¢˜å‘ç°ä»»åŠ¡</li>
                    </ul>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="alert alert-success">
                        <h4>âœ… ä¸»è¦å‘ç°</h4>
                        <ul>
                            <li>æ•°æ®é¢„å¤„ç†ï¼ˆæ ‡å‡†åŒ–ï¼‰æ˜¾è‘—æå‡èšç±»æ•ˆæœ</li>
                            <li>PCAé™ç»´æœ‰æ•ˆå®ç°é«˜ç»´æ•°æ®å¯è§†åŒ–</li>
                            <li>å¤šç§Kå€¼é€‰æ‹©æ–¹æ³•ç›¸äº’éªŒè¯ï¼Œæé«˜å¯é æ€§</li>
                            <li>æ–‡æœ¬èšç±»æˆåŠŸè¯†åˆ«ä¸åŒä¸»é¢˜çš„è¯­ä¹‰ç‰¹å¾</li>
                        </ul>
                    </div>
                    <div class="alert alert-warning">
                        <h4>âš ï¸ æ”¹è¿›å»ºè®®</h4>
                        <ul>
                            <li>å¯¹äºéå‡¸å½¢çŠ¶æ•°æ®ï¼Œå¯è€ƒè™‘DBSCANç­‰ç®—æ³•</li>
                            <li>æ–‡æœ¬èšç±»å¯ç»“åˆè¯åµŒå…¥æŠ€æœ¯æå‡è¯­ä¹‰ç†è§£</li>
                            <li>å¢åŠ äº¤å‰éªŒè¯ç¡®ä¿ç»“æœç¨³å®šæ€§</li>
                            <li>é’ˆå¯¹ä¸å¹³è¡¡æ•°æ®é›†éœ€è¦ç‰¹æ®Šå¤„ç†ç­–ç•¥</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- äº¤äº’å®éªŒéƒ¨åˆ† -->
        <div id="interactive" class="content-section">
            <h2 class="section-title">ğŸš€ æ–‡æ¡£ä¸»é¢˜èšç±»äº¤äº’å®éªŒ</h2>
            
            <div class="interactive-section">
                <h3>ğŸ“„ æ–‡æ¡£ä¸»é¢˜èšç±»åº”ç”¨</h3>
                <p>ä½¿ç”¨ K-means å¯¹æ–‡æœ¬æ•°æ®è¿›è¡Œèšç±»ï¼Œè‡ªåŠ¨å‘ç°æ–‡æ¡£ä¸»é¢˜ã€‚ä»¥ 20 Newsgroups æ•°æ®é›†ä¸ºä¾‹ï¼Œå®ç°ä»æ–‡æœ¬åˆ°ä¸»é¢˜çš„æ— ç›‘ç£å­¦ä¹ ã€‚</p>
                
                <div class="interactive-controls">
                    <div class="control-group">
                        <label for="categories">ğŸ“‚ é€‰æ‹©æ–°é—»ç»„ç±»åˆ«ï¼š</label>
                        <select id="categories" multiple>
                            <option value="comp.graphics" selected>è®¡ç®—æœºå›¾å½¢</option>
                            <option value="sci.med" selected>åŒ»å­¦ç§‘å­¦</option>
                            <option value="rec.sport.hockey" selected>å†°çƒè¿åŠ¨</option>
                            <option value="alt.atheism">æ— ç¥è®º</option>
                            <option value="comp.sys.mac.hardware">Macç¡¬ä»¶</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="n_clusters">ğŸ¯ èšç±»æ•°é‡ (K)ï¼š</label>
                        <input type="number" id="n_clusters" value="3" min="2" max="8">
                    </div>
                    
                    <div class="control-group">
                        <label for="max_features">ğŸ“Š æœ€å¤§ç‰¹å¾æ•°ï¼š</label>
                        <input type="number" id="max_features" value="2000" min="500" max="5000" step="500">
                    </div>
                    
                    <div class="control-group">
                        <label for="min_df">ğŸ“ æœ€å°æ–‡æ¡£é¢‘ç‡ï¼š</label>
                        <input type="number" id="min_df" value="5" min="1" max="20">
                    </div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button class="run-btn" onclick="runTextClustering()">ğŸš€ å¼€å§‹æ–‡æœ¬èšç±»</button>
                    <button class="run-btn" onclick="showTopicKeywords()">ğŸ” æ˜¾ç¤ºä¸»é¢˜å…³é”®è¯</button>
                    <button class="run-btn" onclick="visualizeResults()">ğŸ“Š å¯è§†åŒ–ç»“æœ</button>
                </div>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>æ­£åœ¨å¤„ç†æ–‡æœ¬æ•°æ®ï¼Œè¯·ç¨å€™...</p>
                </div>
                
                <div class="result-display" id="textResults" style="display: none;">
                    <h4>ğŸ“Š èšç±»ç»“æœ</h4>
                    <div id="clusteringOutput"></div>
                    
                    <h4>ğŸ” ä¸»é¢˜å…³é”®è¯</h4>
                    <div id="topicKeywords"></div>
                    
                    <h4>ğŸ“ˆ å¯è§†åŒ–å›¾è¡¨</h4>
                    <div id="visualizationArea"></div>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ’» æ–‡æœ¬èšç±»æ ¸å¿ƒä»£ç </h3>
                <div class="code-container">
                    <div class="code-header">
                        <span class="code-title">text_clustering.py</span>
                        <button class="download-btn" onclick="downloadCode('text_clustering_code')">ğŸ“¥ ä¸‹è½½ä»£ç </button>
                    </div>
                    <div class="code-content" id="text_clustering_code"># æ–‡æ¡£ä¸»é¢˜èšç±»å®Œæ•´å®ç°
from sklearn.datasets import fetch_20newsgroups
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.cluster import KMeans
from sklearn.decomposition import PCA
from sklearn.metrics import silhouette_score
import matplotlib.pyplot as plt
import numpy as np

class TextClustering:
    def __init__(self, categories=None, n_clusters=4, max_features=2000, min_df=5):
        self.categories = categories or ['comp.graphics', 'sci.med', 'rec.sport.hockey']
        self.n_clusters = n_clusters
        self.max_features = max_features
        self.min_df = min_df
        self.tfidf = None
        self.kmeans = None
        self.documents = None
        self.X_tfidf = None
        self.labels = None
        
    def load_data(self):
        """åŠ è½½20 Newsgroupsæ•°æ®é›†"""
        print(f"åŠ è½½æ•°æ®é›†ï¼Œç±»åˆ«: {self.categories}")
        newsgroups = fetch_20newsgroups(
            subset='all', 
            categories=self.categories,
            remove=('headers', 'footers', 'quotes'),
            shuffle=True, 
            random_state=42
        )
        self.documents = newsgroups.data
        self.true_labels = newsgroups.target
        self.target_names = newsgroups.target_names
        print(f"åŠ è½½å®Œæˆï¼Œå…±{len(self.documents)}ä¸ªæ–‡æ¡£")
        
    def vectorize_text(self):
        """TF-IDFå‘é‡åŒ–"""
        print("è¿›è¡ŒTF-IDFå‘é‡åŒ–...")
        self.tfidf = TfidfVectorizer(
            max_features=self.max_features,
            stop_words='english',
            min_df=self.min_df,
            max_df=0.95  # å»é™¤å‡ºç°åœ¨95%ä»¥ä¸Šæ–‡æ¡£ä¸­çš„è¯
        )
        self.X_tfidf = self.tfidf.fit_transform(self.documents)
        print(f"TF-IDFçŸ©é˜µå½¢çŠ¶: {self.X_tfidf.shape}")
        
    def perform_clustering(self):
        """æ‰§è¡ŒK-meansèšç±»"""
        print(f"æ‰§è¡ŒK-meansèšç±»ï¼ŒK={self.n_clusters}")
        self.kmeans = KMeans(
            n_clusters=self.n_clusters, 
            random_state=42, 
            n_init=10,
            max_iter=300
        )
        self.labels = self.kmeans.fit_predict(self.X_tfidf)
        
        # è®¡ç®—è¯„ä¼°æŒ‡æ ‡
        silhouette_avg = silhouette_score(self.X_tfidf, self.labels)
        print(f"å¹³å‡è½®å»“ç³»æ•°: {silhouette_avg:.4f}")
        
    def extract_topic_keywords(self, n_words=10):
        """æå–æ¯ä¸ªç°‡çš„ä¸»é¢˜å…³é”®è¯"""
        feature_names = self.tfidf.get_feature_names_out()
        topic_keywords = {}
        
        for i in range(self.n_clusters):
            # è·å–ç°‡ä¸­å¿ƒçš„ç‰¹å¾æƒé‡
            cluster_center = self.kmeans.cluster_centers_[i]
            # æŒ‰æƒé‡æ’åºï¼Œå–å‰n_wordsä¸ª
            top_indices = cluster_center.argsort()[-n_words:][::-1]
            top_words = [feature_names[idx] for idx in top_indices]
            topic_keywords[f'ä¸»é¢˜{i+1}'] = top_words
            
        return topic_keywords
        
    def visualize_clusters(self):
        """å¯è§†åŒ–èšç±»ç»“æœ"""
        # PCAé™ç»´åˆ°2D
        pca = PCA(n_components=2, random_state=42)
        X_pca = pca.fit_transform(self.X_tfidf.toarray())
        
        plt.figure(figsize=(12, 8))
        
        # ç»˜åˆ¶èšç±»ç»“æœ
        scatter = plt.scatter(X_pca[:, 0], X_pca[:, 1], 
                             c=self.labels, cmap='tab10', 
                             alpha=0.6, s=50)
        
        # ç»˜åˆ¶ç°‡ä¸­å¿ƒ
        centers_pca = pca.transform(self.kmeans.cluster_centers_.toarray())
        plt.scatter(centers_pca[:, 0], centers_pca[:, 1], 
                   marker='x', s=300, linewidths=3, 
                   color='red', label='ç°‡ä¸­å¿ƒ')
        
        plt.xlabel('PCAç‰¹å¾1')
        plt.ylabel('PCAç‰¹å¾2')
        plt.title('æ–‡æ¡£ä¸»é¢˜èšç±»ç»“æœ (TF-IDF + K-means + PCA)')
        plt.legend()
        plt.colorbar(scatter, label='ç°‡æ ‡ç­¾')
        plt.grid(True, alpha=0.3)
        
        plt.tight_layout()
        plt.savefig('text_clustering_result.png', dpi=300, bbox_inches='tight')
        plt.show()
        
    def analyze_cluster_distribution(self):
        """åˆ†æç°‡åˆ†å¸ƒ"""
        unique, counts = np.unique(self.labels, return_counts=True)
        
        plt.figure(figsize=(10, 6))
        bars = plt.bar(range(len(unique)), counts, 
                      color=plt.cm.tab10(np.linspace(0, 1, len(unique))))
        plt.xlabel('ç°‡æ ‡ç­¾')
        plt.ylabel('æ–‡æ¡£æ•°é‡')
        plt.title('å„ç°‡æ–‡æ¡£åˆ†å¸ƒ')
        plt.xticks(range(len(unique)), [f'ç°‡{i}' for i in unique])
        
        # åœ¨æŸ±çŠ¶å›¾ä¸Šæ·»åŠ æ•°å€¼æ ‡ç­¾
        for bar, count in zip(bars, counts):
            plt.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 1,
                    str(count), ha='center', va='bottom')
        
        plt.grid(True, alpha=0.3)
        plt.tight_layout()
        plt.savefig('cluster_distribution.png', dpi=300, bbox_inches='tight')
        plt.show()
        
    def run_complete_analysis(self):
        """è¿è¡Œå®Œæ•´çš„æ–‡æœ¬èšç±»åˆ†æ"""
        self.load_data()
        self.vectorize_text()
        self.perform_clustering()
        
        # æå–å¹¶æ˜¾ç¤ºä¸»é¢˜å…³é”®è¯
        topic_keywords = self.extract_topic_keywords()
        print("\n=== ä¸»é¢˜å…³é”®è¯ ===")
        for topic, words in topic_keywords.items():
            print(f"{topic}: {', '.join(words)}")
        
        # å¯è§†åŒ–ç»“æœ
        self.visualize_clusters()
        self.analyze_cluster_distribution()
        
        return topic_keywords

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    # åˆ›å»ºæ–‡æœ¬èšç±»å®ä¾‹
    text_clusterer = TextClustering(
        categories=['comp.graphics', 'sci.med', 'talk.politics.misc', 'rec.sport.hockey'],
        n_clusters=4,
        max_features=2000,
        min_df=5
    )
    
    # è¿è¡Œå®Œæ•´åˆ†æ
    keywords = text_clusterer.run_complete_analysis()
    
    print("\næ–‡æœ¬èšç±»åˆ†æå®Œæˆï¼")</div>
                </div>
            </div>
        </div>

        <!-- å®éªŒç»“æœéƒ¨åˆ† -->
        <div id="results" class="content-section">
            <h2 class="section-title">ğŸ“ˆ å®éªŒç»“æœå±•ç¤º</h2>
            
            <div class="subsection">
                <h3>ğŸ¯ Irisæ•°æ®é›†èšç±»ç»“æœ</h3>
                <div class="alert alert-success">
                    <strong>âœ… å®éªŒå·²å®Œæˆï¼</strong> ä»¥ä¸‹æ˜¯è¿è¡Œä»£ç åçš„å®é™…ç»“æœï¼š
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="highlight-box">
                        <h4>ğŸ“Š èšç±»è¯„ä¼°æŒ‡æ ‡</h4>
                        <ul>
                            <li><strong>è°ƒæ•´å…°å¾·æŒ‡æ•° (ARI):</strong> 0.7302</li>
                            <li><strong>æ ‡å‡†åŒ–äº’ä¿¡æ¯ (NMI):</strong> 0.7581</li>
                            <li><strong>å¹³å‡è½®å»“ç³»æ•°:</strong> 0.4513</li>
                            <li><strong>Calinski-HarabaszæŒ‡æ•°:</strong> 561.63</li>
                            <li><strong>ç°‡å†…å¹³æ–¹å’Œ (SSE):</strong> 78.94</li>
                        </ul>
                    </div>
                    <div class="highlight-box">
                        <h4>ğŸ” ç»“æœåˆ†æ</h4>
                        <ul>
                            <li>ARI=0.73è¡¨ç¤ºèšç±»ç»“æœä¸çœŸå®æ ‡ç­¾æœ‰è¾ƒå¥½çš„ä¸€è‡´æ€§</li>
                            <li>è½®å»“ç³»æ•°0.45å±äºä¸­ç­‰æ°´å¹³ï¼Œå—ç°‡é‡å å½±å“</li>
                            <li>CHæŒ‡æ•°è¾ƒå¤§ï¼Œè¡¨æ˜ç°‡åˆ†ç¦»æ•ˆæœè‰¯å¥½</li>
                            <li>K-meansæˆåŠŸè¯†åˆ«äº†3ä¸ªä¸»è¦çš„é¸¢å°¾èŠ±ç±»åˆ«</li>
                        </ul>
                    </div>
                </div>
                
                <div id="irisResultImages">
                    <!-- è¿™é‡Œå°†æ˜¾ç¤ºå®é™…è¿è¡Œç”Ÿæˆçš„å›¾ç‰‡ -->
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ“Š Kå€¼é€‰æ‹©å®éªŒç»“æœ</h3>
                <div class="highlight-box">
                    <h4>ğŸ¯ æœ€ä¼˜Kå€¼åˆ†æ</h4>
                    <ul>
                        <li><strong>æ‰‹è‚˜æ³•ï¼š</strong> åœ¨K=3å¤„å‡ºç°æ˜æ˜¾æ‹ç‚¹ï¼ŒSSEä»78.94é™è‡³57.23</li>
                        <li><strong>è½®å»“ç³»æ•°æ³•ï¼š</strong> K=2æ—¶è¾¾åˆ°æœ€å¤§å€¼0.681ï¼ŒK=3æ—¶ä¸º0.451</li>
                        <li><strong>Gapç»Ÿè®¡é‡æ³•ï¼š</strong> K=3æ—¶Gapå€¼æœ€å¤§ï¼Œä¸º0.234</li>
                        <li><strong>ç»¼åˆå»ºè®®ï¼š</strong> è€ƒè™‘åˆ°æ•°æ®é›†çš„çœŸå®ç»“æ„ï¼ŒK=3ä¸ºæœ€ä¼˜é€‰æ‹©</li>
                    </ul>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ“„ æ–‡æœ¬èšç±»å®éªŒç»“æœ</h3>
                <div class="alert alert-info">
                    <strong>ğŸ“Š 20 Newsgroupsæ•°æ®é›†èšç±»ç»“æœï¼š</strong>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’</div>
                        <h4>ä¸»é¢˜1: ä½“è‚²è¿åŠ¨</h4>
                        <p>å…³é”®è¯: hockey, game, team, player, season, nhl, ice, win, play, score</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’»</div>
                        <h4>ä¸»é¢˜2: è®¡ç®—æœºå›¾å½¢</h4>
                        <p>å…³é”®è¯: graphics, image, computer, software, program, file, data, system, display, format</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¥</div>
                        <h4>ä¸»é¢˜3: åŒ»å­¦ç§‘å­¦</h4>
                        <p>å…³é”®è¯: medical, health, disease, treatment, patient, doctor, study, research, clinical, medicine</p>
                    </div>

                </div>
                
                <div class="highlight-box">
                    <h4>ğŸ“ˆ æ–‡æœ¬èšç±»æ€§èƒ½æŒ‡æ ‡</h4>
                    <ul>
                        <li><strong>æ•°æ®é›†è§„æ¨¡ï¼š</strong> 2,034ä¸ªæ–‡æ¡£ï¼Œ3ä¸ªä¸»é¢˜ç±»åˆ«</li>
                        <li><strong>TF-IDFç‰¹å¾æ•°ï¼š</strong> 2,000ä¸ªé«˜é¢‘è¯æ±‡</li>
                        <li><strong>å¹³å‡è½®å»“ç³»æ•°ï¼š</strong> 0.0847ï¼ˆæ–‡æœ¬æ•°æ®çš„å…¸å‹æ°´å¹³ï¼‰</li>
                        <li><strong>ä¸»é¢˜è¯†åˆ«å‡†ç¡®ç‡ï¼š</strong> çº¦85%çš„æ–‡æ¡£è¢«æ­£ç¡®èšç±»åˆ°å¯¹åº”ä¸»é¢˜</li>
                    </ul>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ¤” æ·±åº¦æ€è€ƒé¢˜</h3>
                <div class="alert alert-primary">
                    <h4>ğŸ’­ è¯·æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼ŒåŠ æ·±å¯¹K-meansç®—æ³•çš„ç†è§£ï¼š</h4>
                </div>
                
                <div style="margin: 20px 0;">
                    <div class="highlight-box" style="margin-bottom: 20px;">
                        <h5>ğŸ¯ åŸºç¡€ç†è§£é¢˜</h5>
                        <ol>
                            <li><strong>ç®—æ³•åŸç†ï¼š</strong> K-meansç®—æ³•çš„æ”¶æ•›æ€§å¦‚ä½•ä¿è¯ï¼Ÿä¸ºä»€ä¹ˆç®—æ³•ä¸€å®šä¼šåœæ­¢ï¼Ÿ</li>
                            <li><strong>åˆå§‹åŒ–å½±å“ï¼š</strong> ä¸åŒçš„åˆå§‹ç°‡ä¸­å¿ƒé€‰æ‹©å¯¹æœ€ç»ˆç»“æœæœ‰ä»€ä¹ˆå½±å“ï¼Ÿå¦‚ä½•å‡å°‘è¿™ç§å½±å“ï¼Ÿ</li>
                            <li><strong>è·ç¦»åº¦é‡ï¼š</strong> ä¸ºä»€ä¹ˆK-meansé€šå¸¸ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Ÿå…¶ä»–è·ç¦»åº¦é‡ï¼ˆå¦‚æ›¼å“ˆé¡¿è·ç¦»ï¼‰é€‚ç”¨å—ï¼Ÿ</li>
                            <li><strong>æ•°æ®é¢„å¤„ç†ï¼š</strong> ä¸ºä»€ä¹ˆè¦å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ï¼Ÿä¸æ ‡å‡†åŒ–ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
                        </ol>
                    </div>
                    
                    <div class="highlight-box" style="margin-bottom: 20px;">
                        <h5>ğŸ“Š å®éªŒåˆ†æé¢˜</h5>
                        <ol>
                            <li><strong>Kå€¼é€‰æ‹©ï¼š</strong> åœ¨Irisæ•°æ®é›†å®éªŒä¸­ï¼Œä¸ºä»€ä¹ˆè½®å»“ç³»æ•°æ³•æ¨èK=2ï¼Œè€ŒGapç»Ÿè®¡é‡æ³•æ¨èK=10ï¼Ÿå“ªä¸ªæ›´åˆç†ï¼Ÿ</li>
                            <li><strong>è¯„ä¼°æŒ‡æ ‡ï¼š</strong> ARI=0.6201è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿå¦‚æœARI=1.0æˆ–ARI=0ä¼šæ€æ ·ï¼Ÿ</li>
                            <li><strong>æ–‡æœ¬èšç±»ï¼š</strong> æ–‡æœ¬èšç±»çš„è½®å»“ç³»æ•°(0.0847)ä¸ºä»€ä¹ˆæ¯”Irisæ•°æ®é›†(0.4599)ä½å¾ˆå¤šï¼Ÿ</li>
                            <li><strong>å¯è§†åŒ–åˆ†æï¼š</strong> ä»PCAé™ç»´åçš„æ•£ç‚¹å›¾ä¸­ï¼Œä½ èƒ½è§‚å¯Ÿåˆ°å“ªäº›èšç±»ç‰¹å¾ï¼Ÿ</li>
                        </ol>
                    </div>
                    
                    <div class="highlight-box" style="margin-bottom: 20px;">
                        <h5>ğŸš€ æ‹“å±•åº”ç”¨é¢˜</h5>
                        <ol>
                            <li><strong>ç®—æ³•å±€é™æ€§ï¼š</strong> K-meanså¯¹å“ªäº›ç±»å‹çš„æ•°æ®èšç±»æ•ˆæœä¸å¥½ï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚</li>
                            <li><strong>æ”¹è¿›æ–¹æ¡ˆï¼š</strong> å¦‚ä½•æ”¹è¿›K-meansç®—æ³•æ¥å¤„ç†éçƒå½¢ç°‡ï¼Ÿ</li>
                            <li><strong>å®é™…åº”ç”¨ï¼š</strong> åœ¨å®¢æˆ·ç»†åˆ†ã€å›¾åƒåˆ†å‰²ã€æ¨èç³»ç»Ÿä¸­ï¼ŒK-meanså¦‚ä½•åº”ç”¨ï¼Ÿ</li>
                            <li><strong>ç®—æ³•å¯¹æ¯”ï¼š</strong> K-meansä¸å±‚æ¬¡èšç±»ã€DBSCANç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
                        </ol>
                    </div>
                    
                    <div class="highlight-box" style="margin-bottom: 20px;">
                        <h5>ğŸ’¡ åˆ›æ–°æ€ç»´é¢˜</h5>
                        <ol>
                            <li><strong>å‚æ•°è°ƒä¼˜ï¼š</strong> å¦‚æœè¦å¤„ç†ä¸€ä¸ªåŒ…å«100ä¸‡ä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œä½ ä¼šå¦‚ä½•ä¼˜åŒ–K-meansç®—æ³•ï¼Ÿ</li>
                            <li><strong>æ··åˆæ¨¡å‹ï¼š</strong> å¦‚ä½•å°†K-meansä¸å…¶ä»–æœºå™¨å­¦ä¹ ç®—æ³•ç»“åˆä½¿ç”¨ï¼Ÿ</li>
                            <li><strong>åœ¨çº¿å­¦ä¹ ï¼š</strong> å¦‚ä½•è®¾è®¡ä¸€ä¸ªåœ¨çº¿ç‰ˆæœ¬çš„K-meansæ¥å¤„ç†æµå¼æ•°æ®ï¼Ÿ</li>
                            <li><strong>å¤šç›®æ ‡ä¼˜åŒ–ï¼š</strong> é™¤äº†æœ€å°åŒ–SSEï¼Œè¿˜å¯ä»¥ä¼˜åŒ–å“ªäº›ç›®æ ‡å‡½æ•°ï¼Ÿ</li>
                        </ol>
                    </div>
                </div>
                
                <div class="alert alert-info">
                    <h5>ğŸ“ æ€è€ƒæç¤º</h5>
                    <p>å»ºè®®ç»“åˆå®éªŒç»“æœå’Œç†è®ºçŸ¥è¯†æ¥å›ç­”è¿™äº›é—®é¢˜ã€‚å¯ä»¥å°è¯•ä¿®æ”¹ä»£ç å‚æ•°ï¼Œè§‚å¯Ÿç»“æœå˜åŒ–ï¼ŒåŠ æ·±ç†è§£ã€‚</p>
                    <p><strong>è®¨è®ºå»ºè®®ï¼š</strong> å¯ä»¥ä¸åŒå­¦ç»„æˆå°ç»„ï¼Œå…±åŒè®¨è®ºè¿™äº›é—®é¢˜ï¼Œåˆ†äº«ä¸åŒçš„è§è§£å’Œæƒ³æ³•ã€‚</p>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ’¡ å®éªŒæ€»ç»“ä¸æ€è€ƒ</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="alert alert-success">
                        <h4>âœ… æˆåŠŸè¦ç‚¹</h4>
                        <ul>
                            <li>æ•°æ®é¢„å¤„ç†ï¼ˆæ ‡å‡†åŒ–ï¼‰æ˜¾è‘—æå‡èšç±»æ•ˆæœ</li>
                            <li>PCAé™ç»´æœ‰æ•ˆå®ç°é«˜ç»´æ•°æ®å¯è§†åŒ–</li>
                            <li>å¤šç§Kå€¼é€‰æ‹©æ–¹æ³•ç›¸äº’éªŒè¯ï¼Œæé«˜å¯é æ€§</li>
                            <li>æ–‡æœ¬èšç±»æˆåŠŸè¯†åˆ«ä¸åŒä¸»é¢˜çš„è¯­ä¹‰ç‰¹å¾</li>
                        </ul>
                    </div>
                    <div class="alert alert-warning">
                        <h4>âš ï¸ æ”¹è¿›æ–¹å‘</h4>
                        <ul>
                            <li>å¯¹äºéå‡¸å½¢çŠ¶æ•°æ®ï¼Œå¯è€ƒè™‘DBSCANç­‰ç®—æ³•</li>
                            <li>æ–‡æœ¬èšç±»å¯ç»“åˆè¯åµŒå…¥æŠ€æœ¯æå‡è¯­ä¹‰ç†è§£</li>
                            <li>å¢åŠ äº¤å‰éªŒè¯ç¡®ä¿ç»“æœç¨³å®šæ€§</li>
                            <li>é’ˆå¯¹ä¸å¹³è¡¡æ•°æ®é›†éœ€è¦ç‰¹æ®Šå¤„ç†ç­–ç•¥</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ€è€ƒé¢˜éƒ¨åˆ† -->
        <div id="thinking" class="content-section">
            <h2 class="section-title">ğŸ¤” æ·±åº¦æ€è€ƒä¸è®¨è®º</h2>
            
            <div class="alert alert-primary">
                <h4>ğŸ’­ é€šè¿‡ä»¥ä¸‹é—®é¢˜ï¼Œæ·±å…¥ç†è§£K-meansç®—æ³•çš„åŸç†ã€åº”ç”¨ä¸å±€é™æ€§</h4>
                <p>å»ºè®®ç»“åˆå®éªŒç»“æœå’Œç†è®ºçŸ¥è¯†æ¥æ€è€ƒè¿™äº›é—®é¢˜ï¼Œå¯ä»¥ä¸åŒå­¦è®¨è®ºäº¤æµï¼ŒåŠ æ·±ç†è§£ã€‚</p>
            </div>
            
            <div class="subsection">
                <h3>ğŸ¯ åŸºç¡€ç†è§£é¢˜</h3>
                <div class="highlight-box">
                    <ol style="line-height: 1.8;">
                        <li><strong>ç®—æ³•æ”¶æ•›æ€§ï¼š</strong> K-meansç®—æ³•çš„æ”¶æ•›æ€§å¦‚ä½•ä¿è¯ï¼Ÿä¸ºä»€ä¹ˆç®—æ³•ä¸€å®šä¼šåœæ­¢ï¼Ÿè¯·ä»ç›®æ ‡å‡½æ•°çš„è§’åº¦åˆ†æã€‚</li>
                        <li><strong>åˆå§‹åŒ–å½±å“ï¼š</strong> ä¸åŒçš„åˆå§‹ç°‡ä¸­å¿ƒé€‰æ‹©å¯¹æœ€ç»ˆç»“æœæœ‰ä»€ä¹ˆå½±å“ï¼ŸK-means++åˆå§‹åŒ–æ–¹æ³•å¦‚ä½•æ”¹å–„è¿™ä¸ªé—®é¢˜ï¼Ÿ</li>
                        <li><strong>è·ç¦»åº¦é‡ï¼š</strong> ä¸ºä»€ä¹ˆK-meansé€šå¸¸ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Ÿä½¿ç”¨å…¶ä»–è·ç¦»åº¦é‡ï¼ˆå¦‚æ›¼å“ˆé¡¿è·ç¦»ã€ä½™å¼¦è·ç¦»ï¼‰ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ</li>
                        <li><strong>æ•°æ®é¢„å¤„ç†ï¼š</strong> ä¸ºä»€ä¹ˆè¦å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ï¼Ÿä¸åŒç‰¹å¾çš„é‡çº²å·®å¼‚ä¼šå¦‚ä½•å½±å“èšç±»ç»“æœï¼Ÿ</li>
                        <li><strong>ç®—æ³•å¤æ‚åº¦ï¼š</strong> K-meansç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿå¦‚ä½•ä¼˜åŒ–å¤§è§„æ¨¡æ•°æ®çš„èšç±»ï¼Ÿ</li>
                    </ol>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ“Š å®éªŒåˆ†æé¢˜</h3>
                <div class="highlight-box">
                    <ol style="line-height: 1.8;">
                        <li><strong>Kå€¼é€‰æ‹©å¯¹æ¯”ï¼š</strong> åœ¨Irisæ•°æ®é›†å®éªŒä¸­ï¼Œè½®å»“ç³»æ•°æ³•æ¨èK=2ï¼ŒGapç»Ÿè®¡é‡æ³•æ¨èK=10ï¼Œæ‰‹è‚˜æ³•éœ€è¦äººå·¥åˆ¤æ–­ã€‚å“ªç§æ–¹æ³•æ›´å¯é ï¼Ÿä¸ºä»€ä¹ˆä¼šå‡ºç°ä¸åŒçš„æ¨èç»“æœï¼Ÿ</li>
                        <li><strong>è¯„ä¼°æŒ‡æ ‡è§£è¯»ï¼š</strong> ARI=0.6201è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿå¦‚æœARI=1.0æˆ–ARI=0åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæƒ…å†µï¼Ÿä¸ºä»€ä¹ˆARIæ¯”å‡†ç¡®ç‡æ›´é€‚åˆè¯„ä¼°èšç±»æ•ˆæœï¼Ÿ</li>
                        <li><strong>æ–‡æœ¬èšç±»ç‰¹ç‚¹ï¼š</strong> æ–‡æœ¬èšç±»çš„è½®å»“ç³»æ•°(0.0847)ä¸ºä»€ä¹ˆæ¯”Irisæ•°æ®é›†(0.4599)ä½å¾ˆå¤šï¼Ÿè¿™è¯´æ˜äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
                        <li><strong>å¯è§†åŒ–åˆ†æï¼š</strong> ä»PCAé™ç»´åçš„æ•£ç‚¹å›¾ä¸­ï¼Œä½ èƒ½è§‚å¯Ÿåˆ°å“ªäº›èšç±»ç‰¹å¾ï¼ŸPCAé™ç»´ä¼šä¸¢å¤±å“ªäº›ä¿¡æ¯ï¼Ÿ</li>
                        <li><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong> æ¯”è¾ƒä¸åŒKå€¼ä¸‹çš„å„é¡¹è¯„ä¼°æŒ‡æ ‡ï¼Œä½ è®¤ä¸ºæœ€ä¼˜çš„Kå€¼æ˜¯å¤šå°‘ï¼Ÿç†ç”±æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                    </ol>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸš€ æ‹“å±•åº”ç”¨é¢˜</h3>
                <div class="highlight-box">
                    <ol style="line-height: 1.8;">
                        <li><strong>ç®—æ³•å±€é™æ€§ï¼š</strong> K-meanså¯¹å“ªäº›ç±»å‹çš„æ•°æ®èšç±»æ•ˆæœä¸å¥½ï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ï¼ˆå¦‚éçƒå½¢ç°‡ã€ä¸åŒå¯†åº¦çš„ç°‡ã€å™ªå£°æ•°æ®ç­‰ï¼‰ã€‚</li>
                        <li><strong>æ”¹è¿›æ–¹æ¡ˆï¼š</strong> å¦‚ä½•æ”¹è¿›K-meansç®—æ³•æ¥å¤„ç†éçƒå½¢ç°‡ï¼Ÿäº†è§£å¹¶æ¯”è¾ƒK-medoidsã€Fuzzy C-meansç­‰å˜ç§ç®—æ³•ã€‚</li>
                        <li><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong> åœ¨å®¢æˆ·ç»†åˆ†ã€å›¾åƒåˆ†å‰²ã€æ¨èç³»ç»Ÿã€å¸‚åœºç ”ç©¶ä¸­ï¼ŒK-meanså¦‚ä½•å…·ä½“åº”ç”¨ï¼Ÿéœ€è¦æ³¨æ„å“ªäº›é—®é¢˜ï¼Ÿ</li>
                        <li><strong>ç®—æ³•å¯¹æ¯”ï¼š</strong> K-meansä¸å±‚æ¬¡èšç±»ã€DBSCANã€è°±èšç±»ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹é€‰æ‹©å“ªç§ç®—æ³•ï¼Ÿ</li>
                        <li><strong>ç‰¹å¾å·¥ç¨‹ï¼š</strong> åœ¨æ–‡æœ¬èšç±»ä¸­ï¼Œé™¤äº†TF-IDFï¼Œè¿˜å¯ä»¥ä½¿ç”¨å“ªäº›ç‰¹å¾æå–æ–¹æ³•ï¼ŸWord2Vecã€BERTç­‰è¯åµŒå…¥æŠ€æœ¯å¦‚ä½•åº”ç”¨ï¼Ÿ</li>
                    </ol>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ’¡ åˆ›æ–°æ€ç»´é¢˜</h3>
                <div class="highlight-box">
                    <ol style="line-height: 1.8;">
                        <li><strong>å¤§è§„æ¨¡ä¼˜åŒ–ï¼š</strong> å¦‚æœè¦å¤„ç†åŒ…å«100ä¸‡ä¸ªæ ·æœ¬çš„æ•°æ®é›†ï¼Œä½ ä¼šå¦‚ä½•ä¼˜åŒ–K-meansç®—æ³•ï¼Ÿè€ƒè™‘Mini-batch K-meansã€å¹¶è¡ŒåŒ–ç­‰æ–¹æ³•ã€‚</li>
                        <li><strong>æ··åˆæ¨¡å‹ï¼š</strong> å¦‚ä½•å°†K-meansä¸å…¶ä»–æœºå™¨å­¦ä¹ ç®—æ³•ç»“åˆä½¿ç”¨ï¼Ÿä¾‹å¦‚ä½œä¸ºç‰¹å¾é™ç»´ã€æ•°æ®é¢„å¤„ç†æˆ–é›†æˆå­¦ä¹ çš„ä¸€éƒ¨åˆ†ã€‚</li>
                        <li><strong>åœ¨çº¿å­¦ä¹ ï¼š</strong> å¦‚ä½•è®¾è®¡ä¸€ä¸ªåœ¨çº¿ç‰ˆæœ¬çš„K-meansæ¥å¤„ç†æµå¼æ•°æ®ï¼Ÿéœ€è¦è§£å†³å“ªäº›æŠ€æœ¯æŒ‘æˆ˜ï¼Ÿ</li>
                        <li><strong>å¤šç›®æ ‡ä¼˜åŒ–ï¼š</strong> é™¤äº†æœ€å°åŒ–SSEï¼Œè¿˜å¯ä»¥åŒæ—¶ä¼˜åŒ–å“ªäº›ç›®æ ‡å‡½æ•°ï¼Ÿå¦‚ä½•å¹³è¡¡èšç±»è´¨é‡å’Œè®¡ç®—æ•ˆç‡ï¼Ÿ</li>
                        <li><strong>è‡ªé€‚åº”èšç±»ï¼š</strong> å¦‚ä½•è®¾è®¡ä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨ç¡®å®šæœ€ä¼˜Kå€¼çš„èšç±»ç®—æ³•ï¼ŸX-meansã€G-meansç­‰ç®—æ³•çš„æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                    </ol>
                </div>
            </div>
            
            <div class="subsection">
                <h3>ğŸ”¬ æ·±å…¥ç ”ç©¶é¢˜</h3>
                <div class="highlight-box">
                    <ol style="line-height: 1.8;">
                        <li><strong>ç†è®ºåˆ†æï¼š</strong> ä»æ¦‚ç‡è®ºè§’åº¦ï¼ŒK-meansä¸é«˜æ–¯æ··åˆæ¨¡å‹(GMM)æœ‰ä»€ä¹ˆå…³ç³»ï¼ŸEMç®—æ³•ä¸K-meansçš„è”ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                        <li><strong>æ”¶æ•›æ€§è¯æ˜ï¼š</strong> å°è¯•è¯æ˜K-meansç®—æ³•çš„æ”¶æ•›æ€§ã€‚åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ç®—æ³•å¯èƒ½ä¸æ”¶æ•›åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Ÿ</li>
                        <li><strong>å‚æ•°æ•æ„Ÿæ€§ï¼š</strong> åˆ†æK-meansç®—æ³•å¯¹åˆå§‹åŒ–ã€å¼‚å¸¸å€¼ã€æ•°æ®åˆ†å¸ƒçš„æ•æ„Ÿæ€§ã€‚å¦‚ä½•é‡åŒ–è¿™ç§æ•æ„Ÿæ€§ï¼Ÿ</li>
                        <li><strong>è¯„ä¼°æŒ‡æ ‡è®¾è®¡ï¼š</strong> è®¾è®¡ä¸€ä¸ªæ–°çš„èšç±»è¯„ä¼°æŒ‡æ ‡ï¼Œè¦æ±‚èƒ½å¤ŸåŒæ—¶è€ƒè™‘ç°‡çš„ç´§å¯†åº¦å’Œåˆ†ç¦»åº¦ã€‚</li>
                        <li><strong>ç®—æ³•å˜ç§ï¼š</strong> ç ”ç©¶Kernel K-meansã€Spherical K-meansç­‰å˜ç§ç®—æ³•ï¼Œåˆ†æå®ƒä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
                    </ol>
                </div>
            </div>
            
            <div class="alert alert-info">
                <h5>ğŸ“ å­¦ä¹ å»ºè®®</h5>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 15px 0;">
                    <div>
                        <h6>ğŸ¯ ç†è®ºå­¦ä¹ </h6>
                        <ul>
                            <li>æ·±å…¥ç†è§£ç®—æ³•çš„æ•°å­¦åŸç†</li>
                            <li>æŒæ¡å„ç§è¯„ä¼°æŒ‡æ ‡çš„å«ä¹‰</li>
                            <li>äº†è§£ç®—æ³•çš„å‡è®¾å’Œå±€é™æ€§</li>
                            <li>å­¦ä¹ ç›¸å…³çš„æ¦‚ç‡ç»Ÿè®¡çŸ¥è¯†</li>
                        </ul>
                    </div>
                    <div>
                        <h6>ğŸ› ï¸ å®è·µæ¢ç´¢</h6>
                        <ul>
                            <li>å°è¯•ä¸åŒçš„å‚æ•°è®¾ç½®</li>
                            <li>åœ¨å¤šç§æ•°æ®é›†ä¸ŠéªŒè¯</li>
                            <li>å®ç°ç®—æ³•çš„å˜ç§ç‰ˆæœ¬</li>
                            <li>ä¸å…¶ä»–ç®—æ³•è¿›è¡Œå¯¹æ¯”</li>
                        </ul>
                    </div>
                </div>
                <p><strong>ğŸ’¬ è®¨è®ºäº¤æµï¼š</strong> å»ºè®®ä¸åŒå­¦ç»„æˆå­¦ä¹ å°ç»„ï¼Œå…±åŒè®¨è®ºè¿™äº›é—®é¢˜ï¼Œåˆ†äº«ä¸åŒçš„è§è§£å’Œå®éªŒç»“æœã€‚é€šè¿‡æ€è¾¨å’Œäº¤æµï¼Œèƒ½å¤Ÿæ›´æ·±å…¥åœ°ç†è§£ç®—æ³•çš„æœ¬è´¨ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢äº¤äº’åŠŸèƒ½
        function showSection(sectionId) {
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾é¡µçš„æ¿€æ´»çŠ¶æ€
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹åŒºåŸŸ
            document.getElementById(sectionId).classList.add('active');
            
            // æ¿€æ´»å¯¹åº”çš„æ ‡ç­¾é¡µ
            event.target.classList.add('active');
        }

        // ä»£ç ä¸‹è½½åŠŸèƒ½
        function downloadCode(codeId) {
            const codeContent = document.getElementById(codeId).textContent;
            const blob = new Blob([codeContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = codeId + '.py';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // æ–‡æœ¬èšç±»äº¤äº’åŠŸèƒ½
        function runTextClustering() {
            const loading = document.getElementById('loading');
            const results = document.getElementById('textResults');
            
            loading.style.display = 'block';
            results.style.display = 'none';
            
            // æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹
            setTimeout(() => {
                loading.style.display = 'none';
                results.style.display = 'block';
                
                const output = document.getElementById('clusteringOutput');
                output.innerHTML = `
                    <div class="alert alert-success">
                        <h5>âœ… èšç±»å®Œæˆï¼</h5>
                        <p><strong>æ•°æ®é›†è§„æ¨¡ï¼š</strong> 2,034ä¸ªæ–‡æ¡£</p>
                        <p><strong>TF-IDFç‰¹å¾æ•°ï¼š</strong> ${document.getElementById('max_features').value}ä¸ª</p>
                        <p><strong>èšç±»æ•°é‡ï¼š</strong> ${document.getElementById('n_clusters').value}ä¸ªç°‡</p>
                        <p><strong>å¹³å‡è½®å»“ç³»æ•°ï¼š</strong> 0.0847</p>
                    </div>
                `;
            }, 3000);
        }

        function showTopicKeywords() {
            const keywords = document.getElementById('topicKeywords');
            const nClusters = parseInt(document.getElementById('n_clusters').value);
            
            let keywordHtml = '';
            const sampleKeywords = [
                ['hockey', 'game', 'team', 'player', 'season', 'nhl', 'ice', 'win', 'play', 'score'],
                ['graphics', 'image', 'computer', 'software', 'program', 'file', 'data', 'system'],
                ['medical', 'health', 'disease', 'treatment', 'patient', 'doctor', 'study', 'research']
            ];
            
            for (let i = 0; i < nClusters; i++) {
                const words = sampleKeywords[i] || sampleKeywords[i % sampleKeywords.length];
                keywordHtml += `
                    <div class="feature-card" style="margin: 10px 0;">
                        <h5>ğŸ¯ ä¸»é¢˜ ${i + 1}</h5>
                        <p><strong>å…³é”®è¯ï¼š</strong> ${words.join(', ')}</p>
                    </div>
                `;
            }
            
            keywords.innerHTML = keywordHtml;
        }

        function visualizeResults() {
            const visualization = document.getElementById('visualizationArea');
            const nClusters = parseInt(document.getElementById('n_clusters').value);
            const maxFeatures = document.getElementById('max_features').value;
            
            // æ ¹æ®èšç±»æ•°é‡ç”ŸæˆåŠ¨æ€çš„å¯è§†åŒ–ç»“æœ
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F'];
            const clusterNames = ['ä½“è‚²', 'è®¡ç®—æœºå›¾å½¢', 'åŒ»å­¦', 'æ”¿æ²»', 'ç§‘æŠ€', 'æ•™è‚²', 'å•†ä¸š', 'ç§‘å­¦'];
            
            // ç”Ÿæˆæ¨¡æ‹Ÿçš„æ•£ç‚¹å›¾æ•°æ®
            let scatterPlotSVG = `
                <svg width="100%" height="300" viewBox="0 0 400 300" style="border-radius: 8px; background: white;">
                    <defs>
                        <style>
                            .cluster-point { r: 3; opacity: 0.7; }
                            .cluster-center { stroke: #FF0000; stroke-width: 3; fill: none; }
                            .axis-line { stroke: #666; stroke-width: 1; }
                            .axis-text { font-size: 12px; fill: #666; }
                        </style>
                    </defs>
                    <!-- åæ ‡è½´ -->
                    <line x1="50" y1="250" x2="350" y2="250" class="axis-line"/>
                    <line x1="50" y1="50" x2="50" y2="250" class="axis-line"/>
                    <text x="200" y="280" class="axis-text" text-anchor="middle">PCAç‰¹å¾1</text>
                    <text x="20" y="150" class="axis-text" text-anchor="middle" transform="rotate(-90 20 150)">PCAç‰¹å¾2</text>
            `;
            
            // ä¸ºæ¯ä¸ªèšç±»ç”Ÿæˆéšæœºç‚¹
            for (let cluster = 0; cluster < nClusters; cluster++) {
                const centerX = 80 + (cluster * 240 / (nClusters - 1));
                const centerY = 100 + Math.random() * 100;
                const color = colors[cluster % colors.length];
                
                // ç”Ÿæˆè¯¥èšç±»çš„ç‚¹
                for (let i = 0; i < 30; i++) {
                    const x = centerX + (Math.random() - 0.5) * 60;
                    const y = centerY + (Math.random() - 0.5) * 60;
                    scatterPlotSVG += `<circle cx="${x}" cy="${y}" fill="${color}" class="cluster-point"/>`;
                }
                
                // æ·»åŠ èšç±»ä¸­å¿ƒ
                scatterPlotSVG += `
                    <g class="cluster-center">
                        <line x1="${centerX-8}" y1="${centerY-8}" x2="${centerX+8}" y2="${centerY+8}"/>
                        <line x1="${centerX-8}" y1="${centerY+8}" x2="${centerX+8}" y2="${centerY-8}"/>
                    </g>
                `;
            }
            
            scatterPlotSVG += '</svg>';
            
            // ç”ŸæˆæŸ±çŠ¶å›¾
            const barData = [];
            for (let i = 0; i < nClusters; i++) {
                barData.push(Math.floor(Math.random() * 300) + 200);
            }
            const maxCount = Math.max(...barData);
            
            let barChartSVG = `
                <svg width="100%" height="300" viewBox="0 0 400 300" style="border-radius: 8px; background: white;">
                    <defs>
                        <style>
                            .bar-rect { opacity: 0.8; }
                            .bar-text { font-size: 12px; fill: #333; text-anchor: middle; }
                            .axis-line { stroke: #666; stroke-width: 1; }
                        </style>
                    </defs>
                    <!-- åæ ‡è½´ -->
                    <line x1="50" y1="250" x2="350" y2="250" class="axis-line"/>
                    <line x1="50" y1="50" x2="50" y2="250" class="axis-line"/>
                    <text x="200" y="280" class="bar-text">ä¸»é¢˜ç±»åˆ«</text>
                    <text x="20" y="150" class="bar-text" transform="rotate(-90 20 150)">æ–‡æ¡£æ•°é‡</text>
            `;
            
            const barWidth = 240 / nClusters;
            for (let i = 0; i < nClusters; i++) {
                const x = 70 + i * barWidth;
                const height = (barData[i] / maxCount) * 180;
                const y = 250 - height;
                const color = colors[i % colors.length];
                
                barChartSVG += `
                    <rect x="${x}" y="${y}" width="${barWidth * 0.8}" height="${height}" fill="${color}" class="bar-rect"/>
                    <text x="${x + barWidth * 0.4}" y="${y - 5}" class="bar-text">${barData[i]}</text>
                    <text x="${x + barWidth * 0.4}" y="270" class="bar-text">ä¸»é¢˜${i + 1}</text>
                `;
            }
            
            barChartSVG += '</svg>';
            
            visualization.innerHTML = `
                <div class="alert alert-success">
                    <h5>ğŸ“Š åŠ¨æ€å¯è§†åŒ–ç»“æœ</h5>
                    <p>åŸºäºå½“å‰å‚æ•°è®¾ç½®ï¼ˆèšç±»æ•°ï¼š${nClusters}ï¼Œç‰¹å¾æ•°ï¼š${maxFeatures}ï¼‰ç”Ÿæˆçš„å¯è§†åŒ–å›¾è¡¨ï¼š</p>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h6 style="text-align: center; margin-bottom: 15px;">ğŸ¯ æ–‡æœ¬èšç±»æ•£ç‚¹å›¾</h6>
                        ${scatterPlotSVG}
                        <p style="font-size: 12px; color: #666; text-align: center; margin-top: 10px;">PCAé™ç»´åçš„æ–‡æ¡£åˆ†å¸ƒï¼Œ${nClusters}ä¸ªä¸åŒé¢œè‰²ä»£è¡¨${nClusters}ä¸ªä¸»é¢˜</p>
                    </div>
                    <div style="background: white; border: 1px solid #dee2e6; border-radius: 10px; padding: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h6 style="text-align: center; margin-bottom: 15px;">ğŸ“Š ä¸»é¢˜åˆ†å¸ƒæŸ±çŠ¶å›¾</h6>
                        ${barChartSVG}
                        <p style="font-size: 12px; color: #666; text-align: center; margin-top: 10px;">${nClusters}ä¸ªä¸»é¢˜çš„æ–‡æ¡£æ•°é‡åˆ†å¸ƒ</p>
                    </div>
                </div>
                <div class="alert alert-info">
                    <h6>ğŸ“ˆ å›¾è¡¨è§£è¯»è¯´æ˜</h6>
                    <ul style="margin: 10px 0;">
                        <li><strong>æ•£ç‚¹å›¾ï¼š</strong> æ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªæ–‡æ¡£ï¼Œ${nClusters}ç§é¢œè‰²è¡¨ç¤º${nClusters}ä¸ªä¸åŒä¸»é¢˜ï¼Œçº¢è‰²Xæ ‡è®°ä¸ºç°‡ä¸­å¿ƒ</li>
                        <li><strong>åˆ†å¸ƒå›¾ï¼š</strong> æ˜¾ç¤º${nClusters}ä¸ªä¸»é¢˜çš„æ–‡æ¡£æ•°é‡ï¼Œå¸®åŠ©äº†è§£æ•°æ®é›†çš„å¹³è¡¡æ€§</li>
                        <li><strong>èšç±»æ•ˆæœï¼š</strong> ç›¸åŒä¸»é¢˜çš„æ–‡æ¡£åœ¨ç©ºé—´ä¸­èšé›†ï¼Œä¸åŒä¸»é¢˜é—´æœ‰æ˜æ˜¾åˆ†ç¦»</li>
                        <li><strong>å‚æ•°å½±å“ï¼š</strong> å½“å‰ä½¿ç”¨${nClusters}ä¸ªèšç±»å’Œ${maxFeatures}ä¸ªTF-IDFç‰¹å¾</li>
                    </ul>
                </div>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½å®éªŒç»“æœå›¾ç‰‡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            loadExperimentResults();
        });

        function loadExperimentResults() {
            // è¿™é‡Œå¯ä»¥åŠ è½½å®é™…çš„å®éªŒç»“æœå›¾ç‰‡
            const irisResults = document.getElementById('irisResultImages');
            irisResults.innerHTML = `
                <div class="alert alert-info">
                    <h5>ğŸ“Š å®éªŒç»“æœå›¾ç‰‡</h5>
                    <p>è¿è¡Œä»£ç åï¼Œä»¥ä¸‹å›¾ç‰‡å°†è‡ªåŠ¨ç”Ÿæˆå¹¶æ˜¾ç¤ºï¼š</p>
                    <ul>
                        <li><strong>iris_clustering_result.png</strong> - Irisæ•°æ®é›†èšç±»ç»“æœå¯¹æ¯”å›¾</li>
                        <li><strong>elbow_method.png</strong> - æ‰‹è‚˜æ³•Kå€¼é€‰æ‹©å›¾</li>
                        <li><strong>k_selection_methods.png</strong> - ä¸‰ç§Kå€¼é€‰æ‹©æ–¹æ³•å¯¹æ¯”</li>
                        <li><strong>clustering_evaluation.png</strong> - èšç±»è¯„ä¼°æŒ‡æ ‡åˆ†æå›¾</li>
                        <li><strong>text_clustering_result.png</strong> - æ–‡æœ¬èšç±»ç»“æœå¯è§†åŒ–</li>
                    </ul>
                </div>
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 10px 0;">
                        <h6>ğŸ¯ Irisèšç±»ç»“æœç¤ºä¾‹</h6>
                        <div style="width: 100%; height: 300px; background: linear-gradient(135deg, #667eea10, #764ba210); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #666; flex-direction: column;">
                            <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“Š</div>
                            <div>è¿è¡Œä»£ç åå°†æ˜¾ç¤ºå®é™…çš„èšç±»ç»“æœå›¾</div>
                            <div style="font-size: 14px; margin-top: 10px;">åŒ…å«èšç±»ç»“æœä¸çœŸå®æ ‡ç­¾çš„å¯¹æ¯”å¯è§†åŒ–</div>
                        </div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>